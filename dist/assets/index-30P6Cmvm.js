const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/embedded-wallet-y3O_Yvpo.js","assets/if-defined-DW3XUec9.js","assets/index-iDUjIFgf.js","assets/index-9Zfslhbd.js","assets/index-OwSDp9xt.js","assets/index-BY1ISNXr.js","assets/index-B8ncgaCn.js","assets/index-BXancpto.js","assets/index-C2NpmlBi.js","assets/index-BsLAzez2.js","assets/email-Dk8pXOfT.js","assets/index-D_EZsvzT.js","assets/socials-OC_NnVlu.js","assets/index-BObbN3px.js","assets/index-D-PCSEOz.js","assets/index-CkyyGbE7.js","assets/index-HupeMt1f.js","assets/swaps-B-GlKZd3.js","assets/index-Dpqyoc3-.js","assets/index-DdwNzdCP.js","assets/index-FrHOFUtO.js","assets/send-hRfKU7xp.js","assets/index-hph9PYJ2.js","assets/receive-CPoTwI7g.js","assets/index-CwOsLpPN.js","assets/onramp-Cmms64h7.js","assets/index-B6GTL6mf.js","assets/index-BR-0PYGR.js","assets/transactions-BtwguzRM.js","assets/index-BhWgn4gz.js","assets/index-CA8dH4LM.js","assets/index-DvlJcmpZ.js","assets/w3m-modal-D3rZnghu.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function I0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function N_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var T_={exports:{}},x0={},P_={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vf=Symbol.for("react.element"),tN=Symbol.for("react.portal"),rN=Symbol.for("react.fragment"),nN=Symbol.for("react.strict_mode"),iN=Symbol.for("react.profiler"),sN=Symbol.for("react.provider"),oN=Symbol.for("react.context"),aN=Symbol.for("react.forward_ref"),cN=Symbol.for("react.suspense"),uN=Symbol.for("react.memo"),lN=Symbol.for("react.lazy"),m2=Symbol.iterator;function dN(t){return t===null||typeof t!="object"?null:(t=m2&&t[m2]||t["@@iterator"],typeof t=="function"?t:null)}var k_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R_=Object.assign,O_={};function Ou(t,e,r){this.props=t,this.context=e,this.refs=O_,this.updater=r||k_}Ou.prototype.isReactComponent={};Ou.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ou.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function D_(){}D_.prototype=Ou.prototype;function Xv(t,e,r){this.props=t,this.context=e,this.refs=O_,this.updater=r||k_}var e1=Xv.prototype=new D_;e1.constructor=Xv;R_(e1,Ou.prototype);e1.isPureReactComponent=!0;var y2=Array.isArray,M_=Object.prototype.hasOwnProperty,t1={current:null},$_={key:!0,ref:!0,__self:!0,__source:!0};function U_(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)M_.call(e,n)&&!$_.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:vf,type:t,key:s,ref:o,props:i,_owner:t1.current}}function fN(t,e){return{$$typeof:vf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function r1(t){return typeof t=="object"&&t!==null&&t.$$typeof===vf}function hN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var w2=/\/+/g;function Yg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hN(""+t.key):e.toString(36)}function Fh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vf:case tN:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Yg(o,0):n,y2(i)?(r="",t!=null&&(r=t.replace(w2,"$&/")+"/"),Fh(i,e,r,"",function(u){return u})):i!=null&&(r1(i)&&(i=fN(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(w2,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",y2(t))for(var a=0;a<t.length;a++){s=t[a];var c=n+Yg(s,a);o+=Fh(s,e,r,c,i)}else if(c=dN(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=n+Yg(s,a++),o+=Fh(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yf(t,e,r){if(t==null)return t;var n=[],i=0;return Fh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function pN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},Bh={transition:null},gN={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:Bh,ReactCurrentOwner:t1};function L_(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Yf,forEach:function(t,e,r){Yf(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Yf(t,function(){e++}),e},toArray:function(t){return Yf(t,function(e){return e})||[]},only:function(t){if(!r1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Ou;Ie.Fragment=rN;Ie.Profiler=iN;Ie.PureComponent=Xv;Ie.StrictMode=nN;Ie.Suspense=cN;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gN;Ie.act=L_;Ie.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=R_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=t1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)M_.call(e,c)&&!$_.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:vf,type:t.type,key:i,ref:s,props:n,_owner:o}};Ie.createContext=function(t){return t={$$typeof:oN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sN,_context:t},t.Consumer=t};Ie.createElement=U_;Ie.createFactory=function(t){var e=U_.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:aN,render:t}};Ie.isValidElement=r1;Ie.lazy=function(t){return{$$typeof:lN,_payload:{_status:-1,_result:t},_init:pN}};Ie.memo=function(t,e){return{$$typeof:uN,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=Bh.transition;Bh.transition={};try{t()}finally{Bh.transition=e}};Ie.unstable_act=L_;Ie.useCallback=function(t,e){return rn.current.useCallback(t,e)};Ie.useContext=function(t){return rn.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return rn.current.useEffect(t,e)};Ie.useId=function(){return rn.current.useId()};Ie.useImperativeHandle=function(t,e,r){return rn.current.useImperativeHandle(t,e,r)};Ie.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return rn.current.useMemo(t,e)};Ie.useReducer=function(t,e,r){return rn.current.useReducer(t,e,r)};Ie.useRef=function(t){return rn.current.useRef(t)};Ie.useState=function(t){return rn.current.useState(t)};Ie.useSyncExternalStore=function(t,e,r){return rn.current.useSyncExternalStore(t,e,r)};Ie.useTransition=function(){return rn.current.useTransition()};Ie.version="18.3.1";P_.exports=Ie;var Gc=P_.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN=Gc,yN=Symbol.for("react.element"),wN=Symbol.for("react.fragment"),vN=Object.prototype.hasOwnProperty,bN=mN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EN={key:!0,ref:!0,__self:!0,__source:!0};function F_(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)vN.call(e,n)&&!EN.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:yN,type:t,key:s,ref:o,props:i,_owner:bN.current}}x0.Fragment=wN;x0.jsx=F_;x0.jsxs=F_;T_.exports=x0;var As=T_.exports,B_={exports:{}},$n={},j_={exports:{}},z_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,S){var m=N.length;N.push(S);e:for(;0<m;){var T=m-1>>>1,j=N[T];if(0<i(j,S))N[T]=S,N[m]=j,m=T;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var S=N[0],m=N.pop();if(m!==S){N[0]=m;e:for(var T=0,j=N.length,H=j>>>1;T<H;){var z=2*(T+1)-1,Q=N[z],ae=z+1,le=N[ae];if(0>i(Q,m))ae<j&&0>i(le,Q)?(N[T]=le,N[ae]=m,T=ae):(N[T]=Q,N[z]=m,T=z);else if(ae<j&&0>i(le,m))N[T]=le,N[ae]=m,T=ae;else break e}}return S}function i(N,S){var m=N.sortIndex-S.sortIndex;return m!==0?m:N.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],l=1,d=null,f=3,h=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(N){for(var S=r(u);S!==null;){if(S.callback===null)n(u);else if(S.startTime<=N)n(u),S.sortIndex=S.expirationTime,e(c,S);else break;S=r(u)}}function P(N){if(y=!1,A(N),!g)if(r(c)!==null)g=!0,C(R);else{var S=r(u);S!==null&&k(P,S.startTime-N)}}function R(N,S){g=!1,y&&(y=!1,v(L),L=-1),h=!0;var m=f;try{for(A(S),d=r(c);d!==null&&(!(d.expirationTime>S)||N&&!x());){var T=d.callback;if(typeof T=="function"){d.callback=null,f=d.priorityLevel;var j=T(d.expirationTime<=S);S=t.unstable_now(),typeof j=="function"?d.callback=j:d===r(c)&&n(c),A(S)}else n(c);d=r(c)}if(d!==null)var H=!0;else{var z=r(u);z!==null&&k(P,z.startTime-S),H=!1}return H}finally{d=null,f=m,h=!1}}var D=!1,M=null,L=-1,$=5,F=-1;function x(){return!(t.unstable_now()-F<$)}function p(){if(M!==null){var N=t.unstable_now();F=N;var S=!0;try{S=M(!0,N)}finally{S?b():(D=!1,M=null)}}else D=!1}var b;if(typeof w=="function")b=function(){w(p)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,E=I.port2;I.port1.onmessage=p,b=function(){E.postMessage(null)}}else b=function(){_(p,0)};function C(N){M=N,D||(D=!0,b())}function k(N,S){L=_(function(){N(t.unstable_now())},S)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,C(R))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var S=3;break;default:S=f}var m=f;f=S;try{return N()}finally{f=m}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,S){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var m=f;f=N;try{return S()}finally{f=m}},t.unstable_scheduleCallback=function(N,S,m){var T=t.unstable_now();switch(typeof m=="object"&&m!==null?(m=m.delay,m=typeof m=="number"&&0<m?T+m:T):m=T,N){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=m+j,N={id:l++,callback:S,priorityLevel:N,startTime:m,expirationTime:j,sortIndex:-1},m>T?(N.sortIndex=m,e(u,N),r(c)===null&&N===r(u)&&(y?(v(L),L=-1):y=!0,k(P,m-T))):(N.sortIndex=j,e(c,N),g||h||(g=!0,C(R))),N},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(N){var S=f;return function(){var m=f;f=S;try{return N.apply(this,arguments)}finally{f=m}}}})(z_);j_.exports=z_;var AN=j_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN=Gc,Dn=AN;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H_=new Set,fd={};function Va(t,e){uu(t,e),uu(t+"Capture",e)}function uu(t,e){for(fd[t]=e,t=0;t<e.length;t++)H_.add(e[t])}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fy=Object.prototype.hasOwnProperty,_N=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v2={},b2={};function SN(t){return Fy.call(b2,t)?!0:Fy.call(v2,t)?!1:_N.test(t)?b2[t]=!0:(v2[t]=!0,!1)}function IN(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xN(t,e,r,n){if(e===null||typeof e>"u"||IN(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rr[t]=new nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rr[e]=new nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rr[t]=new nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rr[t]=new nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rr[t]=new nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rr[t]=new nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rr[t]=new nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rr[t]=new nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rr[t]=new nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var n1=/[\-:]([a-z])/g;function i1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(n1,i1);Rr[e]=new nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(n1,i1);Rr[e]=new nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(n1,i1);Rr[e]=new nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rr[t]=new nn(t,1,!1,t.toLowerCase(),null,!1,!1)});Rr.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rr[t]=new nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function s1(t,e,r,n){var i=Rr.hasOwnProperty(e)?Rr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xN(e,r,i,n)&&(r=null),n||i===null?SN(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var qs=CN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jf=Symbol.for("react.element"),Rc=Symbol.for("react.portal"),Oc=Symbol.for("react.fragment"),o1=Symbol.for("react.strict_mode"),By=Symbol.for("react.profiler"),q_=Symbol.for("react.provider"),W_=Symbol.for("react.context"),a1=Symbol.for("react.forward_ref"),jy=Symbol.for("react.suspense"),zy=Symbol.for("react.suspense_list"),c1=Symbol.for("react.memo"),no=Symbol.for("react.lazy"),V_=Symbol.for("react.offscreen"),E2=Symbol.iterator;function sl(t){return t===null||typeof t!="object"?null:(t=E2&&t[E2]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,Jg;function $l(t){if(Jg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Jg=e&&e[1]||""}return`
`+Jg+t}var Zg=!1;function Xg(t,e){if(!t||Zg)return"";Zg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Zg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?$l(t):""}function NN(t){switch(t.tag){case 5:return $l(t.type);case 16:return $l("Lazy");case 13:return $l("Suspense");case 19:return $l("SuspenseList");case 0:case 2:case 15:return t=Xg(t.type,!1),t;case 11:return t=Xg(t.type.render,!1),t;case 1:return t=Xg(t.type,!0),t;default:return""}}function Hy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oc:return"Fragment";case Rc:return"Portal";case By:return"Profiler";case o1:return"StrictMode";case jy:return"Suspense";case zy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W_:return(t.displayName||"Context")+".Consumer";case q_:return(t._context.displayName||"Context")+".Provider";case a1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case c1:return e=t.displayName||null,e!==null?e:Hy(t.type)||"Memo";case no:e=t._payload,t=t._init;try{return Hy(t(e))}catch{}}return null}function TN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hy(e);case 8:return e===o1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function K_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PN(t){var e=K_(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zf(t){t._valueTracker||(t._valueTracker=PN(t))}function G_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=K_(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function gp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qy(t,e){var r=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function A2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Mo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Q_(t,e){e=e.checked,e!=null&&s1(t,"checked",e,!1)}function Wy(t,e){Q_(t,e);var r=Mo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vy(t,e.type,r):e.hasOwnProperty("defaultValue")&&Vy(t,e.type,Mo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function C2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Vy(t,e,r){(e!=="number"||gp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ul=Array.isArray;function Qc(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Mo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ky(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(W(92));if(Ul(r)){if(1<r.length)throw Error(W(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Mo(r)}}function Y_(t,e){var r=Mo(e.value),n=Mo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function S2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function J_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?J_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xf,Z_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xf=Xf||document.createElement("div"),Xf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kN=["Webkit","ms","Moz","O"];Object.keys(Kl).forEach(function(t){kN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Kl[e]=Kl[t]})});function X_(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Kl.hasOwnProperty(t)&&Kl[t]?(""+e).trim():e+"px"}function eS(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=X_(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var RN=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qy(t,e){if(e){if(RN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Yy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jy=null;function u1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zy=null,Yc=null,Jc=null;function I2(t){if(t=Af(t)){if(typeof Zy!="function")throw Error(W(280));var e=t.stateNode;e&&(e=R0(e),Zy(t.stateNode,t.type,e))}}function tS(t){Yc?Jc?Jc.push(t):Jc=[t]:Yc=t}function rS(){if(Yc){var t=Yc,e=Jc;if(Jc=Yc=null,I2(t),e)for(t=0;t<e.length;t++)I2(e[t])}}function nS(t,e){return t(e)}function iS(){}var em=!1;function sS(t,e,r){if(em)return t(e,r);em=!0;try{return nS(t,e,r)}finally{em=!1,(Yc!==null||Jc!==null)&&(iS(),rS())}}function pd(t,e){var r=t.stateNode;if(r===null)return null;var n=R0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(W(231,e,typeof r));return r}var Xy=!1;if(Ds)try{var ol={};Object.defineProperty(ol,"passive",{get:function(){Xy=!0}}),window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{Xy=!1}function ON(t,e,r,n,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(l){this.onError(l)}}var Gl=!1,mp=null,yp=!1,ew=null,DN={onError:function(t){Gl=!0,mp=t}};function MN(t,e,r,n,i,s,o,a,c){Gl=!1,mp=null,ON.apply(DN,arguments)}function $N(t,e,r,n,i,s,o,a,c){if(MN.apply(this,arguments),Gl){if(Gl){var u=mp;Gl=!1,mp=null}else throw Error(W(198));yp||(yp=!0,ew=u)}}function Ka(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function oS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x2(t){if(Ka(t)!==t)throw Error(W(188))}function UN(t){var e=t.alternate;if(!e){if(e=Ka(t),e===null)throw Error(W(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return x2(i),t;if(s===n)return x2(i),e;s=s.sibling}throw Error(W(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?t:e}function aS(t){return t=UN(t),t!==null?cS(t):null}function cS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cS(t);if(e!==null)return e;t=t.sibling}return null}var uS=Dn.unstable_scheduleCallback,N2=Dn.unstable_cancelCallback,LN=Dn.unstable_shouldYield,FN=Dn.unstable_requestPaint,Ot=Dn.unstable_now,BN=Dn.unstable_getCurrentPriorityLevel,l1=Dn.unstable_ImmediatePriority,lS=Dn.unstable_UserBlockingPriority,wp=Dn.unstable_NormalPriority,jN=Dn.unstable_LowPriority,dS=Dn.unstable_IdlePriority,N0=null,Wi=null;function zN(t){if(Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(N0,t,void 0,(t.current.flags&128)===128)}catch{}}var Ai=Math.clz32?Math.clz32:WN,HN=Math.log,qN=Math.LN2;function WN(t){return t>>>=0,t===0?32:31-(HN(t)/qN|0)|0}var eh=64,th=4194304;function Ll(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Ll(a):(s&=o,s!==0&&(n=Ll(s)))}else o=r&~i,o!==0?n=Ll(o):s!==0&&(n=Ll(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ai(e),i=1<<r,n|=t[r],e&=~i;return n}function VN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KN(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ai(s),a=1<<o,c=i[o];c===-1?(!(a&r)||a&n)&&(i[o]=VN(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function tw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fS(){var t=eh;return eh<<=1,!(eh&4194240)&&(eh=64),t}function tm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function bf(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ai(e),t[e]=r}function GN(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ai(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function d1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ai(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ve=0;function hS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pS,f1,gS,mS,yS,rw=!1,rh=[],Eo=null,Ao=null,Co=null,gd=new Map,md=new Map,co=[],QN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T2(t,e){switch(t){case"focusin":case"focusout":Eo=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":gd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(e.pointerId)}}function al(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Af(e),e!==null&&f1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function YN(t,e,r,n,i){switch(e){case"focusin":return Eo=al(Eo,t,e,r,n,i),!0;case"dragenter":return Ao=al(Ao,t,e,r,n,i),!0;case"mouseover":return Co=al(Co,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return gd.set(s,al(gd.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,md.set(s,al(md.get(s)||null,t,e,r,n,i)),!0}return!1}function wS(t){var e=ua(t.target);if(e!==null){var r=Ka(e);if(r!==null){if(e=r.tag,e===13){if(e=oS(r),e!==null){t.blockedOn=e,yS(t.priority,function(){gS(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=nw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Jy=n,r.target.dispatchEvent(n),Jy=null}else return e=Af(r),e!==null&&f1(e),t.blockedOn=r,!1;e.shift()}return!0}function P2(t,e,r){jh(t)&&r.delete(e)}function JN(){rw=!1,Eo!==null&&jh(Eo)&&(Eo=null),Ao!==null&&jh(Ao)&&(Ao=null),Co!==null&&jh(Co)&&(Co=null),gd.forEach(P2),md.forEach(P2)}function cl(t,e){t.blockedOn===e&&(t.blockedOn=null,rw||(rw=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,JN)))}function yd(t){function e(i){return cl(i,t)}if(0<rh.length){cl(rh[0],t);for(var r=1;r<rh.length;r++){var n=rh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Eo!==null&&cl(Eo,t),Ao!==null&&cl(Ao,t),Co!==null&&cl(Co,t),gd.forEach(e),md.forEach(e),r=0;r<co.length;r++)n=co[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<co.length&&(r=co[0],r.blockedOn===null);)wS(r),r.blockedOn===null&&co.shift()}var Zc=qs.ReactCurrentBatchConfig,bp=!0;function ZN(t,e,r,n){var i=Ve,s=Zc.transition;Zc.transition=null;try{Ve=1,h1(t,e,r,n)}finally{Ve=i,Zc.transition=s}}function XN(t,e,r,n){var i=Ve,s=Zc.transition;Zc.transition=null;try{Ve=4,h1(t,e,r,n)}finally{Ve=i,Zc.transition=s}}function h1(t,e,r,n){if(bp){var i=nw(t,e,r,n);if(i===null)dm(t,e,n,Ep,r),T2(t,n);else if(YN(i,t,e,r,n))n.stopPropagation();else if(T2(t,n),e&4&&-1<QN.indexOf(t)){for(;i!==null;){var s=Af(i);if(s!==null&&pS(s),s=nw(t,e,r,n),s===null&&dm(t,e,n,Ep,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else dm(t,e,n,null,r)}}var Ep=null;function nw(t,e,r,n){if(Ep=null,t=u1(n),t=ua(t),t!==null)if(e=Ka(t),e===null)t=null;else if(r=e.tag,r===13){if(t=oS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ep=t,null}function vS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BN()){case l1:return 1;case lS:return 4;case wp:case jN:return 16;case dS:return 536870912;default:return 16}default:return 16}}var ho=null,p1=null,zh=null;function bS(){if(zh)return zh;var t,e=p1,r=e.length,n,i="value"in ho?ho.value:ho.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return zh=i.slice(t,1<n?1-n:void 0)}function Hh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nh(){return!0}function k2(){return!1}function Un(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nh:k2,this.isPropagationStopped=k2,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nh)},persist:function(){},isPersistent:nh}),e}var Du={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},g1=Un(Du),Ef=_t({},Du,{view:0,detail:0}),eT=Un(Ef),rm,nm,ul,T0=_t({},Ef,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:m1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ul&&(ul&&t.type==="mousemove"?(rm=t.screenX-ul.screenX,nm=t.screenY-ul.screenY):nm=rm=0,ul=t),rm)},movementY:function(t){return"movementY"in t?t.movementY:nm}}),R2=Un(T0),tT=_t({},T0,{dataTransfer:0}),rT=Un(tT),nT=_t({},Ef,{relatedTarget:0}),im=Un(nT),iT=_t({},Du,{animationName:0,elapsedTime:0,pseudoElement:0}),sT=Un(iT),oT=_t({},Du,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aT=Un(oT),cT=_t({},Du,{data:0}),O2=Un(cT),uT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dT[t])?!!e[t]:!1}function m1(){return fT}var hT=_t({},Ef,{key:function(t){if(t.key){var e=uT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:m1,charCode:function(t){return t.type==="keypress"?Hh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pT=Un(hT),gT=_t({},T0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D2=Un(gT),mT=_t({},Ef,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:m1}),yT=Un(mT),wT=_t({},Du,{propertyName:0,elapsedTime:0,pseudoElement:0}),vT=Un(wT),bT=_t({},T0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ET=Un(bT),AT=[9,13,27,32],y1=Ds&&"CompositionEvent"in window,Ql=null;Ds&&"documentMode"in document&&(Ql=document.documentMode);var CT=Ds&&"TextEvent"in window&&!Ql,ES=Ds&&(!y1||Ql&&8<Ql&&11>=Ql),M2=" ",$2=!1;function AS(t,e){switch(t){case"keyup":return AT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dc=!1;function _T(t,e){switch(t){case"compositionend":return CS(e);case"keypress":return e.which!==32?null:($2=!0,M2);case"textInput":return t=e.data,t===M2&&$2?null:t;default:return null}}function ST(t,e){if(Dc)return t==="compositionend"||!y1&&AS(t,e)?(t=bS(),zh=p1=ho=null,Dc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ES&&e.locale!=="ko"?null:e.data;default:return null}}var IT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IT[t.type]:e==="textarea"}function _S(t,e,r,n){tS(n),e=Ap(e,"onChange"),0<e.length&&(r=new g1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Yl=null,wd=null;function xT(t){MS(t,0)}function P0(t){var e=Uc(t);if(G_(e))return t}function NT(t,e){if(t==="change")return e}var SS=!1;if(Ds){var sm;if(Ds){var om="oninput"in document;if(!om){var L2=document.createElement("div");L2.setAttribute("oninput","return;"),om=typeof L2.oninput=="function"}sm=om}else sm=!1;SS=sm&&(!document.documentMode||9<document.documentMode)}function F2(){Yl&&(Yl.detachEvent("onpropertychange",IS),wd=Yl=null)}function IS(t){if(t.propertyName==="value"&&P0(wd)){var e=[];_S(e,wd,t,u1(t)),sS(xT,e)}}function TT(t,e,r){t==="focusin"?(F2(),Yl=e,wd=r,Yl.attachEvent("onpropertychange",IS)):t==="focusout"&&F2()}function PT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return P0(wd)}function kT(t,e){if(t==="click")return P0(e)}function RT(t,e){if(t==="input"||t==="change")return P0(e)}function OT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ii=typeof Object.is=="function"?Object.is:OT;function vd(t,e){if(Ii(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Fy.call(e,i)||!Ii(t[i],e[i]))return!1}return!0}function B2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function j2(t,e){var r=B2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=B2(r)}}function xS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NS(){for(var t=window,e=gp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=gp(t.document)}return e}function w1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DT(t){var e=NS(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&xS(r.ownerDocument.documentElement,r)){if(n!==null&&w1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=j2(r,s);var o=j2(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MT=Ds&&"documentMode"in document&&11>=document.documentMode,Mc=null,iw=null,Jl=null,sw=!1;function z2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sw||Mc==null||Mc!==gp(n)||(n=Mc,"selectionStart"in n&&w1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Jl&&vd(Jl,n)||(Jl=n,n=Ap(iw,"onSelect"),0<n.length&&(e=new g1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Mc)))}function ih(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var $c={animationend:ih("Animation","AnimationEnd"),animationiteration:ih("Animation","AnimationIteration"),animationstart:ih("Animation","AnimationStart"),transitionend:ih("Transition","TransitionEnd")},am={},TS={};Ds&&(TS=document.createElement("div").style,"AnimationEvent"in window||(delete $c.animationend.animation,delete $c.animationiteration.animation,delete $c.animationstart.animation),"TransitionEvent"in window||delete $c.transitionend.transition);function k0(t){if(am[t])return am[t];if(!$c[t])return t;var e=$c[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in TS)return am[t]=e[r];return t}var PS=k0("animationend"),kS=k0("animationiteration"),RS=k0("animationstart"),OS=k0("transitionend"),DS=new Map,H2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ho(t,e){DS.set(t,e),Va(e,[t])}for(var cm=0;cm<H2.length;cm++){var um=H2[cm],$T=um.toLowerCase(),UT=um[0].toUpperCase()+um.slice(1);Ho($T,"on"+UT)}Ho(PS,"onAnimationEnd");Ho(kS,"onAnimationIteration");Ho(RS,"onAnimationStart");Ho("dblclick","onDoubleClick");Ho("focusin","onFocus");Ho("focusout","onBlur");Ho(OS,"onTransitionEnd");uu("onMouseEnter",["mouseout","mouseover"]);uu("onMouseLeave",["mouseout","mouseover"]);uu("onPointerEnter",["pointerout","pointerover"]);uu("onPointerLeave",["pointerout","pointerover"]);Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Va("onBeforeInput",["compositionend","keypress","textInput","paste"]);Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fl));function q2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,$N(n,e,void 0,t),t.currentTarget=null}function MS(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;q2(i,a,u),s=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;q2(i,a,u),s=c}}}if(yp)throw t=ew,yp=!1,ew=null,t}function ct(t,e){var r=e[lw];r===void 0&&(r=e[lw]=new Set);var n=t+"__bubble";r.has(n)||($S(e,t,2,!1),r.add(n))}function lm(t,e,r){var n=0;e&&(n|=4),$S(r,t,n,e)}var sh="_reactListening"+Math.random().toString(36).slice(2);function bd(t){if(!t[sh]){t[sh]=!0,H_.forEach(function(r){r!=="selectionchange"&&(LT.has(r)||lm(r,!1,t),lm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sh]||(e[sh]=!0,lm("selectionchange",!1,e))}}function $S(t,e,r,n){switch(vS(e)){case 1:var i=ZN;break;case 4:i=XN;break;default:i=h1}r=i.bind(null,e,r,t),i=void 0,!Xy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function dm(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ua(a),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}a=a.parentNode}}n=n.return}sS(function(){var u=s,l=u1(r),d=[];e:{var f=DS.get(t);if(f!==void 0){var h=g1,g=t;switch(t){case"keypress":if(Hh(r)===0)break e;case"keydown":case"keyup":h=pT;break;case"focusin":g="focus",h=im;break;case"focusout":g="blur",h=im;break;case"beforeblur":case"afterblur":h=im;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=R2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=rT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=yT;break;case PS:case kS:case RS:h=sT;break;case OS:h=vT;break;case"scroll":h=eT;break;case"wheel":h=ET;break;case"copy":case"cut":case"paste":h=aT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=D2}var y=(e&4)!==0,_=!y&&t==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var w=u,A;w!==null;){A=w;var P=A.stateNode;if(A.tag===5&&P!==null&&(A=P,v!==null&&(P=pd(w,v),P!=null&&y.push(Ed(w,P,A)))),_)break;w=w.return}0<y.length&&(f=new h(f,g,null,r,l),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&r!==Jy&&(g=r.relatedTarget||r.fromElement)&&(ua(g)||g[Ms]))break e;if((h||f)&&(f=l.window===l?l:(f=l.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=r.relatedTarget||r.toElement,h=u,g=g?ua(g):null,g!==null&&(_=Ka(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(y=R2,P="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=D2,P="onPointerLeave",v="onPointerEnter",w="pointer"),_=h==null?f:Uc(h),A=g==null?f:Uc(g),f=new y(P,w+"leave",h,r,l),f.target=_,f.relatedTarget=A,P=null,ua(l)===u&&(y=new y(v,w+"enter",g,r,l),y.target=A,y.relatedTarget=_,P=y),_=P,h&&g)t:{for(y=h,v=g,w=0,A=y;A;A=ic(A))w++;for(A=0,P=v;P;P=ic(P))A++;for(;0<w-A;)y=ic(y),w--;for(;0<A-w;)v=ic(v),A--;for(;w--;){if(y===v||v!==null&&y===v.alternate)break t;y=ic(y),v=ic(v)}y=null}else y=null;h!==null&&W2(d,f,h,y,!1),g!==null&&_!==null&&W2(d,_,g,y,!0)}}e:{if(f=u?Uc(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var R=NT;else if(U2(f))if(SS)R=RT;else{R=PT;var D=TT}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=kT);if(R&&(R=R(t,u))){_S(d,R,r,l);break e}D&&D(t,f,u),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&Vy(f,"number",f.value)}switch(D=u?Uc(u):window,t){case"focusin":(U2(D)||D.contentEditable==="true")&&(Mc=D,iw=u,Jl=null);break;case"focusout":Jl=iw=Mc=null;break;case"mousedown":sw=!0;break;case"contextmenu":case"mouseup":case"dragend":sw=!1,z2(d,r,l);break;case"selectionchange":if(MT)break;case"keydown":case"keyup":z2(d,r,l)}var M;if(y1)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Dc?AS(t,r)&&(L="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(ES&&r.locale!=="ko"&&(Dc||L!=="onCompositionStart"?L==="onCompositionEnd"&&Dc&&(M=bS()):(ho=l,p1="value"in ho?ho.value:ho.textContent,Dc=!0)),D=Ap(u,L),0<D.length&&(L=new O2(L,t,null,r,l),d.push({event:L,listeners:D}),M?L.data=M:(M=CS(r),M!==null&&(L.data=M)))),(M=CT?_T(t,r):ST(t,r))&&(u=Ap(u,"onBeforeInput"),0<u.length&&(l=new O2("onBeforeInput","beforeinput",null,r,l),d.push({event:l,listeners:u}),l.data=M))}MS(d,e)})}function Ed(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ap(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=pd(t,r),s!=null&&n.unshift(Ed(t,s,i)),s=pd(t,e),s!=null&&n.push(Ed(t,s,i))),t=t.return}return n}function ic(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function W2(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,i?(c=pd(r,s),c!=null&&o.unshift(Ed(r,c,a))):i||(c=pd(r,s),c!=null&&o.push(Ed(r,c,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var FT=/\r\n?/g,BT=/\u0000|\uFFFD/g;function V2(t){return(typeof t=="string"?t:""+t).replace(FT,`
`).replace(BT,"")}function oh(t,e,r){if(e=V2(e),V2(t)!==e&&r)throw Error(W(425))}function Cp(){}var ow=null,aw=null;function cw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uw=typeof setTimeout=="function"?setTimeout:void 0,jT=typeof clearTimeout=="function"?clearTimeout:void 0,K2=typeof Promise=="function"?Promise:void 0,zT=typeof queueMicrotask=="function"?queueMicrotask:typeof K2<"u"?function(t){return K2.resolve(null).then(t).catch(HT)}:uw;function HT(t){setTimeout(function(){throw t})}function fm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),yd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);yd(e)}function _o(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function G2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Mu=Math.random().toString(36).slice(2),qi="__reactFiber$"+Mu,Ad="__reactProps$"+Mu,Ms="__reactContainer$"+Mu,lw="__reactEvents$"+Mu,qT="__reactListeners$"+Mu,WT="__reactHandles$"+Mu;function ua(t){var e=t[qi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ms]||r[qi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=G2(t);t!==null;){if(r=t[qi])return r;t=G2(t)}return e}t=r,r=t.parentNode}return null}function Af(t){return t=t[qi]||t[Ms],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function R0(t){return t[Ad]||null}var dw=[],Lc=-1;function qo(t){return{current:t}}function dt(t){0>Lc||(t.current=dw[Lc],dw[Lc]=null,Lc--)}function st(t,e){Lc++,dw[Lc]=t.current,t.current=e}var $o={},Vr=qo($o),mn=qo(!1),Sa=$o;function lu(t,e){var r=t.type.contextTypes;if(!r)return $o;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function _p(){dt(mn),dt(Vr)}function Q2(t,e,r){if(Vr.current!==$o)throw Error(W(168));st(Vr,e),st(mn,r)}function US(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(W(108,TN(t)||"Unknown",i));return _t({},r,n)}function Sp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$o,Sa=Vr.current,st(Vr,t),st(mn,mn.current),!0}function Y2(t,e,r){var n=t.stateNode;if(!n)throw Error(W(169));r?(t=US(t,e,Sa),n.__reactInternalMemoizedMergedChildContext=t,dt(mn),dt(Vr),st(Vr,t)):dt(mn),st(mn,r)}var _s=null,O0=!1,hm=!1;function LS(t){_s===null?_s=[t]:_s.push(t)}function VT(t){O0=!0,LS(t)}function Wo(){if(!hm&&_s!==null){hm=!0;var t=0,e=Ve;try{var r=_s;for(Ve=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}_s=null,O0=!1}catch(i){throw _s!==null&&(_s=_s.slice(t+1)),uS(l1,Wo),i}finally{Ve=e,hm=!1}}return null}var Fc=[],Bc=0,Ip=null,xp=0,Vn=[],Kn=0,Ia=null,Ss=1,Is="";function ea(t,e){Fc[Bc++]=xp,Fc[Bc++]=Ip,Ip=t,xp=e}function FS(t,e,r){Vn[Kn++]=Ss,Vn[Kn++]=Is,Vn[Kn++]=Ia,Ia=t;var n=Ss;t=Is;var i=32-Ai(n)-1;n&=~(1<<i),r+=1;var s=32-Ai(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ss=1<<32-Ai(e)+i|r<<i|n,Is=s+t}else Ss=1<<s|r<<i|n,Is=t}function v1(t){t.return!==null&&(ea(t,1),FS(t,1,0))}function b1(t){for(;t===Ip;)Ip=Fc[--Bc],Fc[Bc]=null,xp=Fc[--Bc],Fc[Bc]=null;for(;t===Ia;)Ia=Vn[--Kn],Vn[Kn]=null,Is=Vn[--Kn],Vn[Kn]=null,Ss=Vn[--Kn],Vn[Kn]=null}var On=null,kn=null,gt=!1,yi=null;function BS(t,e){var r=Gn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function J2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,On=t,kn=_o(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,On=t,kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ia!==null?{id:Ss,overflow:Is}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Gn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,On=t,kn=null,!0):!1;default:return!1}}function fw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hw(t){if(gt){var e=kn;if(e){var r=e;if(!J2(t,e)){if(fw(t))throw Error(W(418));e=_o(r.nextSibling);var n=On;e&&J2(t,e)?BS(n,r):(t.flags=t.flags&-4097|2,gt=!1,On=t)}}else{if(fw(t))throw Error(W(418));t.flags=t.flags&-4097|2,gt=!1,On=t}}}function Z2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;On=t}function ah(t){if(t!==On)return!1;if(!gt)return Z2(t),gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cw(t.type,t.memoizedProps)),e&&(e=kn)){if(fw(t))throw jS(),Error(W(418));for(;e;)BS(t,e),e=_o(e.nextSibling)}if(Z2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){kn=_o(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}kn=null}}else kn=On?_o(t.stateNode.nextSibling):null;return!0}function jS(){for(var t=kn;t;)t=_o(t.nextSibling)}function du(){kn=On=null,gt=!1}function E1(t){yi===null?yi=[t]:yi.push(t)}var KT=qs.ReactCurrentBatchConfig;function ll(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,t))}return t}function ch(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function X2(t){var e=t._init;return e(t._payload)}function zS(t){function e(v,w){if(t){var A=v.deletions;A===null?(v.deletions=[w],v.flags|=16):A.push(w)}}function r(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function n(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=No(v,w),v.index=0,v.sibling=null,v}function s(v,w,A){return v.index=A,t?(A=v.alternate,A!==null?(A=A.index,A<w?(v.flags|=2,w):A):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,A,P){return w===null||w.tag!==6?(w=bm(A,v.mode,P),w.return=v,w):(w=i(w,A),w.return=v,w)}function c(v,w,A,P){var R=A.type;return R===Oc?l(v,w,A.props.children,P,A.key):w!==null&&(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===no&&X2(R)===w.type)?(P=i(w,A.props),P.ref=ll(v,w,A),P.return=v,P):(P=Yh(A.type,A.key,A.props,null,v.mode,P),P.ref=ll(v,w,A),P.return=v,P)}function u(v,w,A,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=Em(A,v.mode,P),w.return=v,w):(w=i(w,A.children||[]),w.return=v,w)}function l(v,w,A,P,R){return w===null||w.tag!==7?(w=ba(A,v.mode,P,R),w.return=v,w):(w=i(w,A),w.return=v,w)}function d(v,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return w=bm(""+w,v.mode,A),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jf:return A=Yh(w.type,w.key,w.props,null,v.mode,A),A.ref=ll(v,null,w),A.return=v,A;case Rc:return w=Em(w,v.mode,A),w.return=v,w;case no:var P=w._init;return d(v,P(w._payload),A)}if(Ul(w)||sl(w))return w=ba(w,v.mode,A,null),w.return=v,w;ch(v,w)}return null}function f(v,w,A,P){var R=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return R!==null?null:a(v,w,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Jf:return A.key===R?c(v,w,A,P):null;case Rc:return A.key===R?u(v,w,A,P):null;case no:return R=A._init,f(v,w,R(A._payload),P)}if(Ul(A)||sl(A))return R!==null?null:l(v,w,A,P,null);ch(v,A)}return null}function h(v,w,A,P,R){if(typeof P=="string"&&P!==""||typeof P=="number")return v=v.get(A)||null,a(w,v,""+P,R);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Jf:return v=v.get(P.key===null?A:P.key)||null,c(w,v,P,R);case Rc:return v=v.get(P.key===null?A:P.key)||null,u(w,v,P,R);case no:var D=P._init;return h(v,w,A,D(P._payload),R)}if(Ul(P)||sl(P))return v=v.get(A)||null,l(w,v,P,R,null);ch(w,P)}return null}function g(v,w,A,P){for(var R=null,D=null,M=w,L=w=0,$=null;M!==null&&L<A.length;L++){M.index>L?($=M,M=null):$=M.sibling;var F=f(v,M,A[L],P);if(F===null){M===null&&(M=$);break}t&&M&&F.alternate===null&&e(v,M),w=s(F,w,L),D===null?R=F:D.sibling=F,D=F,M=$}if(L===A.length)return r(v,M),gt&&ea(v,L),R;if(M===null){for(;L<A.length;L++)M=d(v,A[L],P),M!==null&&(w=s(M,w,L),D===null?R=M:D.sibling=M,D=M);return gt&&ea(v,L),R}for(M=n(v,M);L<A.length;L++)$=h(M,v,L,A[L],P),$!==null&&(t&&$.alternate!==null&&M.delete($.key===null?L:$.key),w=s($,w,L),D===null?R=$:D.sibling=$,D=$);return t&&M.forEach(function(x){return e(v,x)}),gt&&ea(v,L),R}function y(v,w,A,P){var R=sl(A);if(typeof R!="function")throw Error(W(150));if(A=R.call(A),A==null)throw Error(W(151));for(var D=R=null,M=w,L=w=0,$=null,F=A.next();M!==null&&!F.done;L++,F=A.next()){M.index>L?($=M,M=null):$=M.sibling;var x=f(v,M,F.value,P);if(x===null){M===null&&(M=$);break}t&&M&&x.alternate===null&&e(v,M),w=s(x,w,L),D===null?R=x:D.sibling=x,D=x,M=$}if(F.done)return r(v,M),gt&&ea(v,L),R;if(M===null){for(;!F.done;L++,F=A.next())F=d(v,F.value,P),F!==null&&(w=s(F,w,L),D===null?R=F:D.sibling=F,D=F);return gt&&ea(v,L),R}for(M=n(v,M);!F.done;L++,F=A.next())F=h(M,v,L,F.value,P),F!==null&&(t&&F.alternate!==null&&M.delete(F.key===null?L:F.key),w=s(F,w,L),D===null?R=F:D.sibling=F,D=F);return t&&M.forEach(function(p){return e(v,p)}),gt&&ea(v,L),R}function _(v,w,A,P){if(typeof A=="object"&&A!==null&&A.type===Oc&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Jf:e:{for(var R=A.key,D=w;D!==null;){if(D.key===R){if(R=A.type,R===Oc){if(D.tag===7){r(v,D.sibling),w=i(D,A.props.children),w.return=v,v=w;break e}}else if(D.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===no&&X2(R)===D.type){r(v,D.sibling),w=i(D,A.props),w.ref=ll(v,D,A),w.return=v,v=w;break e}r(v,D);break}else e(v,D);D=D.sibling}A.type===Oc?(w=ba(A.props.children,v.mode,P,A.key),w.return=v,v=w):(P=Yh(A.type,A.key,A.props,null,v.mode,P),P.ref=ll(v,w,A),P.return=v,v=P)}return o(v);case Rc:e:{for(D=A.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){r(v,w.sibling),w=i(w,A.children||[]),w.return=v,v=w;break e}else{r(v,w);break}else e(v,w);w=w.sibling}w=Em(A,v.mode,P),w.return=v,v=w}return o(v);case no:return D=A._init,_(v,w,D(A._payload),P)}if(Ul(A))return g(v,w,A,P);if(sl(A))return y(v,w,A,P);ch(v,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,w!==null&&w.tag===6?(r(v,w.sibling),w=i(w,A),w.return=v,v=w):(r(v,w),w=bm(A,v.mode,P),w.return=v,v=w),o(v)):r(v,w)}return _}var fu=zS(!0),HS=zS(!1),Np=qo(null),Tp=null,jc=null,A1=null;function C1(){A1=jc=Tp=null}function _1(t){var e=Np.current;dt(Np),t._currentValue=e}function pw(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Xc(t,e){Tp=t,A1=jc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function Zn(t){var e=t._currentValue;if(A1!==t)if(t={context:t,memoizedValue:e,next:null},jc===null){if(Tp===null)throw Error(W(308));jc=t,Tp.dependencies={lanes:0,firstContext:t}}else jc=jc.next=t;return e}var la=null;function S1(t){la===null?la=[t]:la.push(t)}function qS(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,S1(e)):(r.next=i.next,i.next=r),e.interleaved=r,$s(t,n)}function $s(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var io=!1;function I1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ts(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function So(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Oe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,$s(t,r)}return i=n.interleaved,i===null?(e.next=e,S1(n)):(e.next=i.next,i.next=e),n.interleaved=e,$s(t,r)}function qh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,d1(t,r)}}function eE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Pp(t,e,r,n){var i=t.updateQueue;io=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var l=t.alternate;l!==null&&(l=l.updateQueue,a=l.lastBaseUpdate,a!==o&&(a===null?l.firstBaseUpdate=u:a.next=u,l.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;o=0,l=u=c=null,a=s;do{var f=a.lane,h=a.eventTime;if((n&f)===f){l!==null&&(l=l.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(f=e,h=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=_t({},d,f);break e;case 2:io=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},l===null?(u=l=h,c=d):l=l.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(l===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=l,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Na|=o,t.lanes=o,t.memoizedState=d}}function tE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(W(191,i));i.call(n)}}}var Cf={},Vi=qo(Cf),Cd=qo(Cf),_d=qo(Cf);function da(t){if(t===Cf)throw Error(W(174));return t}function x1(t,e){switch(st(_d,e),st(Cd,t),st(Vi,Cf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gy(e,t)}dt(Vi),st(Vi,e)}function hu(){dt(Vi),dt(Cd),dt(_d)}function VS(t){da(_d.current);var e=da(Vi.current),r=Gy(e,t.type);e!==r&&(st(Cd,t),st(Vi,r))}function N1(t){Cd.current===t&&(dt(Vi),dt(Cd))}var At=qo(0);function kp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pm=[];function T1(){for(var t=0;t<pm.length;t++)pm[t]._workInProgressVersionPrimary=null;pm.length=0}var Wh=qs.ReactCurrentDispatcher,gm=qs.ReactCurrentBatchConfig,xa=0,Ct=null,lr=null,mr=null,Rp=!1,Zl=!1,Sd=0,GT=0;function Lr(){throw Error(W(321))}function P1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ii(t[r],e[r]))return!1;return!0}function k1(t,e,r,n,i,s){if(xa=s,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wh.current=t===null||t.memoizedState===null?ZT:XT,t=r(n,i),Zl){s=0;do{if(Zl=!1,Sd=0,25<=s)throw Error(W(301));s+=1,mr=lr=null,e.updateQueue=null,Wh.current=eP,t=r(n,i)}while(Zl)}if(Wh.current=Op,e=lr!==null&&lr.next!==null,xa=0,mr=lr=Ct=null,Rp=!1,e)throw Error(W(300));return t}function R1(){var t=Sd!==0;return Sd=0,t}function Bi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?Ct.memoizedState=mr=t:mr=mr.next=t,mr}function Xn(){if(lr===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=lr.next;var e=mr===null?Ct.memoizedState:mr.next;if(e!==null)mr=e,lr=t;else{if(t===null)throw Error(W(310));lr=t,t={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},mr===null?Ct.memoizedState=mr=t:mr=mr.next=t}return mr}function Id(t,e){return typeof e=="function"?e(t):e}function mm(t){var e=Xn(),r=e.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=t;var n=lr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,c=null,u=s;do{var l=u.lane;if((xa&l)===l)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:l,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=d,o=n):c=c.next=d,Ct.lanes|=l,Na|=l}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=a,Ii(n,e.memoizedState)||(gn=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Ct.lanes|=s,Na|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ym(t){var e=Xn(),r=e.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ii(s,e.memoizedState)||(gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function KS(){}function GS(t,e){var r=Ct,n=Xn(),i=e(),s=!Ii(n.memoizedState,i);if(s&&(n.memoizedState=i,gn=!0),n=n.queue,O1(JS.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||mr!==null&&mr.memoizedState.tag&1){if(r.flags|=2048,xd(9,YS.bind(null,r,n,i,e),void 0,null),Er===null)throw Error(W(349));xa&30||QS(r,e,i)}return i}function QS(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function YS(t,e,r,n){e.value=r,e.getSnapshot=n,ZS(e)&&XS(t)}function JS(t,e,r){return r(function(){ZS(e)&&XS(t)})}function ZS(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ii(t,r)}catch{return!0}}function XS(t){var e=$s(t,1);e!==null&&Ci(e,t,1,-1)}function rE(t){var e=Bi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Id,lastRenderedState:t},e.queue=t,t=t.dispatch=JT.bind(null,Ct,t),[e.memoizedState,t]}function xd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function e5(){return Xn().memoizedState}function Vh(t,e,r,n){var i=Bi();Ct.flags|=t,i.memoizedState=xd(1|e,r,void 0,n===void 0?null:n)}function D0(t,e,r,n){var i=Xn();n=n===void 0?null:n;var s=void 0;if(lr!==null){var o=lr.memoizedState;if(s=o.destroy,n!==null&&P1(n,o.deps)){i.memoizedState=xd(e,r,s,n);return}}Ct.flags|=t,i.memoizedState=xd(1|e,r,s,n)}function nE(t,e){return Vh(8390656,8,t,e)}function O1(t,e){return D0(2048,8,t,e)}function t5(t,e){return D0(4,2,t,e)}function r5(t,e){return D0(4,4,t,e)}function n5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function i5(t,e,r){return r=r!=null?r.concat([t]):null,D0(4,4,n5.bind(null,e,t),r)}function D1(){}function s5(t,e){var r=Xn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&P1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function o5(t,e){var r=Xn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&P1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function a5(t,e,r){return xa&21?(Ii(r,e)||(r=fS(),Ct.lanes|=r,Na|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=r)}function QT(t,e){var r=Ve;Ve=r!==0&&4>r?r:4,t(!0);var n=gm.transition;gm.transition={};try{t(!1),e()}finally{Ve=r,gm.transition=n}}function c5(){return Xn().memoizedState}function YT(t,e,r){var n=xo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},u5(t))l5(e,r);else if(r=qS(t,e,r,n),r!==null){var i=Jr();Ci(r,t,n,i),d5(r,e,n)}}function JT(t,e,r){var n=xo(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(u5(t))l5(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Ii(a,o)){var c=e.interleaved;c===null?(i.next=i,S1(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=qS(t,e,i,n),r!==null&&(i=Jr(),Ci(r,t,n,i),d5(r,e,n))}}function u5(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function l5(t,e){Zl=Rp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function d5(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,d1(t,r)}}var Op={readContext:Zn,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useInsertionEffect:Lr,useLayoutEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useMutableSource:Lr,useSyncExternalStore:Lr,useId:Lr,unstable_isNewReconciler:!1},ZT={readContext:Zn,useCallback:function(t,e){return Bi().memoizedState=[t,e===void 0?null:e],t},useContext:Zn,useEffect:nE,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Vh(4194308,4,n5.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Vh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vh(4,2,t,e)},useMemo:function(t,e){var r=Bi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Bi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=YT.bind(null,Ct,t),[n.memoizedState,t]},useRef:function(t){var e=Bi();return t={current:t},e.memoizedState=t},useState:rE,useDebugValue:D1,useDeferredValue:function(t){return Bi().memoizedState=t},useTransition:function(){var t=rE(!1),e=t[0];return t=QT.bind(null,t[1]),Bi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ct,i=Bi();if(gt){if(r===void 0)throw Error(W(407));r=r()}else{if(r=e(),Er===null)throw Error(W(349));xa&30||QS(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,nE(JS.bind(null,n,s,t),[t]),n.flags|=2048,xd(9,YS.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Bi(),e=Er.identifierPrefix;if(gt){var r=Is,n=Ss;r=(n&~(1<<32-Ai(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Sd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=GT++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XT={readContext:Zn,useCallback:s5,useContext:Zn,useEffect:O1,useImperativeHandle:i5,useInsertionEffect:t5,useLayoutEffect:r5,useMemo:o5,useReducer:mm,useRef:e5,useState:function(){return mm(Id)},useDebugValue:D1,useDeferredValue:function(t){var e=Xn();return a5(e,lr.memoizedState,t)},useTransition:function(){var t=mm(Id)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:KS,useSyncExternalStore:GS,useId:c5,unstable_isNewReconciler:!1},eP={readContext:Zn,useCallback:s5,useContext:Zn,useEffect:O1,useImperativeHandle:i5,useInsertionEffect:t5,useLayoutEffect:r5,useMemo:o5,useReducer:ym,useRef:e5,useState:function(){return ym(Id)},useDebugValue:D1,useDeferredValue:function(t){var e=Xn();return lr===null?e.memoizedState=t:a5(e,lr.memoizedState,t)},useTransition:function(){var t=ym(Id)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:KS,useSyncExternalStore:GS,useId:c5,unstable_isNewReconciler:!1};function pi(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function gw(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:_t({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var M0={isMounted:function(t){return(t=t._reactInternals)?Ka(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Jr(),i=xo(t),s=Ts(n,i);s.payload=e,r!=null&&(s.callback=r),e=So(t,s,i),e!==null&&(Ci(e,t,i,n),qh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Jr(),i=xo(t),s=Ts(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=So(t,s,i),e!==null&&(Ci(e,t,i,n),qh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Jr(),n=xo(t),i=Ts(r,n);i.tag=2,e!=null&&(i.callback=e),e=So(t,i,n),e!==null&&(Ci(e,t,n,r),qh(e,t,n))}};function iE(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!vd(r,n)||!vd(i,s):!0}function f5(t,e,r){var n=!1,i=$o,s=e.contextType;return typeof s=="object"&&s!==null?s=Zn(s):(i=yn(e)?Sa:Vr.current,n=e.contextTypes,s=(n=n!=null)?lu(t,i):$o),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=M0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function sE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&M0.enqueueReplaceState(e,e.state,null)}function mw(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},I1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zn(s):(s=yn(e)?Sa:Vr.current,i.context=lu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(gw(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&M0.enqueueReplaceState(i,i.state,null),Pp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pu(t,e){try{var r="",n=e;do r+=NN(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function wm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function yw(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var tP=typeof WeakMap=="function"?WeakMap:Map;function h5(t,e,r){r=Ts(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Mp||(Mp=!0,xw=n),yw(t,e)},r}function p5(t,e,r){r=Ts(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){yw(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){yw(t,e),typeof n!="function"&&(Io===null?Io=new Set([this]):Io.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function oE(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new tP;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=gP.bind(null,t,e,r),e.then(t,t))}function aE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cE(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ts(-1,1),e.tag=2,So(r,e,1))),r.lanes|=1),t)}var rP=qs.ReactCurrentOwner,gn=!1;function Yr(t,e,r,n){e.child=t===null?HS(e,null,r,n):fu(e,t.child,r,n)}function uE(t,e,r,n,i){r=r.render;var s=e.ref;return Xc(e,i),n=k1(t,e,r,n,s,i),r=R1(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Us(t,e,i)):(gt&&r&&v1(e),e.flags|=1,Yr(t,e,n,i),e.child)}function lE(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!z1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,g5(t,e,s,n,i)):(t=Yh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:vd,r(o,n)&&t.ref===e.ref)return Us(t,e,i)}return e.flags|=1,t=No(s,n),t.ref=e.ref,t.return=e,e.child=t}function g5(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(vd(s,n)&&t.ref===e.ref)if(gn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,Us(t,e,i)}return ww(t,e,r,n,i)}function m5(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Hc,Nn),Nn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(Hc,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,st(Hc,Nn),Nn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,st(Hc,Nn),Nn|=n;return Yr(t,e,i,r),e.child}function y5(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ww(t,e,r,n,i){var s=yn(r)?Sa:Vr.current;return s=lu(e,s),Xc(e,i),r=k1(t,e,r,n,s,i),n=R1(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Us(t,e,i)):(gt&&n&&v1(e),e.flags|=1,Yr(t,e,r,i),e.child)}function dE(t,e,r,n,i){if(yn(r)){var s=!0;Sp(e)}else s=!1;if(Xc(e,i),e.stateNode===null)Kh(t,e),f5(e,r,n),mw(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Zn(u):(u=yn(r)?Sa:Vr.current,u=lu(e,u));var l=r.getDerivedStateFromProps,d=typeof l=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==u)&&sE(e,o,n,u),io=!1;var f=e.memoizedState;o.state=f,Pp(e,n,o,i),c=e.memoizedState,a!==n||f!==c||mn.current||io?(typeof l=="function"&&(gw(e,r,l,n),c=e.memoizedState),(a=io||iE(e,r,a,n,f,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,WS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:pi(e.type,a),o.props=u,d=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Zn(c):(c=yn(r)?Sa:Vr.current,c=lu(e,c));var h=r.getDerivedStateFromProps;(l=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==c)&&sE(e,o,n,c),io=!1,f=e.memoizedState,o.state=f,Pp(e,n,o,i);var g=e.memoizedState;a!==d||f!==g||mn.current||io?(typeof h=="function"&&(gw(e,r,h,n),g=e.memoizedState),(u=io||iE(e,r,u,n,f,g,c)||!1)?(l||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return vw(t,e,r,n,s,i)}function vw(t,e,r,n,i,s){y5(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Y2(e,r,!1),Us(t,e,s);n=e.stateNode,rP.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=fu(e,t.child,null,s),e.child=fu(e,null,a,s)):Yr(t,e,a,s),e.memoizedState=n.state,i&&Y2(e,r,!0),e.child}function w5(t){var e=t.stateNode;e.pendingContext?Q2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Q2(t,e.context,!1),x1(t,e.containerInfo)}function fE(t,e,r,n,i){return du(),E1(i),e.flags|=256,Yr(t,e,r,n),e.child}var bw={dehydrated:null,treeContext:null,retryLane:0};function Ew(t){return{baseLanes:t,cachePool:null,transitions:null}}function v5(t,e,r){var n=e.pendingProps,i=At.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),st(At,i&1),t===null)return hw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=L0(o,n,0,null),t=ba(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ew(r),e.memoizedState=bw,t):M1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nP(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=No(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=No(a,s):(s=ba(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Ew(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=bw,n}return s=t.child,t=s.sibling,n=No(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function M1(t,e){return e=L0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uh(t,e,r,n){return n!==null&&E1(n),fu(e,t.child,null,r),t=M1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nP(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=wm(Error(W(422))),uh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=L0({mode:"visible",children:n.children},i,0,null),s=ba(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&fu(e,t.child,null,o),e.child.memoizedState=Ew(o),e.memoizedState=bw,s);if(!(e.mode&1))return uh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(W(419)),n=wm(s,n,void 0),uh(t,e,o,n)}if(a=(o&t.childLanes)!==0,gn||a){if(n=Er,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,$s(t,i),Ci(n,t,i,-1))}return j1(),n=wm(Error(W(421))),uh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,kn=_o(i.nextSibling),On=e,gt=!0,yi=null,t!==null&&(Vn[Kn++]=Ss,Vn[Kn++]=Is,Vn[Kn++]=Ia,Ss=t.id,Is=t.overflow,Ia=e),e=M1(e,n.children),e.flags|=4096,e)}function hE(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),pw(t.return,e,r)}function vm(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function b5(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Yr(t,e,n.children,r),n=At.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hE(t,r,e);else if(t.tag===19)hE(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(st(At,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&kp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),vm(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}vm(e,!0,r,null,s);break;case"together":vm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Us(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Na|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,r=No(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=No(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function iP(t,e,r){switch(e.tag){case 3:w5(e),du();break;case 5:VS(e);break;case 1:yn(e.type)&&Sp(e);break;case 4:x1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;st(Np,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(st(At,At.current&1),e.flags|=128,null):r&e.child.childLanes?v5(t,e,r):(st(At,At.current&1),t=Us(t,e,r),t!==null?t.sibling:null);st(At,At.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return b5(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(At,At.current),n)break;return null;case 22:case 23:return e.lanes=0,m5(t,e,r)}return Us(t,e,r)}var E5,Aw,A5,C5;E5=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Aw=function(){};A5=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,da(Vi.current);var s=null;switch(r){case"input":i=qy(t,i),n=qy(t,n),s=[];break;case"select":i=_t({},i,{value:void 0}),n=_t({},n,{value:void 0}),s=[];break;case"textarea":i=Ky(t,i),n=Ky(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Cp)}Qy(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ct("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};C5=function(t,e,r,n){r!==n&&(e.flags|=4)};function dl(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Fr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function sP(t,e,r){var n=e.pendingProps;switch(b1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fr(e),null;case 1:return yn(e.type)&&_p(),Fr(e),null;case 3:return n=e.stateNode,hu(),dt(mn),dt(Vr),T1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ah(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yi!==null&&(Pw(yi),yi=null))),Aw(t,e),Fr(e),null;case 5:N1(e);var i=da(_d.current);if(r=e.type,t!==null&&e.stateNode!=null)A5(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(W(166));return Fr(e),null}if(t=da(Vi.current),ah(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[qi]=e,n[Ad]=s,t=(e.mode&1)!==0,r){case"dialog":ct("cancel",n),ct("close",n);break;case"iframe":case"object":case"embed":ct("load",n);break;case"video":case"audio":for(i=0;i<Fl.length;i++)ct(Fl[i],n);break;case"source":ct("error",n);break;case"img":case"image":case"link":ct("error",n),ct("load",n);break;case"details":ct("toggle",n);break;case"input":A2(n,s),ct("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ct("invalid",n);break;case"textarea":_2(n,s),ct("invalid",n)}Qy(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&oh(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&oh(n.textContent,a,t),i=["children",""+a]):fd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ct("scroll",n)}switch(r){case"input":Zf(n),C2(n,s,!0);break;case"textarea":Zf(n),S2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Cp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=J_(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[qi]=e,t[Ad]=n,E5(t,e,!1,!1),e.stateNode=t;e:{switch(o=Yy(r,n),r){case"dialog":ct("cancel",t),ct("close",t),i=n;break;case"iframe":case"object":case"embed":ct("load",t),i=n;break;case"video":case"audio":for(i=0;i<Fl.length;i++)ct(Fl[i],t);i=n;break;case"source":ct("error",t),i=n;break;case"img":case"image":case"link":ct("error",t),ct("load",t),i=n;break;case"details":ct("toggle",t),i=n;break;case"input":A2(t,n),i=qy(t,n),ct("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=_t({},n,{value:void 0}),ct("invalid",t);break;case"textarea":_2(t,n),i=Ky(t,n),ct("invalid",t);break;default:i=n}Qy(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?eS(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Z_(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&hd(t,c):typeof c=="number"&&hd(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fd.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ct("scroll",t):c!=null&&s1(t,s,c,o))}switch(r){case"input":Zf(t),C2(t,n,!1);break;case"textarea":Zf(t),S2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Mo(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Qc(t,!!n.multiple,s,!1):n.defaultValue!=null&&Qc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fr(e),null;case 6:if(t&&e.stateNode!=null)C5(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(W(166));if(r=da(_d.current),da(Vi.current),ah(e)){if(n=e.stateNode,r=e.memoizedProps,n[qi]=e,(s=n.nodeValue!==r)&&(t=On,t!==null))switch(t.tag){case 3:oh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&oh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[qi]=e,e.stateNode=n}return Fr(e),null;case 13:if(dt(At),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&kn!==null&&e.mode&1&&!(e.flags&128))jS(),du(),e.flags|=98560,s=!1;else if(s=ah(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[qi]=e}else du(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fr(e),s=!1}else yi!==null&&(Pw(yi),yi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||At.current&1?fr===0&&(fr=3):j1())),e.updateQueue!==null&&(e.flags|=4),Fr(e),null);case 4:return hu(),Aw(t,e),t===null&&bd(e.stateNode.containerInfo),Fr(e),null;case 10:return _1(e.type._context),Fr(e),null;case 17:return yn(e.type)&&_p(),Fr(e),null;case 19:if(dt(At),s=e.memoizedState,s===null)return Fr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)dl(s,!1);else{if(fr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kp(t),o!==null){for(e.flags|=128,dl(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return st(At,At.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ot()>gu&&(e.flags|=128,n=!0,dl(s,!1),e.lanes=4194304)}else{if(!n)if(t=kp(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),dl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!gt)return Fr(e),null}else 2*Ot()-s.renderingStartTime>gu&&r!==1073741824&&(e.flags|=128,n=!0,dl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ot(),e.sibling=null,r=At.current,st(At,n?r&1|2:r&1),e):(Fr(e),null);case 22:case 23:return B1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Nn&1073741824&&(Fr(e),e.subtreeFlags&6&&(e.flags|=8192)):Fr(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function oP(t,e){switch(b1(e),e.tag){case 1:return yn(e.type)&&_p(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hu(),dt(mn),dt(Vr),T1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return N1(e),null;case 13:if(dt(At),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));du()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(At),null;case 4:return hu(),null;case 10:return _1(e.type._context),null;case 22:case 23:return B1(),null;case 24:return null;default:return null}}var lh=!1,Hr=!1,aP=typeof WeakSet=="function"?WeakSet:Set,ie=null;function zc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){kt(t,e,n)}else r.current=null}function Cw(t,e,r){try{r()}catch(n){kt(t,e,n)}}var pE=!1;function cP(t,e){if(ow=bp,t=NS(),w1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,u=0,l=0,d=t,f=null;t:for(;;){for(var h;d!==r||i!==0&&d.nodeType!==3||(a=o+i),d!==s||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===r&&++u===i&&(a=o),f===s&&++l===n&&(c=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(aw={focusedElem:t,selectionRange:r},bp=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,_=g.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:pi(e.type,y),_);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(P){kt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return g=pE,pE=!1,g}function Xl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Cw(e,r,s)}i=i.next}while(i!==n)}}function $0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function _w(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function _5(t){var e=t.alternate;e!==null&&(t.alternate=null,_5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qi],delete e[Ad],delete e[lw],delete e[qT],delete e[WT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function S5(t){return t.tag===5||t.tag===3||t.tag===4}function gE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sw(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Cp));else if(n!==4&&(t=t.child,t!==null))for(Sw(t,e,r),t=t.sibling;t!==null;)Sw(t,e,r),t=t.sibling}function Iw(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Iw(t,e,r),t=t.sibling;t!==null;)Iw(t,e,r),t=t.sibling}var Tr=null,gi=!1;function Ks(t,e,r){for(r=r.child;r!==null;)I5(t,e,r),r=r.sibling}function I5(t,e,r){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(N0,r)}catch{}switch(r.tag){case 5:Hr||zc(r,e);case 6:var n=Tr,i=gi;Tr=null,Ks(t,e,r),Tr=n,gi=i,Tr!==null&&(gi?(t=Tr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Tr.removeChild(r.stateNode));break;case 18:Tr!==null&&(gi?(t=Tr,r=r.stateNode,t.nodeType===8?fm(t.parentNode,r):t.nodeType===1&&fm(t,r),yd(t)):fm(Tr,r.stateNode));break;case 4:n=Tr,i=gi,Tr=r.stateNode.containerInfo,gi=!0,Ks(t,e,r),Tr=n,gi=i;break;case 0:case 11:case 14:case 15:if(!Hr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Cw(r,e,o),i=i.next}while(i!==n)}Ks(t,e,r);break;case 1:if(!Hr&&(zc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){kt(r,e,a)}Ks(t,e,r);break;case 21:Ks(t,e,r);break;case 22:r.mode&1?(Hr=(n=Hr)||r.memoizedState!==null,Ks(t,e,r),Hr=n):Ks(t,e,r);break;default:Ks(t,e,r)}}function mE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new aP),e.forEach(function(n){var i=yP.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ai(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tr=a.stateNode,gi=!1;break e;case 3:Tr=a.stateNode.containerInfo,gi=!0;break e;case 4:Tr=a.stateNode.containerInfo,gi=!0;break e}a=a.return}if(Tr===null)throw Error(W(160));I5(s,o,i),Tr=null,gi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){kt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)x5(e,t),e=e.sibling}function x5(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ai(e,t),Ri(t),n&4){try{Xl(3,t,t.return),$0(3,t)}catch(y){kt(t,t.return,y)}try{Xl(5,t,t.return)}catch(y){kt(t,t.return,y)}}break;case 1:ai(e,t),Ri(t),n&512&&r!==null&&zc(r,r.return);break;case 5:if(ai(e,t),Ri(t),n&512&&r!==null&&zc(r,r.return),t.flags&32){var i=t.stateNode;try{hd(i,"")}catch(y){kt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Q_(i,s),Yy(a,o);var u=Yy(a,s);for(o=0;o<c.length;o+=2){var l=c[o],d=c[o+1];l==="style"?eS(i,d):l==="dangerouslySetInnerHTML"?Z_(i,d):l==="children"?hd(i,d):s1(i,l,d,u)}switch(a){case"input":Wy(i,s);break;case"textarea":Y_(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Qc(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?Qc(i,!!s.multiple,s.defaultValue,!0):Qc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ad]=s}catch(y){kt(t,t.return,y)}}break;case 6:if(ai(e,t),Ri(t),n&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){kt(t,t.return,y)}}break;case 3:if(ai(e,t),Ri(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{yd(e.containerInfo)}catch(y){kt(t,t.return,y)}break;case 4:ai(e,t),Ri(t);break;case 13:ai(e,t),Ri(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(L1=Ot())),n&4&&mE(t);break;case 22:if(l=r!==null&&r.memoizedState!==null,t.mode&1?(Hr=(u=Hr)||l,ai(e,t),Hr=u):ai(e,t),Ri(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!l&&t.mode&1)for(ie=t,l=t.child;l!==null;){for(d=ie=l;ie!==null;){switch(f=ie,h=f.child,f.tag){case 0:case 11:case 14:case 15:Xl(4,f,f.return);break;case 1:zc(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){kt(n,r,y)}}break;case 5:zc(f,f.return);break;case 22:if(f.memoizedState!==null){wE(d);continue}}h!==null?(h.return=f,ie=h):wE(d)}l=l.sibling}e:for(l=null,d=t;;){if(d.tag===5){if(l===null){l=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=X_("display",o))}catch(y){kt(t,t.return,y)}}}else if(d.tag===6){if(l===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){kt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;l===d&&(l=null),d=d.return}l===d&&(l=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ai(e,t),Ri(t),n&4&&mE(t);break;case 21:break;default:ai(e,t),Ri(t)}}function Ri(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(S5(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(hd(i,""),n.flags&=-33);var s=gE(t);Iw(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=gE(t);Sw(t,a,o);break;default:throw Error(W(161))}}catch(c){kt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uP(t,e,r){ie=t,N5(t)}function N5(t,e,r){for(var n=(t.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||lh;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Hr;a=lh;var u=Hr;if(lh=o,(Hr=c)&&!u)for(ie=i;ie!==null;)o=ie,c=o.child,o.tag===22&&o.memoizedState!==null?vE(i):c!==null?(c.return=o,ie=c):vE(i);for(;s!==null;)ie=s,N5(s),s=s.sibling;ie=i,lh=a,Hr=u}yE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):yE(t)}}function yE(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hr||$0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Hr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:pi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tE(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}tE(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var l=u.memoizedState;if(l!==null){var d=l.dehydrated;d!==null&&yd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Hr||e.flags&512&&_w(e)}catch(f){kt(e,e.return,f)}}if(e===t){ie=null;break}if(r=e.sibling,r!==null){r.return=e.return,ie=r;break}ie=e.return}}function wE(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ie=r;break}ie=e.return}}function vE(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{$0(4,e)}catch(c){kt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){kt(e,i,c)}}var s=e.return;try{_w(e)}catch(c){kt(e,s,c)}break;case 5:var o=e.return;try{_w(e)}catch(c){kt(e,o,c)}}}catch(c){kt(e,e.return,c)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var lP=Math.ceil,Dp=qs.ReactCurrentDispatcher,$1=qs.ReactCurrentOwner,Yn=qs.ReactCurrentBatchConfig,Oe=0,Er=null,sr=null,kr=0,Nn=0,Hc=qo(0),fr=0,Nd=null,Na=0,U0=0,U1=0,ed=null,pn=null,L1=0,gu=1/0,Cs=null,Mp=!1,xw=null,Io=null,dh=!1,po=null,$p=0,td=0,Nw=null,Gh=-1,Qh=0;function Jr(){return Oe&6?Ot():Gh!==-1?Gh:Gh=Ot()}function xo(t){return t.mode&1?Oe&2&&kr!==0?kr&-kr:KT.transition!==null?(Qh===0&&(Qh=fS()),Qh):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:vS(t.type)),t):1}function Ci(t,e,r,n){if(50<td)throw td=0,Nw=null,Error(W(185));bf(t,r,n),(!(Oe&2)||t!==Er)&&(t===Er&&(!(Oe&2)&&(U0|=r),fr===4&&uo(t,kr)),wn(t,n),r===1&&Oe===0&&!(e.mode&1)&&(gu=Ot()+500,O0&&Wo()))}function wn(t,e){var r=t.callbackNode;KN(t,e);var n=vp(t,t===Er?kr:0);if(n===0)r!==null&&N2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&N2(r),e===1)t.tag===0?VT(bE.bind(null,t)):LS(bE.bind(null,t)),zT(function(){!(Oe&6)&&Wo()}),r=null;else{switch(hS(n)){case 1:r=l1;break;case 4:r=lS;break;case 16:r=wp;break;case 536870912:r=dS;break;default:r=wp}r=$5(r,T5.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function T5(t,e){if(Gh=-1,Qh=0,Oe&6)throw Error(W(327));var r=t.callbackNode;if(eu()&&t.callbackNode!==r)return null;var n=vp(t,t===Er?kr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Up(t,n);else{e=n;var i=Oe;Oe|=2;var s=k5();(Er!==t||kr!==e)&&(Cs=null,gu=Ot()+500,va(t,e));do try{hP();break}catch(a){P5(t,a)}while(!0);C1(),Dp.current=s,Oe=i,sr!==null?e=0:(Er=null,kr=0,e=fr)}if(e!==0){if(e===2&&(i=tw(t),i!==0&&(n=i,e=Tw(t,i))),e===1)throw r=Nd,va(t,0),uo(t,n),wn(t,Ot()),r;if(e===6)uo(t,n);else{if(i=t.current.alternate,!(n&30)&&!dP(i)&&(e=Up(t,n),e===2&&(s=tw(t),s!==0&&(n=s,e=Tw(t,s))),e===1))throw r=Nd,va(t,0),uo(t,n),wn(t,Ot()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(W(345));case 2:ta(t,pn,Cs);break;case 3:if(uo(t,n),(n&130023424)===n&&(e=L1+500-Ot(),10<e)){if(vp(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Jr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=uw(ta.bind(null,t,pn,Cs),e);break}ta(t,pn,Cs);break;case 4:if(uo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Ai(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lP(n/1960))-n,10<n){t.timeoutHandle=uw(ta.bind(null,t,pn,Cs),n);break}ta(t,pn,Cs);break;case 5:ta(t,pn,Cs);break;default:throw Error(W(329))}}}return wn(t,Ot()),t.callbackNode===r?T5.bind(null,t):null}function Tw(t,e){var r=ed;return t.current.memoizedState.isDehydrated&&(va(t,e).flags|=256),t=Up(t,e),t!==2&&(e=pn,pn=r,e!==null&&Pw(e)),t}function Pw(t){pn===null?pn=t:pn.push.apply(pn,t)}function dP(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ii(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function uo(t,e){for(e&=~U1,e&=~U0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ai(e),n=1<<r;t[r]=-1,e&=~n}}function bE(t){if(Oe&6)throw Error(W(327));eu();var e=vp(t,0);if(!(e&1))return wn(t,Ot()),null;var r=Up(t,e);if(t.tag!==0&&r===2){var n=tw(t);n!==0&&(e=n,r=Tw(t,n))}if(r===1)throw r=Nd,va(t,0),uo(t,e),wn(t,Ot()),r;if(r===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ta(t,pn,Cs),wn(t,Ot()),null}function F1(t,e){var r=Oe;Oe|=1;try{return t(e)}finally{Oe=r,Oe===0&&(gu=Ot()+500,O0&&Wo())}}function Ta(t){po!==null&&po.tag===0&&!(Oe&6)&&eu();var e=Oe;Oe|=1;var r=Yn.transition,n=Ve;try{if(Yn.transition=null,Ve=1,t)return t()}finally{Ve=n,Yn.transition=r,Oe=e,!(Oe&6)&&Wo()}}function B1(){Nn=Hc.current,dt(Hc)}function va(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,jT(r)),sr!==null)for(r=sr.return;r!==null;){var n=r;switch(b1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_p();break;case 3:hu(),dt(mn),dt(Vr),T1();break;case 5:N1(n);break;case 4:hu();break;case 13:dt(At);break;case 19:dt(At);break;case 10:_1(n.type._context);break;case 22:case 23:B1()}r=r.return}if(Er=t,sr=t=No(t.current,null),kr=Nn=e,fr=0,Nd=null,U1=U0=Na=0,pn=ed=null,la!==null){for(e=0;e<la.length;e++)if(r=la[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}la=null}return t}function P5(t,e){do{var r=sr;try{if(C1(),Wh.current=Op,Rp){for(var n=Ct.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Rp=!1}if(xa=0,mr=lr=Ct=null,Zl=!1,Sd=0,$1.current=null,r===null||r.return===null){fr=1,Nd=e,sr=null;break}e:{var s=t,o=r.return,a=r,c=e;if(e=kr,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,l=a,d=l.tag;if(!(l.mode&1)&&(d===0||d===11||d===15)){var f=l.alternate;f?(l.updateQueue=f.updateQueue,l.memoizedState=f.memoizedState,l.lanes=f.lanes):(l.updateQueue=null,l.memoizedState=null)}var h=aE(o);if(h!==null){h.flags&=-257,cE(h,o,a,s,e),h.mode&1&&oE(s,u,e),e=h,c=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(c),e.updateQueue=y}else g.add(c);break e}else{if(!(e&1)){oE(s,u,e),j1();break e}c=Error(W(426))}}else if(gt&&a.mode&1){var _=aE(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),cE(_,o,a,s,e),E1(pu(c,a));break e}}s=c=pu(c,a),fr!==4&&(fr=2),ed===null?ed=[s]:ed.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=h5(s,c,e);eE(s,v);break e;case 1:a=c;var w=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Io===null||!Io.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=p5(s,a,e);eE(s,P);break e}}s=s.return}while(s!==null)}O5(r)}catch(R){e=R,sr===r&&r!==null&&(sr=r=r.return);continue}break}while(!0)}function k5(){var t=Dp.current;return Dp.current=Op,t===null?Op:t}function j1(){(fr===0||fr===3||fr===2)&&(fr=4),Er===null||!(Na&268435455)&&!(U0&268435455)||uo(Er,kr)}function Up(t,e){var r=Oe;Oe|=2;var n=k5();(Er!==t||kr!==e)&&(Cs=null,va(t,e));do try{fP();break}catch(i){P5(t,i)}while(!0);if(C1(),Oe=r,Dp.current=n,sr!==null)throw Error(W(261));return Er=null,kr=0,fr}function fP(){for(;sr!==null;)R5(sr)}function hP(){for(;sr!==null&&!LN();)R5(sr)}function R5(t){var e=M5(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?O5(t):sr=e,$1.current=null}function O5(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=oP(r,e),r!==null){r.flags&=32767,sr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fr=6,sr=null;return}}else if(r=sP(r,e,Nn),r!==null){sr=r;return}if(e=e.sibling,e!==null){sr=e;return}sr=e=t}while(e!==null);fr===0&&(fr=5)}function ta(t,e,r){var n=Ve,i=Yn.transition;try{Yn.transition=null,Ve=1,pP(t,e,r,n)}finally{Yn.transition=i,Ve=n}return null}function pP(t,e,r,n){do eu();while(po!==null);if(Oe&6)throw Error(W(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(GN(t,s),t===Er&&(sr=Er=null,kr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||dh||(dh=!0,$5(wp,function(){return eu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Yn.transition,Yn.transition=null;var o=Ve;Ve=1;var a=Oe;Oe|=4,$1.current=null,cP(t,r),x5(r,t),DT(aw),bp=!!ow,aw=ow=null,t.current=r,uP(r),FN(),Oe=a,Ve=o,Yn.transition=s}else t.current=r;if(dh&&(dh=!1,po=t,$p=i),s=t.pendingLanes,s===0&&(Io=null),zN(r.stateNode),wn(t,Ot()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Mp)throw Mp=!1,t=xw,xw=null,t;return $p&1&&t.tag!==0&&eu(),s=t.pendingLanes,s&1?t===Nw?td++:(td=0,Nw=t):td=0,Wo(),null}function eu(){if(po!==null){var t=hS($p),e=Yn.transition,r=Ve;try{if(Yn.transition=null,Ve=16>t?16:t,po===null)var n=!1;else{if(t=po,po=null,$p=0,Oe&6)throw Error(W(331));var i=Oe;for(Oe|=4,ie=t.current;ie!==null;){var s=ie,o=s.child;if(ie.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(ie=u;ie!==null;){var l=ie;switch(l.tag){case 0:case 11:case 15:Xl(8,l,s)}var d=l.child;if(d!==null)d.return=l,ie=d;else for(;ie!==null;){l=ie;var f=l.sibling,h=l.return;if(_5(l),l===u){ie=null;break}if(f!==null){f.return=h,ie=f;break}ie=h}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ie=o;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xl(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ie=v;break e}ie=s.return}}var w=t.current;for(ie=w;ie!==null;){o=ie;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,ie=A;else e:for(o=w;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$0(9,a)}}catch(R){kt(a,a.return,R)}if(a===o){ie=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,ie=P;break e}ie=a.return}}if(Oe=i,Wo(),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(N0,t)}catch{}n=!0}return n}finally{Ve=r,Yn.transition=e}}return!1}function EE(t,e,r){e=pu(r,e),e=h5(t,e,1),t=So(t,e,1),e=Jr(),t!==null&&(bf(t,1,e),wn(t,e))}function kt(t,e,r){if(t.tag===3)EE(t,t,r);else for(;e!==null;){if(e.tag===3){EE(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Io===null||!Io.has(n))){t=pu(r,t),t=p5(e,t,1),e=So(e,t,1),t=Jr(),e!==null&&(bf(e,1,t),wn(e,t));break}}e=e.return}}function gP(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Jr(),t.pingedLanes|=t.suspendedLanes&r,Er===t&&(kr&r)===r&&(fr===4||fr===3&&(kr&130023424)===kr&&500>Ot()-L1?va(t,0):U1|=r),wn(t,e)}function D5(t,e){e===0&&(t.mode&1?(e=th,th<<=1,!(th&130023424)&&(th=4194304)):e=1);var r=Jr();t=$s(t,e),t!==null&&(bf(t,e,r),wn(t,r))}function mP(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),D5(t,r)}function yP(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(e),D5(t,r)}var M5;M5=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)gn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return gn=!1,iP(t,e,r);gn=!!(t.flags&131072)}else gn=!1,gt&&e.flags&1048576&&FS(e,xp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Kh(t,e),t=e.pendingProps;var i=lu(e,Vr.current);Xc(e,r),i=k1(null,e,n,t,i,r);var s=R1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(n)?(s=!0,Sp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,I1(e),i.updater=M0,e.stateNode=i,i._reactInternals=e,mw(e,n,t,r),e=vw(null,e,n,!0,s,r)):(e.tag=0,gt&&s&&v1(e),Yr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Kh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=vP(n),t=pi(n,t),i){case 0:e=ww(null,e,n,t,r);break e;case 1:e=dE(null,e,n,t,r);break e;case 11:e=uE(null,e,n,t,r);break e;case 14:e=lE(null,e,n,pi(n.type,t),r);break e}throw Error(W(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pi(n,i),ww(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pi(n,i),dE(t,e,n,i,r);case 3:e:{if(w5(e),t===null)throw Error(W(387));n=e.pendingProps,s=e.memoizedState,i=s.element,WS(t,e),Pp(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=pu(Error(W(423)),e),e=fE(t,e,n,r,i);break e}else if(n!==i){i=pu(Error(W(424)),e),e=fE(t,e,n,r,i);break e}else for(kn=_o(e.stateNode.containerInfo.firstChild),On=e,gt=!0,yi=null,r=HS(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(du(),n===i){e=Us(t,e,r);break e}Yr(t,e,n,r)}e=e.child}return e;case 5:return VS(e),t===null&&hw(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,cw(n,i)?o=null:s!==null&&cw(n,s)&&(e.flags|=32),y5(t,e),Yr(t,e,o,r),e.child;case 6:return t===null&&hw(e),null;case 13:return v5(t,e,r);case 4:return x1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=fu(e,null,n,r):Yr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pi(n,i),uE(t,e,n,i,r);case 7:return Yr(t,e,e.pendingProps,r),e.child;case 8:return Yr(t,e,e.pendingProps.children,r),e.child;case 12:return Yr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,st(Np,n._currentValue),n._currentValue=o,s!==null)if(Ii(s.value,o)){if(s.children===i.children&&!mn.current){e=Us(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Ts(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var l=u.pending;l===null?c.next=c:(c.next=l.next,l.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),pw(s.return,r,e),a.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),pw(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Yr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Xc(e,r),i=Zn(i),n=n(i),e.flags|=1,Yr(t,e,n,r),e.child;case 14:return n=e.type,i=pi(n,e.pendingProps),i=pi(n.type,i),lE(t,e,n,i,r);case 15:return g5(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pi(n,i),Kh(t,e),e.tag=1,yn(n)?(t=!0,Sp(e)):t=!1,Xc(e,r),f5(e,n,i),mw(e,n,i,r),vw(null,e,n,!0,t,r);case 19:return b5(t,e,r);case 22:return m5(t,e,r)}throw Error(W(156,e.tag))};function $5(t,e){return uS(t,e)}function wP(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,r,n){return new wP(t,e,r,n)}function z1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vP(t){if(typeof t=="function")return z1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===a1)return 11;if(t===c1)return 14}return 2}function No(t,e){var r=t.alternate;return r===null?(r=Gn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Yh(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")z1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Oc:return ba(r.children,i,s,e);case o1:o=8,i|=8;break;case By:return t=Gn(12,r,e,i|2),t.elementType=By,t.lanes=s,t;case jy:return t=Gn(13,r,e,i),t.elementType=jy,t.lanes=s,t;case zy:return t=Gn(19,r,e,i),t.elementType=zy,t.lanes=s,t;case V_:return L0(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q_:o=10;break e;case W_:o=9;break e;case a1:o=11;break e;case c1:o=14;break e;case no:o=16,n=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Gn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ba(t,e,r,n){return t=Gn(7,t,n,e),t.lanes=r,t}function L0(t,e,r,n){return t=Gn(22,t,n,e),t.elementType=V_,t.lanes=r,t.stateNode={isHidden:!1},t}function bm(t,e,r){return t=Gn(6,t,null,e),t.lanes=r,t}function Em(t,e,r){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bP(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tm(0),this.expirationTimes=tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function H1(t,e,r,n,i,s,o,a,c){return t=new bP(t,e,r,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},I1(s),t}function EP(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function U5(t){if(!t)return $o;t=t._reactInternals;e:{if(Ka(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var r=t.type;if(yn(r))return US(t,r,e)}return e}function L5(t,e,r,n,i,s,o,a,c){return t=H1(r,n,!0,t,i,s,o,a,c),t.context=U5(null),r=t.current,n=Jr(),i=xo(r),s=Ts(n,i),s.callback=e??null,So(r,s,i),t.current.lanes=i,bf(t,i,n),wn(t,n),t}function F0(t,e,r,n){var i=e.current,s=Jr(),o=xo(i);return r=U5(r),e.context===null?e.context=r:e.pendingContext=r,e=Ts(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=So(i,e,o),t!==null&&(Ci(t,i,o,s),qh(t,i,o)),o}function Lp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function AE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function q1(t,e){AE(t,e),(t=t.alternate)&&AE(t,e)}function AP(){return null}var F5=typeof reportError=="function"?reportError:function(t){console.error(t)};function W1(t){this._internalRoot=t}B0.prototype.render=W1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));F0(t,e,null,null)};B0.prototype.unmount=W1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ta(function(){F0(null,t,null,null)}),e[Ms]=null}};function B0(t){this._internalRoot=t}B0.prototype.unstable_scheduleHydration=function(t){if(t){var e=mS();t={blockedOn:null,target:t,priority:e};for(var r=0;r<co.length&&e!==0&&e<co[r].priority;r++);co.splice(r,0,t),r===0&&wS(t)}};function V1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function j0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function CE(){}function CP(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Lp(o);s.call(u)}}var o=L5(e,n,t,0,null,!1,!1,"",CE);return t._reactRootContainer=o,t[Ms]=o.current,bd(t.nodeType===8?t.parentNode:t),Ta(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Lp(c);a.call(u)}}var c=H1(t,0,!1,null,null,!1,!1,"",CE);return t._reactRootContainer=c,t[Ms]=c.current,bd(t.nodeType===8?t.parentNode:t),Ta(function(){F0(e,c,r,n)}),c}function z0(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=Lp(o);a.call(c)}}F0(e,o,t,i)}else o=CP(r,e,t,i,n);return Lp(o)}pS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ll(e.pendingLanes);r!==0&&(d1(e,r|1),wn(e,Ot()),!(Oe&6)&&(gu=Ot()+500,Wo()))}break;case 13:Ta(function(){var n=$s(t,1);if(n!==null){var i=Jr();Ci(n,t,1,i)}}),q1(t,1)}};f1=function(t){if(t.tag===13){var e=$s(t,134217728);if(e!==null){var r=Jr();Ci(e,t,134217728,r)}q1(t,134217728)}};gS=function(t){if(t.tag===13){var e=xo(t),r=$s(t,e);if(r!==null){var n=Jr();Ci(r,t,e,n)}q1(t,e)}};mS=function(){return Ve};yS=function(t,e){var r=Ve;try{return Ve=t,e()}finally{Ve=r}};Zy=function(t,e,r){switch(e){case"input":if(Wy(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=R0(n);if(!i)throw Error(W(90));G_(n),Wy(n,i)}}}break;case"textarea":Y_(t,r);break;case"select":e=r.value,e!=null&&Qc(t,!!r.multiple,e,!1)}};nS=F1;iS=Ta;var _P={usingClientEntryPoint:!1,Events:[Af,Uc,R0,tS,rS,F1]},fl={findFiberByHostInstance:ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SP={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aS(t),t===null?null:t.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||AP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{N0=fh.inject(SP),Wi=fh}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_P;$n.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V1(e))throw Error(W(200));return EP(t,e,null,r)};$n.createRoot=function(t,e){if(!V1(t))throw Error(W(299));var r=!1,n="",i=F5;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=H1(t,1,!1,null,null,r,!1,n,i),t[Ms]=e.current,bd(t.nodeType===8?t.parentNode:t),new W1(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=aS(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return Ta(t)};$n.hydrate=function(t,e,r){if(!j0(e))throw Error(W(200));return z0(null,t,e,!0,r)};$n.hydrateRoot=function(t,e,r){if(!V1(t))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=F5;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=L5(e,null,t,1,r??null,i,!1,s,o),t[Ms]=e.current,bd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new B0(e)};$n.render=function(t,e,r){if(!j0(e))throw Error(W(200));return z0(null,t,e,!1,r)};$n.unmountComponentAtNode=function(t){if(!j0(t))throw Error(W(40));return t._reactRootContainer?(Ta(function(){z0(null,null,t,!1,function(){t._reactRootContainer=null,t[Ms]=null})}),!0):!1};$n.unstable_batchedUpdates=F1;$n.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!j0(r))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return z0(t,e,r,!1,n)};$n.version="18.3.1-next-f1338f8080-20240426";function B5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B5)}catch(t){console.error(t)}}B5(),B_.exports=$n;var IP=B_.exports,j5,_E=IP;j5=_E.createRoot,_E.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),TP=(t,e)=>{const r=Gc.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:c,...u},l)=>Gc.createElement("svg",{ref:l,...xP,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${NP(t)}`,a].join(" "),...u},[...e.map(([d,f])=>Gc.createElement(d,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=TP("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),kP=Symbol(),SE=Object.getPrototypeOf,kw=new WeakMap,RP=t=>t&&(kw.has(t)?kw.get(t):SE(t)===Object.prototype||SE(t)===Array.prototype),OP=t=>RP(t)&&t[kP]||null,IE=(t,e=!0)=>{kw.set(t,e)},Fp={},Am=t=>typeof t=="object"&&t!==null,so=new WeakMap,Bl=new WeakSet,DP=(t=Object.is,e=(u,l)=>new Proxy(u,l),r=u=>Am(u)&&!Bl.has(u)&&(Array.isArray(u)||!(Symbol.iterator in u))&&!(u instanceof WeakMap)&&!(u instanceof WeakSet)&&!(u instanceof Error)&&!(u instanceof Number)&&!(u instanceof Date)&&!(u instanceof String)&&!(u instanceof RegExp)&&!(u instanceof ArrayBuffer),n=u=>{switch(u.status){case"fulfilled":return u.value;case"rejected":throw u.reason;default:throw u}},i=new WeakMap,s=(u,l,d=n)=>{const f=i.get(u);if((f==null?void 0:f[0])===l)return f[1];const h=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u));return IE(h,!0),i.set(u,[l,h]),Reflect.ownKeys(u).forEach(g=>{if(Object.getOwnPropertyDescriptor(h,g))return;const y=Reflect.get(u,g),{enumerable:_}=Reflect.getOwnPropertyDescriptor(u,g),v={value:y,enumerable:_,configurable:!0};if(Bl.has(y))IE(y,!1);else if(y instanceof Promise)delete v.value,v.get=()=>d(y);else if(so.has(y)){const[w,A]=so.get(y);v.value=s(w,A(),d)}Object.defineProperty(h,g,v)}),Object.preventExtensions(h)},o=new WeakMap,a=[1,1],c=u=>{if(!Am(u))throw new Error("object required");const l=o.get(u);if(l)return l;let d=a[0];const f=new Set,h=($,F=++a[0])=>{d!==F&&(d=F,f.forEach(x=>x($,F)))};let g=a[1];const y=($=++a[1])=>(g!==$&&!f.size&&(g=$,v.forEach(([F])=>{const x=F[1]($);x>d&&(d=x)})),d),_=$=>(F,x)=>{const p=[...F];p[1]=[$,...p[1]],h(p,x)},v=new Map,w=($,F)=>{if((Fp?"production":void 0)!=="production"&&v.has($))throw new Error("prop listener already exists");if(f.size){const x=F[3](_($));v.set($,[F,x])}else v.set($,[F])},A=$=>{var F;const x=v.get($);x&&(v.delete($),(F=x[1])==null||F.call(x))},P=$=>(f.add($),f.size===1&&v.forEach(([x,p],b)=>{if((Fp?"production":void 0)!=="production"&&p)throw new Error("remove already exists");const I=x[3](_(b));v.set(b,[x,I])}),()=>{f.delete($),f.size===0&&v.forEach(([x,p],b)=>{p&&(p(),v.set(b,[x]))})}),R=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u)),M=e(R,{deleteProperty($,F){const x=Reflect.get($,F);A(F);const p=Reflect.deleteProperty($,F);return p&&h(["delete",[F],x]),p},set($,F,x,p){const b=Reflect.has($,F),I=Reflect.get($,F,p);if(b&&(t(I,x)||o.has(x)&&t(I,o.get(x))))return!0;A(F),Am(x)&&(x=OP(x)||x);let E=x;if(x instanceof Promise)x.then(C=>{x.status="fulfilled",x.value=C,h(["resolve",[F],C])}).catch(C=>{x.status="rejected",x.reason=C,h(["reject",[F],C])});else{!so.has(x)&&r(x)&&(E=c(x));const C=!Bl.has(E)&&so.get(E);C&&w(F,C)}return Reflect.set($,F,E,p),h(["set",[F],x,I]),!0}});o.set(u,M);const L=[R,y,s,P];return so.set(M,L),Reflect.ownKeys(u).forEach($=>{const F=Object.getOwnPropertyDescriptor(u,$);"value"in F&&(M[$]=u[$],delete F.value,delete F.writable),Object.defineProperty(R,$,F)}),M})=>[c,so,Bl,t,e,r,n,i,s,o,a],[MP]=DP();function ft(t={}){return MP(t)}function en(t,e,r){const n=so.get(t);(Fp?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i;const s=[],o=n[3];let a=!1;const u=o(l=>{s.push(l),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,u()}}function Td(t,e){const r=so.get(t);(Fp?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");const[n,i,s]=r;return s(n,i(),e)}function Pa(t){return Bl.add(t),t}function sn(t,e,r,n){let i=t[e];return en(t,()=>{const s=t[e];Object.is(i,s)||r(i=s)})}function $P(t){const e=ft({data:Array.from([]),has(r){return this.data.some(n=>n[0]===r)},set(r,n){const i=this.data.find(s=>s[0]===r);return i?i[1]=n:this.data.push([r,n]),this},get(r){var n;return(n=this.data.find(i=>i[0]===r))==null?void 0:n[1]},delete(r){const n=this.data.findIndex(i=>i[0]===r);return n===-1?!1:(this.data.splice(n,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(r){this.data.forEach(n=>{r(n[1],n[0],this)})},keys(){return this.data.map(r=>r[0]).values()},values(){return this.data.map(r=>r[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const Pd={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(r=>r.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var UP=20,LP=1,$u=1e6,FP=1e6,BP=-7,jP=21,zP=!1,_f="[big.js] ",Ga=_f+"Invalid ",H0=Ga+"decimal places",HP=Ga+"rounding mode",z5=_f+"Division by zero",Ke={},Ki=void 0,qP=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function H5(){function t(e){var r=this;if(!(r instanceof t))return e===Ki?H5():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Ga+"value");e=e===0&&1/e<0?"-0":String(e)}WP(r,e)}r.constructor=t}return t.prototype=Ke,t.DP=UP,t.RM=LP,t.NE=BP,t.PE=jP,t.strict=zP,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function WP(t,e){var r,n,i;if(!qP.test(e))throw Error(Ga+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&e.charAt(n)=="0";)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}return t}function Qa(t,e,r,n){var i=t.c;if(r===Ki&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(HP);if(e<1)n=r===3&&(n||!!i[0])||e===0&&(r===1&&i[0]>=5||r===2&&(i[0]>5||i[0]===5&&(n||i[1]!==Ki))),i.length=1,n?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(n=r===1&&i[e]>=5||r===2&&(i[e]>5||i[e]===5&&(n||i[e+1]!==Ki||i[e-1]&1))||r===3&&(n||!!i[0]),i.length=e,n){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function Ya(t,e,r){var n=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>s)for(n-=s;n--;)i+="0";else n<s&&(i=i.slice(0,n)+"."+i.slice(n));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&r?"-"+i:i}Ke.abs=function(){var t=new this.constructor(this);return t.s=1,t};Ke.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,s=r.s,o=t.s,a=r.e,c=t.e;if(!n[0]||!i[0])return n[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=n.length)<(c=i.length)?a:c,s=-1;++s<o;)if(n[s]!=i[s])return n[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};Ke.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,s=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>$u)throw Error(H0);if(!i[0])throw Error(z5);if(!n[0])return t.s=s,t.c=[t.e=0],t;var a,c,u,l,d,f=i.slice(),h=a=i.length,g=n.length,y=n.slice(0,a),_=y.length,v=t,w=v.c=[],A=0,P=o+(v.e=e.e-t.e)+1;for(v.s=s,s=P<0?0:P,f.unshift(0);_++<a;)y.push(0);do{for(u=0;u<10;u++){if(a!=(_=y.length))l=a>_?1:-1;else for(d=-1,l=0;++d<a;)if(i[d]!=y[d]){l=i[d]>y[d]?1:-1;break}if(l<0){for(c=_==a?i:f;_;){if(y[--_]<c[_]){for(d=_;d&&!y[--d];)y[d]=9;--y[d],y[_]+=10}y[_]-=c[_]}for(;!y[0];)y.shift()}else break}w[A++]=l?u:++u,y[0]&&l?y[_]=n[h]||0:y=[n[h]]}while((h++<g||y[0]!==Ki)&&s--);return!w[0]&&A!=1&&(w.shift(),v.e--,P--),A>P&&Qa(v,P,r.RM,y[0]!==Ki),v};Ke.eq=function(t){return this.cmp(t)===0};Ke.gt=function(t){return this.cmp(t)>0};Ke.gte=function(t){return this.cmp(t)>-1};Ke.lt=function(t){return this.cmp(t)<0};Ke.lte=function(t){return this.cmp(t)<1};Ke.minus=Ke.sub=function(t){var e,r,n,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var u=s.c.slice(),l=s.e,d=t.c,f=t.e;if(!u[0]||!d[0])return d[0]?t.s=-c:u[0]?t=new o(s):t.s=1,t;if(a=l-f){for((i=a<0)?(a=-a,n=u):(f=l,n=d),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((i=u.length<d.length)?u:d).length,a=c=0;c<r;c++)if(u[c]!=d[c]){i=u[c]<d[c];break}if(i&&(n=u,u=d,d=n,t.s=-t.s),(c=(r=d.length)-(e=u.length))>0)for(;c--;)u[e++]=0;for(c=e;r>a;){if(u[--r]<d[r]){for(e=r;e&&!u[--e];)u[e]=9;--u[e],u[r]+=10}u[r]-=d[r]}for(;u[--c]===0;)u.pop();for(;u[0]===0;)u.shift(),--f;return u[0]||(t.s=1,u=[f=0]),t.c=u,t.e=f,t};Ke.mod=function(t){var e,r=this,n=r.constructor,i=r.s,s=(t=new n(t)).s;if(!t.c[0])throw Error(z5);return r.s=t.s=1,e=t.cmp(r)==1,r.s=i,t.s=s,e?new n(r):(i=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=s,this.minus(r.times(t)))};Ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Ke.plus=Ke.add=function(t){var e,r,n,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,u=t.c;if(!a[0]||!u[0])return u[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,n=u):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-u.length<0&&(n=u,u=a,a=n),e=u.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+u[e]+r)/10|0;for(r&&(a.unshift(r),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Ke.pow=function(t){var e=this,r=new e.constructor("1"),n=r,i=t<0;if(t!==~~t||t<-1e6||t>FP)throw Error(Ga+"exponent");for(i&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return i?r.div(n):n};Ke.prec=function(t,e){if(t!==~~t||t<1||t>$u)throw Error(Ga+"precision");return Qa(new this.constructor(this),t,e)};Ke.round=function(t,e){if(t===Ki)t=0;else if(t!==~~t||t<-1e6||t>$u)throw Error(H0);return Qa(new this.constructor(this),t+this.e+1,e)};Ke.sqrt=function(){var t,e,r,n=this,i=n.constructor,s=n.s,o=n.e,a=new i("0.5");if(!n.c[0])return new i(n);if(s<0)throw Error(_f+"No square root");s=Math.sqrt(+Ya(n,!0,!0)),s===0||s===1/0?(e=n.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Qa(t,(i.DP-=4)+t.e+1,i.RM)};Ke.times=Ke.mul=function(t){var e,r=this,n=r.constructor,i=r.c,s=(t=new n(t)).c,o=i.length,a=s.length,c=r.e,u=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+u,o<a&&(e=i,i=s,s=e,u=o,o=a,a=u),e=new Array(u=o+a);u--;)e[u]=0;for(c=a;c--;){for(a=0,u=o+c;u>c;)a=e[u]+s[c]*i[u-c-1]+a,e[u--]=a%10,a=a/10|0;e[u]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Ke.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==Ki){if(t!==~~t||t<0||t>$u)throw Error(H0);for(r=Qa(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return Ya(r,!0,!!n)};Ke.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==Ki){if(t!==~~t||t<0||t>$u)throw Error(H0);for(r=Qa(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return Ya(r,!1,!!n)};Ke[Symbol.for("nodejs.util.inspect.custom")]=Ke.toJSON=Ke.toString=function(){var t=this,e=t.constructor;return Ya(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Ke.toNumber=function(){var t=+Ya(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(_f+"Imprecise conversion");return t};Ke.toPrecision=function(t,e){var r=this,n=r.constructor,i=r.c[0];if(t!==Ki){if(t!==~~t||t<1||t>$u)throw Error(Ga+"precision");for(r=Qa(new n(r),t,e);r.c.length<t;)r.c.push(0)}return Ya(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)};Ke.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(_f+"valueOf disallowed");return Ya(t,t.e<=e.NE||t.e>=e.PE,!0)};var hl=H5();const He={bigNumber(t){return t?new hl(t):new hl(0)},multiply(t,e){if(t===void 0||e===void 0)return new hl(0);const r=new hl(t),n=new hl(e);return r.times(n)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},VP=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],KP=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],GP=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],K={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"},QP={getERC20Abi:t=>K.USDT_CONTRACT_ADDRESSES.includes(t)?GP:VP,getSwapAbi:()=>KP},Gs={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,n,i]=e;if(!r||!n||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:n,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,n]=e;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:n}}},Ce={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache"};function Cm(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const ve={setItem(t,e){jl()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(jl())return localStorage.getItem(t)||void 0},removeItem(t){jl()&&localStorage.removeItem(t)},clear(){jl()&&localStorage.clear()}};function jl(){return typeof window<"u"&&typeof localStorage<"u"}function xs(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}function YP(t){return(t==null?void 0:t.endsWith(K.WC_NAME_SUFFIX_LEGACY))||(t==null?void 0:t.endsWith(K.WC_NAME_SUFFIX))}var xE={};const _m=(typeof process<"u"&&typeof xE<"u"?xE.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",Ere=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Are="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Mt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:_m,SECURE_SITE_DASHBOARD:`${_m}/dashboard`,SECURE_SITE_FAVICON:`${_m}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155","solana"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},se={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=se.getActiveNamespace(),e=se.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:n}},setWalletConnectDeepLink({name:t,href:e}){try{ve.setItem(Ce.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=ve.getItem(Ce.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{ve.removeItem(Ce.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{ve.setItem(Ce.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{ve.setItem(Ce.ACTIVE_CAIP_NETWORK_ID,t),se.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return ve.getItem(Ce.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{ve.removeItem(Ce.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=Cm(t);ve.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=se.getRecentWallets();e.find(n=>n.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),ve.setItem(Ce.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=ve.getItem(Ce.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const r=Cm(t);ve.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return ve.getItem(Ce.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=Cm(t);return ve.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{ve.setItem(Ce.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return ve.getItem(Ce.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{ve.removeItem(Ce.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return ve.getItem(Ce.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var r;const t=ve.getItem(Ce.ACTIVE_CAIP_NETWORK_ID);return(r=t==null?void 0:t.split(":"))==null?void 0:r[1]},setConnectionStatus(t){try{ve.setItem(Ce.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return ve.getItem(Ce.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=ve.getItem(Ce.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));ve.setItem(Ce.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=se.getConnectedNamespaces();e.includes(t)||(e.push(t),se.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=se.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),se.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return ve.getItem(Ce.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{ve.setItem(Ce.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{ve.removeItem(Ce.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=ve.getItem(Ce.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=se.getBalanceCache();ve.setItem(Ce.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=se.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;se.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=se.getBalanceCache();e[t.caipAddress]=t,ve.setItem(Ce.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=ve.getItem(Ce.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=se.getBalanceCache();ve.setItem(Ce.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=se.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),se.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=se.getNativeBalanceCache();e[t.caipAddress]=t,ve.setItem(Ce.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=ve.getItem(Ce.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=se.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;se.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=se.getEnsCache();e[t.address]=t,ve.setItem(Ce.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=se.getEnsCache();ve.setItem(Ce.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=ve.getItem(Ce.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=se.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;se.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=se.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},ve.setItem(Ce.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=se.getIdentityCache();ve.setItem(Ce.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{ve.removeItem(Ce.PORTFOLIO_CACHE),ve.removeItem(Ce.NATIVE_BALANCE_CACHE),ve.removeItem(Ce.ENS_CACHE),ve.removeItem(Ce.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}}},he={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return he.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Mt.TEN_SEC_MS:!0},isAllowedRetry(t,e=Mt.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+Mt.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e){if(he.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},formatUniversalUrl(t,e){if(!he.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?se.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window==null||window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},async preloadImage(t){const e=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,he.wait(2e3)])},formatBalance(t,e){let r="0.000";if(typeof t=="string"){const n=Number(t);if(n){const i=Math.floor(n*1e3)/1e3;i&&(r=i.toString())}}return`${r}${e?` ${e}`:""}`},formatBalance2(t,e){var n;let r;if(t==="0")r="0";else if(typeof t=="string"){const i=Number(t);i&&(r=(n=i.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:n[0])}return{value:r??"0",rest:r==="0"?"000":"",symbol:e}},getApiUrl(){return K.W3M_API_URL},getBlockchainApiUrl(){return K.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return K.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,r;return typeof t=="string"?t:typeof((r=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:r.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((n,i)=>{r[n]=i}),e.sort((n,i)=>{const s=r[n.id],o=r[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,n]=e.split(".");return{dollars:r,pennies:n}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(n=>{const i=n[e];return r.has(i)?!1:(r.add(i),!0)})},generateSdkVersion(t,e,r){const i=t.length===0?Mt.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${r}`},createAccount(t,e,r,n,i){return{namespace:t,address:e,type:r,publicKey:n,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in K.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),r,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const n=t.indexOf(e);if(n===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",n),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,n+s),c=t.substring(n+s,o),u=t.substring(i),l=c+r;return a+l+u}};async function pl(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class q0{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:n,...i}){const s=this.createUrl(i);return(await pl(s,{method:"GET",headers:e,signal:r,cache:n})).json()}async getBlob({headers:e,signal:r,...n}){const i=this.createUrl(n);return(await pl(i,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await pl(s,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await pl(s,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await pl(s,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:r}){const n=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([i,s])=>{s&&n.searchParams.append(i,s)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}}const JP={handleSolanaDeeplinkRedirect(t){if(U.state.activeChain===K.CHAIN.SOLANA){const e=window.location.href,r=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const n=e.startsWith("https")?"https":"http",i=e.split("/")[2],s=encodeURIComponent(`${n}://${i}`);window.location.href=`https://phantom.app/ul/browse/${r}?ref=${s}`}t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${r}`)}}},_n=ft({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),wi={state:_n,subscribeNetworkImages(t){return en(_n.networkImages,()=>t(_n.networkImages))},subscribeKey(t,e){return sn(_n,t,e)},subscribe(t){return en(_n,()=>t(_n))},setWalletImage(t,e){_n.walletImages[t]=e},setNetworkImage(t,e){_n.networkImages[t]=e},setChainImage(t,e){_n.chainImages[t]=e},setConnectorImage(t,e){_n.connectorImages={..._n.connectorImages,[t]:e}},setTokenImage(t,e){_n.tokenImages[t]=e},setCurrencyImage(t,e){_n.currencyImages[t]=e}},ZP={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},Sm=ft({networkImagePromises:{}}),q5={async fetchWalletImage(t){if(t)return await be._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(Sm.networkImagePromises[t]||(Sm.networkImagePromises[t]=be._fetchNetworkImage(t)),await Sm.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return wi.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return wi.state.walletImages[t.image_id]},getNetworkImage(t){var e,r,n;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(r=t==null?void 0:t.assets)==null?void 0:r.imageUrl;if((n=t==null?void 0:t.assets)!=null&&n.imageId)return wi.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return wi.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return wi.state.connectorImages[t.imageId]},getChainImage(t){return wi.state.networkImages[ZP[t]]}},XP={getFeatureValue(t,e){const r=e==null?void 0:e[t];return r===void 0?Mt.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(he.isTelegram()){if(he.isIos())return t.filter(e=>e!=="google");if(he.isMac())return t.filter(e=>e!=="x");if(he.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},ge=ft({features:Mt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Mt.DEFAULT_ACCOUNT_TYPES}),J={state:ge,subscribeKey(t,e){return sn(ge,t,e)},setOptions(t){Object.assign(ge,t)},setFeatures(t){if(!t)return;ge.features||(ge.features=Mt.DEFAULT_FEATURES);const e={...ge.features,...t};ge.features=e,ge.features.socials&&(ge.features.socials=XP.filterSocialsByPlatform(ge.features.socials))},setProjectId(t){ge.projectId=t},setCustomRpcUrls(t){ge.customRpcUrls=t},setAllWallets(t){ge.allWallets=t},setIncludeWalletIds(t){ge.includeWalletIds=t},setExcludeWalletIds(t){ge.excludeWalletIds=t},setFeaturedWalletIds(t){ge.featuredWalletIds=t},setTokens(t){ge.tokens=t},setTermsConditionsUrl(t){ge.termsConditionsUrl=t},setPrivacyPolicyUrl(t){ge.privacyPolicyUrl=t},setCustomWallets(t){ge.customWallets=t},setIsSiweEnabled(t){ge.isSiweEnabled=t},setIsUniversalProvider(t){ge.isUniversalProvider=t},setSdkVersion(t){ge.sdkVersion=t},setMetadata(t){ge.metadata=t},setDisableAppend(t){ge.disableAppend=t},setEIP6963Enabled(t){ge.enableEIP6963=t},setDebug(t){ge.debug=t},setEnableWalletConnect(t){ge.enableWalletConnect=t},setEnableWalletGuide(t){ge.enableWalletGuide=t},setEnableAuthLogger(t){ge.enableAuthLogger=t},setEnableWallets(t){ge.enableWallets=t},setHasMultipleAddresses(t){ge.hasMultipleAddresses=t},setSIWX(t){ge.siwx=t},setConnectMethodsOrder(t){ge.features={...ge.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){ge.features={...ge.features,walletFeaturesOrder:t}},setSocialsOrder(t){ge.features={...ge.features,socials:t}},setCollapseWallets(t){ge.features={...ge.features,collapseWallets:t}},setEnableEmbedded(t){ge.enableEmbedded=t},setAllowUnsupportedChain(t){ge.allowUnsupportedChain=t},setManualWCControl(t){ge.manualWCControl=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(ge.defaultAccountTypes[e]=r)})},getSnapshot(){return Td(ge)}},Qs=ft({message:"",variant:"info",open:!1}),Ea={state:Qs,subscribeKey(t,e){return sn(Qs,t,e)},open(t,e){const{debug:r}=J.state,{shortMessage:n,longMessage:i}=t;r&&(Qs.message=n,Qs.variant=e,Qs.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){Qs.open=!1,Qs.message="",Qs.variant="info"}},e9=he.getAnalyticsUrl(),t9=new q0({baseUrl:e9,clientId:null}),r9=["MODAL_CREATED"],ds=ft({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),We={state:ds,subscribe(t){return en(ds,()=>t(ds))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=J.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=oe.state.address;if(r9.includes(t.data.event)||typeof window>"u")return;await t9.post({path:"/e",params:We.getSdkProperties(),body:{eventId:he.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),ds.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===K.HTTP_STATUS_CODES.FORBIDDEN&&!ds.reportedErrors.FORBIDDEN&&(Ea.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${jl()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),ds.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;ds.timestamp=Date.now(),ds.data=t,(e=J.state.features)!=null&&e.analytics&&We._sendAnalyticsEvent(ds)}},n9=he.getApiUrl(),Br=new q0({baseUrl:n9,clientId:null}),i9="40",NE="4",s9=20,je=ft({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedRDNS:[],isFetchingRecommendedWallets:!1}),be={state:je,subscribeKey(t,e){return sn(je,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=J.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return J.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Br.baseUrl}/getWalletImage/${t}`,r=await Br.getBlob({path:e,params:be._getSdkProperties()});wi.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${Br.baseUrl}/public/getAssetImage/${t}`,r=await Br.getBlob({path:e,params:be._getSdkProperties()});wi.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${Br.baseUrl}/public/getAssetImage/${t}`,r=await Br.getBlob({path:e,params:be._getSdkProperties()});wi.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${Br.baseUrl}/public/getCurrencyImage/${t}`,r=await Br.getBlob({path:e,params:be._getSdkProperties()});wi.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${Br.baseUrl}/public/getTokenImage/${t}`,r=await Br.getBlob({path:e,params:be._getSdkProperties()});wi.setTokenImage(t,URL.createObjectURL(r))},async fetchNetworkImages(){const t=U.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:r})=>r==null?void 0:r.imageId).filter(Boolean).filter(r=>!q5.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>be._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=ye.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>be._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>be._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>be._fetchTokenImage(e)))},async fetchFeaturedWallets(){const{featuredWalletIds:t}=J.state;if(t!=null&&t.length){const{data:e}=await Br.get({path:"/getWallets",params:{...be._getSdkProperties(),page:"1",entries:t!=null&&t.length?String(t.length):NE,include:t==null?void 0:t.join(",")}});e.sort((n,i)=>t.indexOf(n.id)-t.indexOf(i.id));const r=e.map(n=>n.image_id).filter(Boolean);await Promise.allSettled(r.map(n=>be._fetchWalletImage(n))),je.featured=e,je.allFeatured=e}},async fetchRecommendedWallets(){try{je.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=J.state,n=[...e??[],...r??[]].filter(Boolean),i=U.getRequestedCaipNetworkIds().join(","),{data:s,count:o}=await Br.get({path:"/getWallets",params:{...be._getSdkProperties(),page:"1",chains:i,entries:NE,include:t==null?void 0:t.join(","),exclude:n==null?void 0:n.join(",")}}),a=se.getRecentWallets(),c=s.map(l=>l.image_id).filter(Boolean),u=a.map(l=>l.image_id).filter(Boolean);await Promise.allSettled([...c,...u].map(l=>be._fetchWalletImage(l))),je.recommended=s,je.allRecommended=s,je.count=o??0}catch{}finally{je.isFetchingRecommendedWallets=!1}},async fetchWallets({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:n}=J.state,i=U.getRequestedCaipNetworkIds().join(","),s=[...je.recommended.map(({id:u})=>u),...r??[],...n??[]].filter(Boolean),{data:o,count:a}=await Br.get({path:"/getWallets",params:{...be._getSdkProperties(),page:String(t),entries:i9,chains:i,include:e==null?void 0:e.join(","),exclude:s.join(",")}}),c=o.slice(0,s9).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(c.map(u=>be._fetchWalletImage(u))),je.wallets=he.uniqueBy([...je.wallets,...be._filterOutExtensions(o)],"id"),je.count=a>je.count?a:je.count,je.page=t},async initializeExcludedWalletRdns({ids:t}){const e=U.getRequestedCaipNetworkIds().join(","),{data:r}=await Br.get({path:"/getWallets",params:{...be._getSdkProperties(),page:"1",entries:String(t.length),chains:e,include:t==null?void 0:t.join(",")}});r&&r.forEach(n=>{n!=null&&n.rdns&&je.excludedRDNS.push(n.rdns)})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:n}=J.state;je.search=[];const i=U.getRequestedCaipNetworkIds().join(","),{data:s}=await Br.get({path:"/getWallets",params:{...be._getSdkProperties(),page:"1",entries:"100",search:t==null?void 0:t.trim(),badge_type:e,chains:i,include:r==null?void 0:r.join(","),exclude:n==null?void 0:n.join(",")}});We.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const o=s.map(a=>a.image_id).filter(Boolean);await Promise.allSettled([...o.map(a=>be._fetchWalletImage(a)),he.wait(300)]),je.search=be._filterOutExtensions(s)},initPromise(t,e){const r=je.promises[t];return r||(je.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}={}){const i=[t&&be.initPromise("connectorImages",be.fetchConnectorImages),e&&be.initPromise("featuredWallets",be.fetchFeaturedWallets),r&&be.initPromise("recommendedWallets",be.fetchRecommendedWallets),n&&be.initPromise("networkImages",be.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var t;(t=J.state.features)!=null&&t.analytics&&be.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Br.get({path:"/getAnalyticsConfig",params:be._getSdkProperties()});J.setFeatures({analytics:t})}catch{J.setFeatures({analytics:!1})}},setFilterByNamespace(t){if(!t){je.featured=je.allFeatured,je.recommended=je.allRecommended;return}const e=U.getRequestedCaipNetworkIds().join(",");je.featured=je.allFeatured.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(i=>e.includes(i))}),je.recommended=je.allRecommended.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(i=>e.includes(i))})}},Fe=ft({view:"Connect",history:["Connect"],transactionStack:[]}),xe={state:Fe,subscribeKey(t,e){return sn(Fe,t,e)},pushTransactionStack(t){Fe.transactionStack.push(t)},popTransactionStack(t){var r,n;const e=Fe.transactionStack.pop();if(e)if(t)this.goBack(),(r=e==null?void 0:e.onCancel)==null||r.call(e);else{if(e.goBack)this.goBack();else if(e.replace){const s=Fe.history.indexOf("ConnectingSiwe");s>0?this.goBackToIndex(s-1):(or.close(),Fe.history=[])}else e.view&&this.reset(e.view);(n=e==null?void 0:e.onSuccess)==null||n.call(e)}},push(t,e){t!==Fe.view&&(Fe.view=t,Fe.history.push(t),Fe.data=e)},reset(t,e){Fe.view=t,Fe.history=[t],Fe.data=e},replace(t,e){Fe.history.at(-1)===t||(Fe.view=t,Fe.history[Fe.history.length-1]=t,Fe.data=e)},goBack(){var e;const t=!U.state.activeCaipAddress&&this.state.view==="ConnectingFarcaster";if(Fe.history.length>1&&!Fe.history.includes("UnsupportedChain")){Fe.history.pop();const[r]=Fe.history.slice(-1);r&&(Fe.view=r)}else or.close();(e=Fe.data)!=null&&e.wallet&&(Fe.data.wallet=void 0),setTimeout(()=>{var r,n,i;if(t){oe.setFarcasterUrl(void 0,U.state.activeChain);const s=ye.getAuthConnector();(r=s==null?void 0:s.provider)==null||r.reload();const o=Td(J.state);(i=(n=s==null?void 0:s.provider)==null?void 0:n.syncDappData)==null||i.call(n,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(t){if(Fe.history.length>1){Fe.history=Fe.history.slice(0,t+1);const[e]=Fe.history.slice(-1);e&&(Fe.view=e)}}},fs=ft({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),zr={state:fs,subscribe(t){return en(fs,()=>t(fs))},setThemeMode(t){fs.themeMode=t;try{const e=ye.getAuthConnector();if(e){const r=zr.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:xs(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){fs.themeVariables={...fs.themeVariables,...t};try{const e=ye.getAuthConnector();if(e){const r=zr.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:xs(fs.themeVariables,fs.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Td(fs)}},W5={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},ze=ft({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...W5}}),ye={state:ze,subscribe(t){return en(ze,()=>{t(ze)})},subscribeKey(t,e){return sn(ze,t,e)},initialize(t){t.forEach(e=>{const r=se.getConnectedConnectorId(e);r&&this.setConnectorId(r,e)})},setActiveConnector(t){t&&(ze.activeConnector=Pa(t))},setConnectors(t){t.filter(r=>!ze.allConnectors.some(n=>n.id===r.id&&this.getConnectorName(n.name)===this.getConnectorName(r.name)&&n.chain===r.chain)).forEach(r=>{r.type!=="MULTI_CHAIN"&&ze.allConnectors.push(Pa(r))}),ze.connectors=this.mergeMultiChainConnectors(ze.allConnectors)},removeAdapter(t){ze.allConnectors=ze.allConnectors.filter(e=>e.chain!==t),ze.connectors=this.mergeMultiChainConnectors(ze.allConnectors)},mergeMultiChainConnectors(t){const e=this.generateConnectorMapByName(t),r=[];return e.forEach(n=>{const i=n[0],s=(i==null?void 0:i.id)===K.CONNECTOR_ID.AUTH;n.length>1&&i?r.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...n],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(i==null?void 0:i.id)||""}):i&&r.push(i)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:n}=r,i=this.getConnectorName(n);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===r.chain)||s.push(r),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(n=>n.chain===r.chain)||e.push(r)}),e},addConnector(t){var e,r,n;if(t.id===K.CONNECTOR_ID.AUTH){const i=t,s=Td(J.state),o=zr.getSnapshot().themeMode,a=zr.getSnapshot().themeVariables;(r=(e=i==null?void 0:i.provider)==null?void 0:e.syncDappData)==null||r.call(e,{metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType}),(n=i==null?void 0:i.provider)==null||n.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:xs(a,o)}),this.setConnectors([t])}else this.setConnectors([t])},getAuthConnector(t){var n;const e=t||U.state.activeChain,r=ze.connectors.find(i=>i.id===K.CONNECTOR_ID.AUTH);if(r)return(n=r==null?void 0:r.connectors)!=null&&n.length?r.connectors.find(s=>s.chain===e):r},getAnnouncedConnectorRdns(){return ze.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return ze.allConnectors.find(e=>e.id===t)},getConnector(t,e){return ze.allConnectors.filter(n=>n.chain===U.state.activeChain).find(n=>{var i;return n.explorerId===t||((i=n.info)==null?void 0:i.rdns)===e})},syncIfAuthConnector(t){var s,o;if(t.id!=="ID_AUTH")return;const e=t,r=Td(J.state),n=zr.getSnapshot().themeMode,i=zr.getSnapshot().themeVariables;(o=(s=e==null?void 0:e.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:xs(i,n)})},getConnectorsByNamespace(t){const e=ze.allConnectors.filter(r=>r.chain===t);return this.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=ye.getConnector(t.id,t.rdns);U.state.activeChain===K.CHAIN.SOLANA&&JP.handleSolanaDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?xe.push("ConnectingExternal",{connector:e}):xe.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?this.getConnectorsByNamespace(t):this.mergeMultiChainConnectors(ze.allConnectors)},setFilterByNamespace(t){ze.filterByNamespace=t,ze.connectors=this.getConnectors(t),be.setFilterByNamespace(t)},setConnectorId(t,e){t&&(ze.activeConnectorIds={...ze.activeConnectorIds,[e]:t},se.setConnectedConnectorId(e,t))},removeConnectorId(t){ze.activeConnectorIds={...ze.activeConnectorIds,[t]:void 0},se.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return ze.activeConnectorIds[t]},isConnected(t){return t?!!ze.activeConnectorIds[t]:Object.values(ze.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){ze.activeConnectorIds={...W5}}};function hh(t,e){return ye.getConnectorId(t)===e}function o9(t){const e=Array.from(U.state.chains.keys());let r=[];return t?(r.push([t,U.state.chains.get(t)]),hh(t,K.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(n=>{n!==t&&hh(n,K.CONNECTOR_ID.WALLET_CONNECT)&&r.push([n,U.state.chains.get(n)])}):hh(t,K.CONNECTOR_ID.AUTH)&&e.forEach(n=>{n!==t&&hh(n,K.CONNECTOR_ID.AUTH)&&r.push([n,U.state.chains.get(n)])})):r=Array.from(U.state.chains.entries()),r}var K1={exports:{}},tu=typeof Reflect=="object"?Reflect:null,TE=tu&&typeof tu.apply=="function"?tu.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Jh;tu&&typeof tu.ownKeys=="function"?Jh=tu.ownKeys:Object.getOwnPropertySymbols?Jh=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Jh=function(e){return Object.getOwnPropertyNames(e)};function a9(t){console&&console.warn&&console.warn(t)}var V5=Number.isNaN||function(e){return e!==e};function Ze(){Ze.init.call(this)}K1.exports=Ze;K1.exports.once=d9;Ze.EventEmitter=Ze;Ze.prototype._events=void 0;Ze.prototype._eventsCount=0;Ze.prototype._maxListeners=void 0;var PE=10;function W0(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Ze,"defaultMaxListeners",{enumerable:!0,get:function(){return PE},set:function(t){if(typeof t!="number"||t<0||V5(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");PE=t}});Ze.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ze.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||V5(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function K5(t){return t._maxListeners===void 0?Ze.defaultMaxListeners:t._maxListeners}Ze.prototype.getMaxListeners=function(){return K5(this)};Ze.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")TE(c,this,r);else for(var u=c.length,l=Z5(c,u),n=0;n<u;++n)TE(l[n],this,r);return!0};function G5(t,e,r,n){var i,s,o;if(W0(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=K5(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,a9(a)}return t}Ze.prototype.addListener=function(e,r){return G5(this,e,r,!1)};Ze.prototype.on=Ze.prototype.addListener;Ze.prototype.prependListener=function(e,r){return G5(this,e,r,!0)};function c9(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Q5(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=c9.bind(n);return i.listener=r,n.wrapFn=i,i}Ze.prototype.once=function(e,r){return W0(r),this.on(e,Q5(this,e,r)),this};Ze.prototype.prependOnceListener=function(e,r){return W0(r),this.prependListener(e,Q5(this,e,r)),this};Ze.prototype.removeListener=function(e,r){var n,i,s,o,a;if(W0(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():u9(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};Ze.prototype.off=Ze.prototype.removeListener;Ze.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function Y5(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?l9(i):Z5(i,i.length)}Ze.prototype.listeners=function(e){return Y5(this,e,!0)};Ze.prototype.rawListeners=function(e){return Y5(this,e,!1)};Ze.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):J5.call(t,e)};Ze.prototype.listenerCount=J5;function J5(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ze.prototype.eventNames=function(){return this._eventsCount>0?Jh(this._events):[]};function Z5(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function u9(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function l9(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function d9(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}X5(t,e,s,{once:!0}),e!=="error"&&f9(t,i,{once:!0})})}function f9(t,e,r){typeof t.on=="function"&&X5(t,"error",e,r)}function X5(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var ti=K1.exports;const G1=I0(ti);var Y={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rw=function(t,e){return Rw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Rw(t,e)};function h9(t,e){Rw(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ow=function(){return Ow=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ow.apply(this,arguments)};function p9(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function g9(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function m9(t,e){return function(r,n){e(r,n,t)}}function y9(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function w9(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function v9(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function b9(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function E9(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Dw(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function e6(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function A9(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(e6(arguments[e]));return t}function C9(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function kd(t){return this instanceof kd?(this.v=t,this):new kd(t)}function _9(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(h){return new Promise(function(g,y){s.push([f,h,g,y])>1||a(f,h)})})}function a(f,h){try{c(n[f](h))}catch(g){d(s[0][3],g)}}function c(f){f.value instanceof kd?Promise.resolve(f.value.v).then(u,l):d(s[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function S9(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:kd(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function I9(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Dw=="function"?Dw(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function x9(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function N9(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function T9(t){return t&&t.__esModule?t:{default:t}}function P9(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k9(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const R9=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Ow},__asyncDelegator:S9,__asyncGenerator:_9,__asyncValues:I9,__await:kd,__awaiter:w9,__classPrivateFieldGet:P9,__classPrivateFieldSet:k9,__createBinding:b9,__decorate:g9,__exportStar:E9,__extends:h9,__generator:v9,__importDefault:T9,__importStar:N9,__makeTemplateObject:x9,__metadata:y9,__param:m9,__read:e6,__rest:p9,__spread:A9,__spreadArrays:C9,__values:Dw},Symbol.toStringTag,{value:"Module"})),Sf=N_(R9);var Im={},gl={},kE;function O9(){if(kE)return gl;kE=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return gl.delay=t,gl}var Go={},xm={},Qo={},RE;function D9(){return RE||(RE=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.ONE_THOUSAND=Qo.ONE_HUNDRED=void 0,Qo.ONE_HUNDRED=100,Qo.ONE_THOUSAND=1e3),Qo}var Nm={},OE;function M9(){return OE||(OE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Nm)),Nm}var DE;function t6(){return DE||(DE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Sf;e.__exportStar(D9(),t),e.__exportStar(M9(),t)}(xm)),xm}var ME;function $9(){if(ME)return Go;ME=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.fromMiliseconds=Go.toMiliseconds=void 0;const t=t6();function e(n){return n*t.ONE_THOUSAND}Go.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Go.fromMiliseconds=r,Go}var $E;function U9(){return $E||($E=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Sf;e.__exportStar(O9(),t),e.__exportStar($9(),t)}(Im)),Im}var sc={},UE;function L9(){if(UE)return sc;UE=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return sc.Watch=t,sc.default=t,sc}var Tm={},ml={},LE;function F9(){if(LE)return ml;LE=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.IWatch=void 0;class t{}return ml.IWatch=t,ml}var FE;function B9(){return FE||(FE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Sf.__exportStar(F9(),t)}(Tm)),Tm}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Sf;e.__exportStar(U9(),t),e.__exportStar(L9(),t),e.__exportStar(B9(),t),e.__exportStar(t6(),t)})(Y);class Ja{}let j9=class extends Ja{constructor(e){super()}};const BE=Y.FIVE_SECONDS,Uu={pulse:"heartbeat_pulse"};let z9=class r6 extends j9{constructor(e){super(e),this.events=new ti.EventEmitter,this.interval=BE,this.interval=(e==null?void 0:e.interval)||BE}static async init(e){const r=new r6(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Y.toMiliseconds(this.interval))}pulse(){this.events.emit(Uu.pulse)}};const H9=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,q9=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,W9=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function V9(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){K9(t);return}return e}function K9(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function ph(t,e={}){if(typeof t!="string")return t;const r=t.trim();if(t[0]==='"'&&t.endsWith('"')&&!t.includes("\\"))return r.slice(1,-1);if(r.length<=9){const n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!W9.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(H9.test(t)||q9.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,V9)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function G9(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function gr(t,...e){try{return G9(t(...e))}catch(r){return Promise.reject(r)}}function Q9(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Y9(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Zh(t){if(Q9(t))return String(t);if(Y9(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Zh(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const Mw="base64:";function J9(t){return typeof t=="string"?t:Mw+ek(t)}function Z9(t){return typeof t!="string"||!t.startsWith(Mw)?t:X9(t.slice(Mw.length))}function X9(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function ek(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function dn(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function tk(...t){return dn(t.join(":"))}function gh(t){return t=dn(t),t?t+":":""}function rk(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function nk(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const ik="memory",sk=()=>{const t=new Map;return{name:ik,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function ok(t={}){const e={mounts:{"":t.driver||sk()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=u=>{for(const l of e.mountpoints)if(u.startsWith(l))return{base:l,relativeKey:u.slice(l.length),driver:e.mounts[l]};return{base:"",relativeKey:u,driver:e.mounts[""]}},n=(u,l)=>e.mountpoints.filter(d=>d.startsWith(u)||l&&u.startsWith(d)).map(d=>({relativeBase:u.length>d.length?u.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),i=(u,l)=>{if(e.watching){l=dn(l);for(const d of e.watchListeners)d(u,l)}},s=async()=>{if(!e.watching){e.watching=!0;for(const u in e.mounts)e.unwatch[u]=await jE(e.mounts[u],i,u)}},o=async()=>{if(e.watching){for(const u in e.unwatch)await e.unwatch[u]();e.unwatch={},e.watching=!1}},a=(u,l,d)=>{const f=new Map,h=g=>{let y=f.get(g.base);return y||(y={driver:g.driver,base:g.base,items:[]},f.set(g.base,y)),y};for(const g of u){const y=typeof g=="string",_=dn(y?g:g.key),v=y?void 0:g.value,w=y||!g.options?l:{...l,...g.options},A=r(_);h(A).items.push({key:_,value:v,relativeKey:A.relativeKey,options:w})}return Promise.all([...f.values()].map(g=>d(g))).then(g=>g.flat())},c={hasItem(u,l={}){u=dn(u);const{relativeKey:d,driver:f}=r(u);return gr(f.hasItem,d,l)},getItem(u,l={}){u=dn(u);const{relativeKey:d,driver:f}=r(u);return gr(f.getItem,d,l).then(h=>ph(h))},getItems(u,l={}){return a(u,l,d=>d.driver.getItems?gr(d.driver.getItems,d.items.map(f=>({key:f.relativeKey,options:f.options})),l).then(f=>f.map(h=>({key:tk(d.base,h.key),value:ph(h.value)}))):Promise.all(d.items.map(f=>gr(d.driver.getItem,f.relativeKey,f.options).then(h=>({key:f.key,value:ph(h)})))))},getItemRaw(u,l={}){u=dn(u);const{relativeKey:d,driver:f}=r(u);return f.getItemRaw?gr(f.getItemRaw,d,l):gr(f.getItem,d,l).then(h=>Z9(h))},async setItem(u,l,d={}){if(l===void 0)return c.removeItem(u);u=dn(u);const{relativeKey:f,driver:h}=r(u);h.setItem&&(await gr(h.setItem,f,Zh(l),d),h.watch||i("update",u))},async setItems(u,l){await a(u,l,async d=>{if(d.driver.setItems)return gr(d.driver.setItems,d.items.map(f=>({key:f.relativeKey,value:Zh(f.value),options:f.options})),l);d.driver.setItem&&await Promise.all(d.items.map(f=>gr(d.driver.setItem,f.relativeKey,Zh(f.value),f.options)))})},async setItemRaw(u,l,d={}){if(l===void 0)return c.removeItem(u,d);u=dn(u);const{relativeKey:f,driver:h}=r(u);if(h.setItemRaw)await gr(h.setItemRaw,f,l,d);else if(h.setItem)await gr(h.setItem,f,J9(l),d);else return;h.watch||i("update",u)},async removeItem(u,l={}){typeof l=="boolean"&&(l={removeMeta:l}),u=dn(u);const{relativeKey:d,driver:f}=r(u);f.removeItem&&(await gr(f.removeItem,d,l),(l.removeMeta||l.removeMata)&&await gr(f.removeItem,d+"$",l),f.watch||i("remove",u))},async getMeta(u,l={}){typeof l=="boolean"&&(l={nativeOnly:l}),u=dn(u);const{relativeKey:d,driver:f}=r(u),h=Object.create(null);if(f.getMeta&&Object.assign(h,await gr(f.getMeta,d,l)),!l.nativeOnly){const g=await gr(f.getItem,d+"$",l).then(y=>ph(y));g&&typeof g=="object"&&(typeof g.atime=="string"&&(g.atime=new Date(g.atime)),typeof g.mtime=="string"&&(g.mtime=new Date(g.mtime)),Object.assign(h,g))}return h},setMeta(u,l,d={}){return this.setItem(u+"$",l,d)},removeMeta(u,l={}){return this.removeItem(u+"$",l)},async getKeys(u,l={}){var _;u=gh(u);const d=n(u,!0);let f=[];const h=[];let g=!0;for(const v of d){(_=v.driver.flags)!=null&&_.maxDepth||(g=!1);const w=await gr(v.driver.getKeys,v.relativeBase,l);for(const A of w){const P=v.mountpoint+dn(A);f.some(R=>P.startsWith(R))||h.push(P)}f=[v.mountpoint,...f.filter(A=>!A.startsWith(v.mountpoint))]}const y=l.maxDepth!==void 0&&!g;return h.filter(v=>(!y||rk(v,l.maxDepth))&&nk(v,u))},async clear(u,l={}){u=gh(u),await Promise.all(n(u,!1).map(async d=>{if(d.driver.clear)return gr(d.driver.clear,d.relativeBase,l);if(d.driver.removeItem){const f=await d.driver.getKeys(d.relativeBase||"",l);return Promise.all(f.map(h=>d.driver.removeItem(h,l)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(u=>zE(u)))},async watch(u){return await s(),e.watchListeners.push(u),async()=>{e.watchListeners=e.watchListeners.filter(l=>l!==u),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(u,l){if(u=gh(u),u&&e.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(e.mountpoints.push(u),e.mountpoints.sort((d,f)=>f.length-d.length)),e.mounts[u]=l,e.watching&&Promise.resolve(jE(l,i,u)).then(d=>{e.unwatch[u]=d}).catch(console.error),c},async unmount(u,l=!0){var d,f;u=gh(u),!(!u||!e.mounts[u])&&(e.watching&&u in e.unwatch&&((f=(d=e.unwatch)[u])==null||f.call(d),delete e.unwatch[u]),l&&await zE(e.mounts[u]),e.mountpoints=e.mountpoints.filter(h=>h!==u),delete e.mounts[u])},getMount(u=""){u=dn(u)+":";const l=r(u);return{driver:l.driver,base:l.base}},getMounts(u="",l={}){return u=dn(u),n(u,l.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(u,l={})=>c.getKeys(u,l),get:(u,l={})=>c.getItem(u,l),set:(u,l,d={})=>c.setItem(u,l,d),has:(u,l={})=>c.hasItem(u,l),del:(u,l={})=>c.removeItem(u,l),remove:(u,l={})=>c.removeItem(u,l)};return c}function jE(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function zE(t){typeof t.dispose=="function"&&await gr(t.dispose)}function Za(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function n6(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=Za(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let Pm;function If(){return Pm||(Pm=n6("keyval-store","keyval")),Pm}function HE(t,e=If()){return e("readonly",r=>Za(r.get(t)))}function ak(t,e,r=If()){return r("readwrite",n=>(n.put(e,t),Za(n.transaction)))}function ck(t,e=If()){return e("readwrite",r=>(r.delete(t),Za(r.transaction)))}function uk(t=If()){return t("readwrite",e=>(e.clear(),Za(e.transaction)))}function lk(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Za(t.transaction)}function dk(t=If()){return t("readonly",e=>{if(e.getAllKeys)return Za(e.getAllKeys());const r=[];return lk(e,n=>r.push(n.key)).then(()=>r)})}const fk=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),hk=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function ka(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return hk(t)}catch{return t}}function Ls(t){return typeof t=="string"?t:fk(t)||""}const pk="idb-keyval";var gk=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=n6(t.dbName,t.storeName)),{name:pk,options:t,async hasItem(i){return!(typeof await HE(r(i),n)>"u")},async getItem(i){return await HE(r(i),n)??null},setItem(i,s){return ak(r(i),s,n)},removeItem(i){return ck(r(i),n)},getKeys(){return dk(n)},clear(){return uk(n)}}};const mk="WALLET_CONNECT_V2_INDEXED_DB",yk="keyvaluestorage";let wk=class{constructor(){this.indexedDb=ok({driver:gk({dbName:mk,storeName:yk})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Ls(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xh={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof km<"u"&&km.localStorage?Xh.exports=km.localStorage:typeof window<"u"&&window.localStorage?Xh.exports=window.localStorage:Xh.exports=new e})();function vk(t){var e;return[t[0],ka((e=t[1])!=null?e:"")]}let bk=class{constructor(){this.localStorage=Xh.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(vk)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return ka(r)}async setItem(e,r){this.localStorage.setItem(e,Ls(r))}async removeItem(e){this.localStorage.removeItem(e)}};const Ek="wc_storage_version",qE=1,Ak=async(t,e,r)=>{const n=Ek,i=await e.getItem(n);if(i&&i>=qE){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const u=await t.getItem(a);await e.setItem(a,u),o.push(a)}}await e.setItem(n,qE),r(e),Ck(t,o)},Ck=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let _k=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new bk;this.storage=e;try{const r=new wk;Ak(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};function Sk(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var Ik=xk;function xk(t,e,r){var n=r&&r.stringify||Sk,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var u="",l=1-i,d=-1,f=t&&t.length||0,h=0;h<f;){if(t.charCodeAt(h)===37&&h+1<f){switch(d=d>-1?d:0,t.charCodeAt(h+1)){case 100:case 102:if(l>=c||e[l]==null)break;d<h&&(u+=t.slice(d,h)),u+=Number(e[l]),d=h+2,h++;break;case 105:if(l>=c||e[l]==null)break;d<h&&(u+=t.slice(d,h)),u+=Math.floor(Number(e[l])),d=h+2,h++;break;case 79:case 111:case 106:if(l>=c||e[l]===void 0)break;d<h&&(u+=t.slice(d,h));var g=typeof e[l];if(g==="string"){u+="'"+e[l]+"'",d=h+2,h++;break}if(g==="function"){u+=e[l].name||"<anonymous>",d=h+2,h++;break}u+=n(e[l]),d=h+2,h++;break;case 115:if(l>=c)break;d<h&&(u+=t.slice(d,h)),u+=String(e[l]),d=h+2,h++;break;case 37:d<h&&(u+=t.slice(d,h)),u+="%",d=h+2,h++,l--;break}++l}++h}return d===-1?t:(d<f&&(u+=t.slice(d)),u)}const WE=Ik;var xc=Gi;const Rd=Uk().console||{},Nk={mapHttpRequest:mh,mapHttpResponse:mh,wrapRequestSerializer:Rm,wrapResponseSerializer:Rm,wrapErrorSerializer:Rm,req:mh,res:mh,err:Ok};function Tk(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Gi(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||Rd;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},i=Tk(t.browser.serialize,n);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(r);c.log||(c.log=Od),Object.defineProperty(c,"levelVal",{get:l}),Object.defineProperty(c,"level",{get:d,set:f});const u={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:Dk(t)};c.levels=Gi.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Od,c.serializers=n,c._serialize=i,c._stdErrSerialize=s,c.child=h,e&&(c._logEvent=$w());function l(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function f(g){if(g!=="silent"&&!this.levels.values[g])throw Error("unknown level "+g);this._level=g,oc(u,c,"error","log"),oc(u,c,"fatal","error"),oc(u,c,"warn","error"),oc(u,c,"info","log"),oc(u,c,"debug","log"),oc(u,c,"trace","log")}function h(g,y){if(!g)throw new Error("missing bindings for child Pino");y=y||{},i&&g.serializers&&(y.serializers=g.serializers);const _=y.serializers;if(i&&_){var v=Object.assign({},n,_),w=t.browser.serialize===!0?Object.keys(v):i;delete g.serializers,V0([g],w,v,this._stdErrSerialize)}function A(P){this._childLevel=(P._childLevel|0)+1,this.error=ac(P,g,"error"),this.fatal=ac(P,g,"fatal"),this.warn=ac(P,g,"warn"),this.info=ac(P,g,"info"),this.debug=ac(P,g,"debug"),this.trace=ac(P,g,"trace"),v&&(this.serializers=v,this._serialize=w),e&&(this._logEvent=$w([].concat(P._logEvent.bindings,g)))}return A.prototype=this,new A(this)}return c}Gi.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Gi.stdSerializers=Nk;Gi.stdTimeFunctions=Object.assign({},{nullTime:i6,epochTime:s6,unixTime:Mk,isoTime:$k});function oc(t,e,r,n){const i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?Od:i[r]?i[r]:Rd[r]||Rd[n]||Od,Pk(t,e,r)}function Pk(t,e,r){!t.transmit&&e[r]===Od||(e[r]=function(n){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Rd?Rd:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&V0(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(a,kk(this,r,o,s)):n.apply(a,o),t.transmit){const u=t.transmit.level||e.level,l=Gi.levels.values[u],d=Gi.levels.values[r];if(d<l)return;Rk(this,{ts:s,methodLevel:r,methodValue:d,transmitValue:Gi.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function kk(t,e,r,n){t._serialize&&V0(r,t._serialize,t.serializers,t._stdErrSerialize);const i=r.slice();let s=i[0];const o={};n&&(o.time=n),o.level=Gi.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?WE(i.shift(),i):void 0}else typeof s=="string"&&(s=WE(i.shift(),i));return s!==void 0&&(o.msg=s),o}function V0(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=Gi.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function ac(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function Rk(t,e,r){const n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;V0(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(u){return c.indexOf(u)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=$w(c)}function $w(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Ok(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function Dk(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?i6:s6}function mh(){return{}}function Rm(t){return t}function Od(){}function i6(){return!1}function s6(){return Date.now()}function Mk(){return Math.round(Date.now()/1e3)}function $k(){return new Date(Date.now()).toISOString()}function Uk(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const xf=I0(xc),Lk={level:"info"},Nf="custom_context",Q1=1e3*1024;let Fk=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},VE=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new Fk(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},o6=class{constructor(e,r=Q1){this.level=e??"error",this.levelValue=xc.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new VE(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===xc.levels.values.error?console.error(e):r===xc.levels.values.warn?console.warn(e):r===xc.levels.values.debug?console.debug(e):r===xc.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Ls({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new VE(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(Ls({extraMetadata:e})),new Blob(r,{type:"application/json"})}},Bk=class{constructor(e,r=Q1){this.baseChunkLogger=new o6(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},jk=class{constructor(e,r=Q1){this.baseChunkLogger=new o6(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var zk=Object.defineProperty,Hk=Object.defineProperties,qk=Object.getOwnPropertyDescriptors,KE=Object.getOwnPropertySymbols,Wk=Object.prototype.hasOwnProperty,Vk=Object.prototype.propertyIsEnumerable,GE=(t,e,r)=>e in t?zk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Bp=(t,e)=>{for(var r in e||(e={}))Wk.call(e,r)&&GE(t,r,e[r]);if(KE)for(var r of KE(e))Vk.call(e,r)&&GE(t,r,e[r]);return t},jp=(t,e)=>Hk(t,qk(e));function Lu(t){return jp(Bp({},t),{level:(t==null?void 0:t.level)||Lk.level})}function Kk(t,e=Nf){return t[e]||""}function Gk(t,e,r=Nf){return t[r]=e,t}function An(t,e=Nf){let r="";return typeof t.bindings>"u"?r=Kk(t,e):r=t.bindings().context||"",r}function Qk(t,e,r=Nf){const n=An(t,r);return n.trim()?`${n}/${e}`:e}function Gr(t,e,r=Nf){const n=Qk(t,e,r),i=t.child({context:n});return Gk(i,n,r)}function Yk(t){var e,r;const n=new Bk((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:xf(jp(Bp({},t.opts),{level:"trace",browser:jp(Bp({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function Jk(t){var e;const r=new jk((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:xf(jp(Bp({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function Y1(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Yk(t):Jk(t)}var Zk=Object.defineProperty,Xk=(t,e,r)=>e in t?Zk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,QE=(t,e,r)=>Xk(t,typeof e!="symbol"?e+"":e,r);let e7=class extends Ja{constructor(e){super(),this.opts=e,QE(this,"protocol","wc"),QE(this,"version",2)}};var t7=Object.defineProperty,r7=(t,e,r)=>e in t?t7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,n7=(t,e,r)=>r7(t,e+"",r);let i7=class extends Ja{constructor(e,r){super(),this.core=e,this.logger=r,n7(this,"records",new Map)}},s7=class{constructor(e,r){this.logger=e,this.core=r}},o7=class extends Ja{constructor(e,r){super(),this.relayer=e,this.logger=r}},a7=class extends Ja{constructor(e){super()}},c7=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},u7=class extends Ja{constructor(e,r){super(),this.relayer=e,this.logger=r}},l7=class extends Ja{constructor(e,r){super(),this.core=e,this.logger=r}},d7=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},f7=class{constructor(e,r){this.projectId=e,this.logger=r}},h7=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var p7=Object.defineProperty,g7=(t,e,r)=>e in t?p7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,YE=(t,e,r)=>g7(t,typeof e!="symbol"?e+"":e,r);let m7=class{constructor(e){this.opts=e,YE(this,"protocol","wc"),YE(this,"version",2)}},y7=class{constructor(e){this.client=e}};function w7(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function a6(t,...e){if(!w7(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function JE(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function v7(t,e){a6(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const cc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Om=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function b7(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function c6(t){return typeof t=="string"&&(t=b7(t)),a6(t),t}let E7=class{clone(){return this._cloneInto()}};function A7(t){const e=n=>t().update(c6(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function u6(t=32){if(cc&&typeof cc.getRandomValues=="function")return cc.getRandomValues(new Uint8Array(t));if(cc&&typeof cc.randomBytes=="function")return cc.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function C7(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}let _7=class extends E7{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Om(this.buffer)}update(e){JE(this);const{view:r,buffer:n,blockLen:i}=this;e=c6(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Om(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){JE(this),v7(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let d=o;d<i;d++)r[d]=0;C7(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=Om(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const yh=BigInt(2**32-1),Uw=BigInt(32);function l6(t,e=!1){return e?{h:Number(t&yh),l:Number(t>>Uw&yh)}:{h:Number(t>>Uw&yh)|0,l:Number(t&yh)|0}}function S7(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=l6(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const I7=(t,e)=>BigInt(t>>>0)<<Uw|BigInt(e>>>0),x7=(t,e,r)=>t>>>r,N7=(t,e,r)=>t<<32-r|e>>>r,T7=(t,e,r)=>t>>>r|e<<32-r,P7=(t,e,r)=>t<<32-r|e>>>r,k7=(t,e,r)=>t<<64-r|e>>>r-32,R7=(t,e,r)=>t>>>r-32|e<<64-r,O7=(t,e)=>e,D7=(t,e)=>t,M7=(t,e,r)=>t<<r|e>>>32-r,$7=(t,e,r)=>e<<r|t>>>32-r,U7=(t,e,r)=>e<<r-32|t>>>64-r,L7=(t,e,r)=>t<<r-32|e>>>64-r;function F7(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const B7=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),j7=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,z7=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),H7=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,q7=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),W7=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Ee={fromBig:l6,split:S7,toBig:I7,shrSH:x7,shrSL:N7,rotrSH:T7,rotrSL:P7,rotrBH:k7,rotrBL:R7,rotr32H:O7,rotr32L:D7,rotlSH:M7,rotlSL:$7,rotlBH:U7,rotlBL:L7,add:F7,add3L:B7,add3H:j7,add4L:z7,add4H:H7,add5H:W7,add5L:q7},[V7,K7]=Ee.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ys=new Uint32Array(80),Js=new Uint32Array(80);let G7=class extends _7{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:f,Gh:h,Gl:g,Hh:y,Hl:_}=this;return[e,r,n,i,s,o,a,c,u,l,d,f,h,g,y,_]}set(e,r,n,i,s,o,a,c,u,l,d,f,h,g,y,_){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=g|0,this.Hh=y|0,this.Hl=_|0}process(e,r){for(let A=0;A<16;A++,r+=4)Ys[A]=e.getUint32(r),Js[A]=e.getUint32(r+=4);for(let A=16;A<80;A++){const P=Ys[A-15]|0,R=Js[A-15]|0,D=Ee.rotrSH(P,R,1)^Ee.rotrSH(P,R,8)^Ee.shrSH(P,R,7),M=Ee.rotrSL(P,R,1)^Ee.rotrSL(P,R,8)^Ee.shrSL(P,R,7),L=Ys[A-2]|0,$=Js[A-2]|0,F=Ee.rotrSH(L,$,19)^Ee.rotrBH(L,$,61)^Ee.shrSH(L,$,6),x=Ee.rotrSL(L,$,19)^Ee.rotrBL(L,$,61)^Ee.shrSL(L,$,6),p=Ee.add4L(M,x,Js[A-7],Js[A-16]),b=Ee.add4H(p,D,F,Ys[A-7],Ys[A-16]);Ys[A]=b|0,Js[A]=p|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:f,Fh:h,Fl:g,Gh:y,Gl:_,Hh:v,Hl:w}=this;for(let A=0;A<80;A++){const P=Ee.rotrSH(d,f,14)^Ee.rotrSH(d,f,18)^Ee.rotrBH(d,f,41),R=Ee.rotrSL(d,f,14)^Ee.rotrSL(d,f,18)^Ee.rotrBL(d,f,41),D=d&h^~d&y,M=f&g^~f&_,L=Ee.add5L(w,R,M,K7[A],Js[A]),$=Ee.add5H(L,v,P,D,V7[A],Ys[A]),F=L|0,x=Ee.rotrSH(n,i,28)^Ee.rotrBH(n,i,34)^Ee.rotrBH(n,i,39),p=Ee.rotrSL(n,i,28)^Ee.rotrBL(n,i,34)^Ee.rotrBL(n,i,39),b=n&s^n&a^s&a,I=i&o^i&c^o&c;v=y|0,w=_|0,y=h|0,_=g|0,h=d|0,g=f|0,{h:d,l:f}=Ee.add(u|0,l|0,$|0,F|0),u=a|0,l=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const E=Ee.add3L(F,p,I);n=Ee.add3H(E,$,x,b),i=E|0}({h:n,l:i}=Ee.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Ee.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Ee.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Ee.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:f}=Ee.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:g}=Ee.add(this.Fh|0,this.Fl|0,h|0,g|0),{h:y,l:_}=Ee.add(this.Gh|0,this.Gl|0,y|0,_|0),{h:v,l:w}=Ee.add(this.Hh|0,this.Hl|0,v|0,w|0),this.set(n,i,s,o,a,c,u,l,d,f,h,g,y,_,v,w)}roundClean(){Ys.fill(0),Js.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Q7=A7(()=>new G7);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const J1=BigInt(0),d6=BigInt(1),Y7=BigInt(2);function Z1(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function X1(t){if(!Z1(t))throw new Error("Uint8Array expected")}function Dm(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const J7=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function eb(t){X1(t);let e="";for(let r=0;r<t.length;r++)e+=J7[t[r]];return e}function f6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?J1:BigInt("0x"+t)}const hs={_0:48,_9:57,A:65,F:70,a:97,f:102};function ZE(t){if(t>=hs._0&&t<=hs._9)return t-hs._0;if(t>=hs.A&&t<=hs.F)return t-(hs.A-10);if(t>=hs.a&&t<=hs.f)return t-(hs.a-10)}function h6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=ZE(t.charCodeAt(s)),a=ZE(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function Z7(t){return f6(eb(t))}function ep(t){return X1(t),f6(eb(Uint8Array.from(t).reverse()))}function p6(t,e){return h6(t.toString(16).padStart(e*2,"0"))}function Lw(t,e){return p6(t,e).reverse()}function ps(t,e,r){let n;if(typeof e=="string")try{n=h6(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Z1(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function XE(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];X1(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const Mm=t=>typeof t=="bigint"&&J1<=t;function X7(t,e,r){return Mm(t)&&Mm(e)&&Mm(r)&&e<=t&&t<r}function yl(t,e,r,n){if(!X7(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function eR(t){let e;for(e=0;t>J1;t>>=d6,e+=1);return e}const tR=t=>(Y7<<BigInt(t-1))-d6,rR={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Z1(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function tb(t,e,r={}){const n=(i,s,o)=>{const a=rR[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function eA(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const vr=BigInt(0),Dt=BigInt(1),sa=BigInt(2),nR=BigInt(3),Fw=BigInt(4),tA=BigInt(5),rA=BigInt(8);function dr(t,e){const r=t%e;return r>=vr?r:e+r}function iR(t,e,r){if(e<vr)throw new Error("invalid exponent, negatives unsupported");if(r<=vr)throw new Error("invalid modulus");if(r===Dt)return vr;let n=Dt;for(;e>vr;)e&Dt&&(n=n*t%r),t=t*t%r,e>>=Dt;return n}function Oi(t,e,r){let n=t;for(;e-- >vr;)n*=n,n%=r;return n}function nA(t,e){if(t===vr)throw new Error("invert: expected non-zero number");if(e<=vr)throw new Error("invert: expected positive modulus, got "+e);let r=dr(t,e),n=e,i=vr,s=Dt;for(;r!==vr;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==Dt)throw new Error("invert: does not exist");return dr(i,e)}function sR(t){const e=(t-Dt)/sa;let r,n,i;for(r=t-Dt,n=0;r%sa===vr;r/=sa,n++);for(i=sa;i<t&&iR(i,e,t)!==t-Dt;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+Dt)/Fw;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(r+Dt)/sa;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,u=o.pow(o.mul(o.ONE,i),r),l=o.pow(a,s),d=o.pow(a,r);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let f=1;for(let g=o.sqr(d);f<c&&!o.eql(g,o.ONE);f++)g=o.sqr(g);const h=o.pow(u,Dt<<BigInt(c-f-1));u=o.sqr(h),l=o.mul(l,h),d=o.mul(d,u),c=f}return l}}function oR(t){if(t%Fw===nR){const e=(t+Dt)/Fw;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%rA===tA){const e=(t-tA)/rA;return function(r,n){const i=r.mul(n,sa),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,sa),s),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return sR(t)}const aR=(t,e)=>(dr(t,e)&Dt)===Dt,cR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function uR(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=cR.reduce((n,i)=>(n[i]="function",n),e);return tb(t,r)}function lR(t,e,r){if(r<vr)throw new Error("invalid exponent, negatives unsupported");if(r===vr)return t.ONE;if(r===Dt)return e;let n=t.ONE,i=e;for(;r>vr;)r&Dt&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Dt;return n}function dR(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function g6(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function m6(t,e,r=!1,n={}){if(t<=vr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=g6(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:tR(i),ZERO:vr,ONE:Dt,create:c=>dr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return vr<=c&&c<t},is0:c=>c===vr,isOdd:c=>(c&Dt)===Dt,neg:c=>dr(-c,t),eql:(c,u)=>c===u,sqr:c=>dr(c*c,t),add:(c,u)=>dr(c+u,t),sub:(c,u)=>dr(c-u,t),mul:(c,u)=>dr(c*u,t),pow:(c,u)=>lR(a,c,u),div:(c,u)=>dr(c*nA(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>nA(c,t),sqrt:n.sqrt||(c=>(o||(o=oR(t)),o(a,c))),invertBatch:c=>dR(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?Lw(c,s):p6(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?ep(c):Z7(c)}});return Object.freeze(a)}const iA=BigInt(0),wh=BigInt(1);function $m(t,e){const r=e.negate();return t?r:e}function y6(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Um(t,e){y6(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function fR(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function hR(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Lm=new WeakMap,w6=new WeakMap;function Fm(t){return w6.get(t)||1}function pR(t,e){return{constTimeNegate:$m,hasPrecomputes(r){return Fm(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>iA;)n&wh&&(i=i.add(s)),s=s.double(),n>>=wh;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=Um(n,e),o=[];let a=r,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let l=1;l<s;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=Um(r,e);let a=t.ZERO,c=t.BASE;const u=BigInt(2**r-1),l=2**r,d=BigInt(r);for(let f=0;f<s;f++){const h=f*o;let g=Number(i&u);i>>=d,g>o&&(g-=l,i+=wh);const y=h,_=h+Math.abs(g)-1,v=f%2!==0,w=g<0;g===0?c=c.add($m(v,n[y])):a=a.add($m(w,n[_]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=Um(r,e),c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let d=0;d<o;d++){const f=d*a;if(i===iA)break;let h=Number(i&c);if(i>>=l,h>a&&(h-=u,i+=wh),h===0)continue;let g=n[f+Math.abs(h)-1];h<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(r,n,i){let s=Lm.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&Lm.set(n,i(s))),s},wNAFCached(r,n,i){const s=Fm(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=Fm(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){y6(n,e),w6.set(r,n),Lm.delete(r)}}}function gR(t,e,r,n){if(fR(r,t),hR(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=eR(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((e.BITS-1)/o)*o;let l=i;for(let d=u;d>=0;d-=o){c.fill(i);for(let h=0;h<n.length;h++){const g=n[h],y=Number(g>>BigInt(d)&BigInt(a));c[y]=c[y].add(r[h])}let f=i;for(let h=c.length-1,g=i;h>0;h--)g=g.add(c[h]),f=f.add(g);if(l=l.add(f),d!==0)for(let h=0;h<o;h++)l=l.double()}return l}function mR(t){return uR(t.Fp),tb(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...g6(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const ci=BigInt(0),an=BigInt(1),vh=BigInt(2),yR=BigInt(8),wR={zip215:!0};function vR(t){const e=mR(t);return tb(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function bR(t){const e=vR(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,u=vh<<BigInt(a*8)-an,l=r.create,d=m6(e.n,e.nBitLength),f=e.uvRatio||((E,C)=>{try{return{isValid:!0,value:r.sqrt(E*r.inv(C))}}catch{return{isValid:!1,value:ci}}}),h=e.adjustScalarBytes||(E=>E),g=e.domain||((E,C,k)=>{if(Dm("phflag",k),C.length||k)throw new Error("Contexts/pre-hash are not supported");return E});function y(E,C){yl("coordinate "+E,C,ci,u)}function _(E){if(!(E instanceof A))throw new Error("ExtendedPoint expected")}const v=eA((E,C)=>{const{ex:k,ey:N,ez:S}=E,m=E.is0();C==null&&(C=m?yR:r.inv(S));const T=l(k*C),j=l(N*C),H=l(S*C);if(m)return{x:ci,y:an};if(H!==an)throw new Error("invZ was invalid");return{x:T,y:j}}),w=eA(E=>{const{a:C,d:k}=e;if(E.is0())throw new Error("bad point: ZERO");const{ex:N,ey:S,ez:m,et:T}=E,j=l(N*N),H=l(S*S),z=l(m*m),Q=l(z*z),ae=l(j*C),le=l(z*l(ae+H)),Le=l(Q+l(k*l(j*H)));if(le!==Le)throw new Error("bad point: equation left != right (1)");const fe=l(N*S),Se=l(m*T);if(fe!==Se)throw new Error("bad point: equation left != right (2)");return!0});class A{constructor(C,k,N,S){this.ex=C,this.ey=k,this.ez=N,this.et=S,y("x",C),y("y",k),y("z",N),y("t",S),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(C){if(C instanceof A)throw new Error("extended point not allowed");const{x:k,y:N}=C||{};return y("x",k),y("y",N),new A(k,N,an,l(k*N))}static normalizeZ(C){const k=r.invertBatch(C.map(N=>N.ez));return C.map((N,S)=>N.toAffine(k[S])).map(A.fromAffine)}static msm(C,k){return gR(A,d,C,k)}_setWindowSize(C){D.setWindowSize(this,C)}assertValidity(){w(this)}equals(C){_(C);const{ex:k,ey:N,ez:S}=this,{ex:m,ey:T,ez:j}=C,H=l(k*j),z=l(m*S),Q=l(N*j),ae=l(T*S);return H===z&&Q===ae}is0(){return this.equals(A.ZERO)}negate(){return new A(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:C}=e,{ex:k,ey:N,ez:S}=this,m=l(k*k),T=l(N*N),j=l(vh*l(S*S)),H=l(C*m),z=k+N,Q=l(l(z*z)-m-T),ae=H+T,le=ae-j,Le=H-T,fe=l(Q*le),Se=l(ae*Le),on=l(Q*Le),Ge=l(le*ae);return new A(fe,Se,Ge,on)}add(C){_(C);const{a:k,d:N}=e,{ex:S,ey:m,ez:T,et:j}=this,{ex:H,ey:z,ez:Q,et:ae}=C;if(k===BigInt(-1)){const yt=l((m-S)*(z+H)),rl=l((m+S)*(z-H)),pt=l(rl-yt);if(pt===ci)return this.double();const wt=l(T*vh*ae),nl=l(j*vh*Q),vt=nl+wt,bt=rl+yt,il=nl-wt,xt=l(vt*pt),Nt=l(bt*il),Qf=l(vt*il),Tt=l(pt*bt);return new A(xt,Nt,Tt,Qf)}const le=l(S*H),Le=l(m*z),fe=l(j*N*ae),Se=l(T*Q),on=l((S+m)*(H+z)-le-Le),Ge=Se-fe,at=Se+fe,ls=l(Le-k*le),ht=l(on*Ge),St=l(at*ls),Gf=l(on*ls),It=l(Ge*at);return new A(ht,St,It,Gf)}subtract(C){return this.add(C.negate())}wNAF(C){return D.wNAFCached(this,C,A.normalizeZ)}multiply(C){const k=C;yl("scalar",k,an,n);const{p:N,f:S}=this.wNAF(k);return A.normalizeZ([N,S])[0]}multiplyUnsafe(C,k=A.ZERO){const N=C;return yl("scalar",N,ci,n),N===ci?R:this.is0()||N===an?this:D.wNAFCachedUnsafe(this,N,A.normalizeZ,k)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return D.unsafeLadder(this,n).is0()}toAffine(C){return v(this,C)}clearCofactor(){const{h:C}=e;return C===an?this:this.multiplyUnsafe(C)}static fromHex(C,k=!1){const{d:N,a:S}=e,m=r.BYTES;C=ps("pointHex",C,m),Dm("zip215",k);const T=C.slice(),j=C[m-1];T[m-1]=j&-129;const H=ep(T),z=k?u:r.ORDER;yl("pointHex.y",H,ci,z);const Q=l(H*H),ae=l(Q-an),le=l(N*Q-S);let{isValid:Le,value:fe}=f(ae,le);if(!Le)throw new Error("Point.fromHex: invalid y coordinate");const Se=(fe&an)===an,on=(j&128)!==0;if(!k&&fe===ci&&on)throw new Error("Point.fromHex: x=0 and x_0=1");return on!==Se&&(fe=l(-fe)),A.fromAffine({x:fe,y:H})}static fromPrivateKey(C){return $(C).point}toRawBytes(){const{x:C,y:k}=this.toAffine(),N=Lw(k,r.BYTES);return N[N.length-1]|=C&an?128:0,N}toHex(){return eb(this.toRawBytes())}}A.BASE=new A(e.Gx,e.Gy,an,l(e.Gx*e.Gy)),A.ZERO=new A(ci,an,an,ci);const{BASE:P,ZERO:R}=A,D=pR(A,a*8);function M(E){return dr(E,n)}function L(E){return M(ep(E))}function $(E){const C=r.BYTES;E=ps("private key",E,C);const k=ps("hashed private key",s(E),2*C),N=h(k.slice(0,C)),S=k.slice(C,2*C),m=L(N),T=P.multiply(m),j=T.toRawBytes();return{head:N,prefix:S,scalar:m,point:T,pointBytes:j}}function F(E){return $(E).pointBytes}function x(E=new Uint8Array,...C){const k=XE(...C);return L(s(g(k,ps("context",E),!!i)))}function p(E,C,k={}){E=ps("message",E),i&&(E=i(E));const{prefix:N,scalar:S,pointBytes:m}=$(C),T=x(k.context,N,E),j=P.multiply(T).toRawBytes(),H=x(k.context,j,m,E),z=M(T+H*S);yl("signature.s",z,ci,n);const Q=XE(j,Lw(z,r.BYTES));return ps("result",Q,r.BYTES*2)}const b=wR;function I(E,C,k,N=b){const{context:S,zip215:m}=N,T=r.BYTES;E=ps("signature",E,2*T),C=ps("message",C),k=ps("publicKey",k,T),m!==void 0&&Dm("zip215",m),i&&(C=i(C));const j=ep(E.slice(T,2*T));let H,z,Q;try{H=A.fromHex(k,m),z=A.fromHex(E.slice(0,T),m),Q=P.multiplyUnsafe(j)}catch{return!1}if(!m&&H.isSmallOrder())return!1;const ae=x(S,z.toRawBytes(),H.toRawBytes(),C);return z.add(H.multiplyUnsafe(ae)).subtract(Q).clearCofactor().equals(A.ZERO)}return P._setWindowSize(8),{CURVE:e,getPublicKey:F,sign:p,verify:I,ExtendedPoint:A,utils:{getExtendedPublicKey:$,randomPrivateKey:()=>o(r.BYTES),precompute(E=8,C=A.BASE){return C._setWindowSize(E),C.multiply(BigInt(3)),C}}}}BigInt(0),BigInt(1);const rb=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),sA=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const ER=BigInt(1),oA=BigInt(2);BigInt(3);const AR=BigInt(5),CR=BigInt(8);function _R(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=rb,o=t*t%s*t%s,a=Oi(o,oA,s)*o%s,c=Oi(a,ER,s)*t%s,u=Oi(c,AR,s)*c%s,l=Oi(u,e,s)*u%s,d=Oi(l,r,s)*l%s,f=Oi(d,n,s)*d%s,h=Oi(f,i,s)*f%s,g=Oi(h,i,s)*f%s,y=Oi(g,e,s)*u%s;return{pow_p_5_8:Oi(y,oA,s)*t%s,b2:o}}function SR(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function IR(t,e){const r=rb,n=dr(e*e*e,r),i=dr(n*n*e,r),s=_R(t*i).pow_p_5_8;let o=dr(t*n*s,r);const a=dr(e*o*o,r),c=o,u=dr(o*sA,r),l=a===t,d=a===dr(-t,r),f=a===dr(-t*sA,r);return l&&(o=c),(d||f)&&(o=u),aR(o,r)&&(o=dr(-o,r)),{isValid:l||d,value:o}}const xR=m6(rb,void 0,!0),NR={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:xR,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:CR,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Q7,randomBytes:u6,adjustScalarBytes:SR,uvRatio:IR},v6=bR(NR),TR="EdDSA",PR="JWT",zp=".",K0="base64url",b6="utf8",E6="utf8",kR=":",RR="did",OR="key",aA="base58btc",DR="z",MR="K36",$R=32;function nb(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function A6(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?nb(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function C6(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=A6(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return nb(r)}function UR(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,_=0,v=0,w=g.length;v!==w&&g[v]===0;)v++,y++;for(var A=(w-v)*l+1>>>0,P=new Uint8Array(A);v!==w;){for(var R=g[v],D=0,M=A-1;(R!==0||D<_)&&M!==-1;M--,D++)R+=256*P[M]>>>0,P[M]=R%a>>>0,R=R/a>>>0;if(R!==0)throw new Error("Non-zero carry");_=D,v++}for(var L=A-_;L!==A&&P[L]===0;)L++;for(var $=c.repeat(y);L<A;++L)$+=t.charAt(P[L]);return $}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var _=0,v=0;g[y]===c;)_++,y++;for(var w=(g.length-y)*u+1>>>0,A=new Uint8Array(w);g[y];){var P=r[g.charCodeAt(y)];if(P===255)return;for(var R=0,D=w-1;(P!==0||R<v)&&D!==-1;D--,R++)P+=a*A[D]>>>0,A[D]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");v=R,y++}if(g[y]!==" "){for(var M=w-v;M!==w&&A[M]===0;)M++;for(var L=new Uint8Array(_+(w-M)),$=_;M!==w;)L[$++]=A[M++];return L}}}function h(g){var y=f(g);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var LR=UR,FR=LR;const _6=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},BR=t=>new TextEncoder().encode(t),jR=t=>new TextDecoder().decode(t);let zR=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},HR=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return S6(this,e)}},qR=class{constructor(e){this.decoders=e}or(e){return S6(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const S6=(t,e)=>new qR({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let WR=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new zR(e,r,n),this.decoder=new HR(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const G0=({name:t,prefix:e,encode:r,decode:n})=>new WR(t,e,r,n),Tf=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=FR(r,e);return G0({prefix:t,name:e,encode:n,decode:s=>_6(i(s))})},VR=(t,e,r,n)=>{const i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,u=0;for(let l=0;l<s;++l){const d=i[t[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},KR=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Dr=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>G0({prefix:e,name:t,encode(i){return KR(i,n,r)},decode(i){return VR(i,n,r,t)}}),GR=G0({prefix:"\0",name:"identity",encode:t=>jR(t),decode:t=>BR(t)});var QR=Object.freeze({__proto__:null,identity:GR});const YR=Dr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var JR=Object.freeze({__proto__:null,base2:YR});const ZR=Dr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var XR=Object.freeze({__proto__:null,base8:ZR});const eO=Tf({prefix:"9",name:"base10",alphabet:"0123456789"});var tO=Object.freeze({__proto__:null,base10:eO});const rO=Dr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),nO=Dr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var iO=Object.freeze({__proto__:null,base16:rO,base16upper:nO});const sO=Dr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),oO=Dr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),aO=Dr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),cO=Dr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),uO=Dr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),lO=Dr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),dO=Dr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),fO=Dr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),hO=Dr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var pO=Object.freeze({__proto__:null,base32:sO,base32upper:oO,base32pad:aO,base32padupper:cO,base32hex:uO,base32hexupper:lO,base32hexpad:dO,base32hexpadupper:fO,base32z:hO});const gO=Tf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),mO=Tf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var yO=Object.freeze({__proto__:null,base36:gO,base36upper:mO});const wO=Tf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),vO=Tf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var bO=Object.freeze({__proto__:null,base58btc:wO,base58flickr:vO});const EO=Dr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),AO=Dr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),CO=Dr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),_O=Dr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var SO=Object.freeze({__proto__:null,base64:EO,base64pad:AO,base64url:CO,base64urlpad:_O});const I6=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),IO=I6.reduce((t,e,r)=>(t[r]=e,t),[]),xO=I6.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function NO(t){return t.reduce((e,r)=>(e+=IO[r],e),"")}function TO(t){const e=[];for(const r of t){const n=xO[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const PO=G0({prefix:"🚀",name:"base256emoji",encode:NO,decode:TO});var kO=Object.freeze({__proto__:null,base256emoji:PO}),RO=x6,cA=128,OO=-128,DO=Math.pow(2,31);function x6(t,e,r){e=e||[],r=r||0;for(var n=r;t>=DO;)e[r++]=t&255|cA,t/=128;for(;t&OO;)e[r++]=t&255|cA,t>>>=7;return e[r]=t|0,x6.bytes=r-n+1,e}var MO=Bw,$O=128,uA=127;function Bw(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw Bw.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&uA)<<i:(o&uA)*Math.pow(2,i),i+=7}while(o>=$O);return Bw.bytes=s-n,r}var UO=Math.pow(2,7),LO=Math.pow(2,14),FO=Math.pow(2,21),BO=Math.pow(2,28),jO=Math.pow(2,35),zO=Math.pow(2,42),HO=Math.pow(2,49),qO=Math.pow(2,56),WO=Math.pow(2,63),VO=function(t){return t<UO?1:t<LO?2:t<FO?3:t<BO?4:t<jO?5:t<zO?6:t<HO?7:t<qO?8:t<WO?9:10},KO={encode:RO,decode:MO,encodingLength:VO},N6=KO;const lA=(t,e,r=0)=>(N6.encode(t,e,r),e),dA=t=>N6.encodingLength(t),jw=(t,e)=>{const r=e.byteLength,n=dA(t),i=n+dA(r),s=new Uint8Array(i+r);return lA(t,s,0),lA(r,s,n),s.set(e,i),new GO(t,r,e,s)};let GO=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const T6=({name:t,code:e,encode:r})=>new QO(t,e,r);let QO=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?jw(this.code,r):r.then(n=>jw(this.code,n))}else throw Error("Unknown type, must be binary type")}};const P6=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),YO=T6({name:"sha2-256",code:18,encode:P6("SHA-256")}),JO=T6({name:"sha2-512",code:19,encode:P6("SHA-512")});var ZO=Object.freeze({__proto__:null,sha256:YO,sha512:JO});const k6=0,XO="identity",R6=_6,eD=t=>jw(k6,R6(t)),tD={code:k6,name:XO,encode:R6,digest:eD};var rD=Object.freeze({__proto__:null,identity:tD});new TextEncoder,new TextDecoder;const fA={...QR,...JR,...XR,...tO,...iO,...pO,...yO,...bO,...SO,...kO};({...ZO,...rD});function O6(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const hA=O6("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Bm=O6("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=A6(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),D6={utf8:hA,"utf-8":hA,hex:fA.base16,latin1:Bm,ascii:Bm,binary:Bm,...fA};function Q0(t,e="utf8"){const r=D6[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function Fu(t,e="utf8"){const r=D6[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?nb(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function pA(t){return ka(Q0(Fu(t,K0),b6))}function Hp(t){return Q0(Fu(Ls(t),b6),K0)}function M6(t){const e=Fu(MR,aA),r=DR+Q0(C6([e,t]),aA);return[RR,OR,r].join(kR)}function nD(t){return Q0(t,K0)}function iD(t){return Fu(t,K0)}function sD(t){return Fu([Hp(t.header),Hp(t.payload)].join(zp),E6)}function oD(t){return[Hp(t.header),Hp(t.payload),nD(t.signature)].join(zp)}function zw(t){const e=t.split(zp),r=pA(e[0]),n=pA(e[1]),i=iD(e[2]),s=Fu(e.slice(0,2).join(zp),E6);return{header:r,payload:n,signature:i,data:s}}function gA(t=u6($R)){const e=v6.getPublicKey(t);return{secretKey:C6([t,e]),publicKey:e}}async function aD(t,e,r,n,i=Y.fromMiliseconds(Date.now())){const s={alg:TR,typ:PR},o=M6(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},u=sD({header:s,payload:c}),l=v6.sign(u,n.secretKey.slice(0,32));return oD({header:s,payload:c,signature:l})}var mA=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},cD=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),uD=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),lD=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),dD=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),fD=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),hD=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,pD=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,yA=3,gD=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",hD]],wA=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function mD(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new fD:typeof navigator<"u"?wD(navigator.userAgent):bD()}function yD(t){return t!==""&&gD.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function wD(t){var e=yD(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new dD;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<yA&&(i=mA(mA([],i,!0),ED(yA-i.length),!0)):i=[];var s=i.join("."),o=vD(t),a=pD.exec(t);return a&&a[1]?new lD(r,s,o,a[1]):new cD(r,s,o)}function vD(t){for(var e=0,r=wA.length;e<r;e++){var n=wA[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function bD(){var t=typeof process<"u"&&process.version;return t?new uD(process.version.slice(1)):null}function ED(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var it={};Object.defineProperty(it,"__esModule",{value:!0});it.getLocalStorage=it.getLocalStorageOrThrow=it.getCrypto=it.getCryptoOrThrow=$6=it.getLocation=it.getLocationOrThrow=ib=it.getNavigator=it.getNavigatorOrThrow=Pf=it.getDocument=it.getDocumentOrThrow=it.getFromWindowOrThrow=it.getFromWindow=void 0;function Xa(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}it.getFromWindow=Xa;function Bu(t){const e=Xa(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}it.getFromWindowOrThrow=Bu;function AD(){return Bu("document")}it.getDocumentOrThrow=AD;function CD(){return Xa("document")}var Pf=it.getDocument=CD;function _D(){return Bu("navigator")}it.getNavigatorOrThrow=_D;function SD(){return Xa("navigator")}var ib=it.getNavigator=SD;function ID(){return Bu("location")}it.getLocationOrThrow=ID;function xD(){return Xa("location")}var $6=it.getLocation=xD;function ND(){return Bu("crypto")}it.getCryptoOrThrow=ND;function TD(){return Xa("crypto")}it.getCrypto=TD;function PD(){return Bu("localStorage")}it.getLocalStorageOrThrow=PD;function kD(){return Xa("localStorage")}it.getLocalStorage=kD;var sb={};Object.defineProperty(sb,"__esModule",{value:!0});var U6=sb.getWindowMetadata=void 0;const vA=it;function RD(){let t,e;try{t=vA.getDocumentOrThrow(),e=vA.getLocationOrThrow()}catch{return null}function r(){const d=t.getElementsByTagName("link"),f=[];for(let h=0;h<d.length;h++){const g=d[h],y=g.getAttribute("rel");if(y&&y.toLowerCase().indexOf("icon")>-1){const _=g.getAttribute("href");if(_)if(_.toLowerCase().indexOf("https:")===-1&&_.toLowerCase().indexOf("http:")===-1&&_.indexOf("//")!==0){let v=e.protocol+"//"+e.host;if(_.indexOf("/")===0)v+=_;else{const w=e.pathname.split("/");w.pop();const A=w.join("/");v+=A+"/"+_}f.push(v)}else if(_.indexOf("//")===0){const v=e.protocol+_;f.push(v)}else f.push(_)}}return f}function n(...d){const f=t.getElementsByTagName("meta");for(let h=0;h<f.length;h++){const g=f[h],y=["itemprop","property","name"].map(_=>g.getAttribute(_)).filter(_=>_?d.includes(_):!1);if(y.length&&y){const _=g.getAttribute("content");if(_)return _}}return""}function i(){let d=n("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,u=r();return{description:a,url:c,icons:u,name:o}}U6=sb.getWindowMetadata=RD;const OD="1.0.8";let ri=class Hw extends Error{constructor(e,r={}){var o;const n=r.cause instanceof Hw?r.cause.details:(o=r.cause)!=null&&o.message?r.cause.message:r.details,i=r.cause instanceof Hw&&r.cause.docsPath||r.docsPath,s=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${OD}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}};function Ws(t,e){const r=t.exec(e);return r==null?void 0:r.groups}const L6=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,F6=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,B6=/^\(.+?\).*?$/,bA=/^tuple(?<array>(\[(\d*)\])*)$/;function qw(t){let e=t.type;if(bA.test(t.type)&&"components"in t){e="(";const r=t.components.length;for(let i=0;i<r;i++){const s=t.components[i];e+=qw(s),i<r-1&&(e+=", ")}const n=Ws(bA,t.type);return e+=`)${(n==null?void 0:n.array)??""}`,qw({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function wl(t){let e="";const r=t.length;for(let n=0;n<r;n++){const i=t[n];e+=qw(i),n!==r-1&&(e+=", ")}return e}function DD(t){var e;return t.type==="function"?`function ${t.name}(${wl(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${wl(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${wl(t.inputs)})`:t.type==="error"?`error ${t.name}(${wl(t.inputs)})`:t.type==="constructor"?`constructor(${wl(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const j6=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function MD(t){return j6.test(t)}function $D(t){return Ws(j6,t)}const z6=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function UD(t){return z6.test(t)}function LD(t){return Ws(z6,t)}const H6=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function FD(t){return H6.test(t)}function BD(t){return Ws(H6,t)}const q6=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function W6(t){return q6.test(t)}function jD(t){return Ws(q6,t)}const V6=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function zD(t){return V6.test(t)}function HD(t){return Ws(V6,t)}const K6=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function qD(t){return K6.test(t)}function WD(t){return Ws(K6,t)}const VD=/^receive\(\) external payable$/;function KD(t){return VD.test(t)}const GD=new Set(["indexed"]),Ww=new Set(["calldata","memory","storage"]);class QD extends ri{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class YD extends ri{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class JD extends ri{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class ZD extends ri{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class XD extends ri{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class eM extends ri{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class tM extends ri{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class ju extends ri{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class rM extends ri{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class nM extends ri{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class iM extends ri{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class sM extends ri{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function oM(t,e,r){let n="";if(r)for(const i of Object.entries(r)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;n+=`(${i[0]}{${s}})`}return e?`${e}:${t}${n}`:t}const jm=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function aM(t,e={}){if(FD(t))return cM(t,e);if(UD(t))return uM(t,e);if(MD(t))return lM(t,e);if(zD(t))return dM(t,e);if(qD(t))return fM(t);if(KD(t))return{type:"receive",stateMutability:"payable"};throw new rM({signature:t})}function cM(t,e={}){const r=BD(t);if(!r)throw new ju({signature:t,type:"function"});const n=vi(r.parameters),i=[],s=n.length;for(let a=0;a<s;a++)i.push(Ra(n[a],{modifiers:Ww,structs:e,type:"function"}));const o=[];if(r.returns){const a=vi(r.returns),c=a.length;for(let u=0;u<c;u++)o.push(Ra(a[u],{modifiers:Ww,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:o}}function uM(t,e={}){const r=LD(t);if(!r)throw new ju({signature:t,type:"event"});const n=vi(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(Ra(n[o],{modifiers:GD,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:i}}function lM(t,e={}){const r=$D(t);if(!r)throw new ju({signature:t,type:"error"});const n=vi(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(Ra(n[o],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:i}}function dM(t,e={}){const r=HD(t);if(!r)throw new ju({signature:t,type:"constructor"});const n=vi(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(Ra(n[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}function fM(t){const e=WD(t);if(!e)throw new ju({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const hM=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,pM=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,gM=/^u?int$/;function Ra(t,e){var d,f;const r=oM(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(jm.has(r))return jm.get(r);const n=B6.test(t),i=Ws(n?pM:hM,t);if(!i)throw new JD({param:t});if(i.name&&yM(i.name))throw new ZD({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,u={};if(n){c="tuple";const h=vi(i.type),g=[],y=h.length;for(let _=0;_<y;_++)g.push(Ra(h[_],{structs:a}));u={components:g}}else if(i.type in a)c="tuple",u={components:a[i.type]};else if(gM.test(i.type))c=`${i.type}256`;else if(c=i.type,(e==null?void 0:e.type)!=="struct"&&!G6(c))throw new YD({type:c});if(i.modifier){if(!((f=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&f.call(d,i.modifier)))throw new XD({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(Ww.has(i.modifier)&&!wM(c,!!i.array))throw new eM({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const l={type:`${c}${i.array??""}`,...s,...o,...u};return jm.set(r,l),l}function vi(t,e=[],r="",n=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return n===0?vi(a,[...e,r.trim()]):vi(a,e,`${r}${o}`,n);case"(":return vi(a,e,`${r}${o}`,n+1);case")":return vi(a,e,`${r}${o}`,n-1);default:return vi(a,e,`${r}${o}`,n)}}if(r==="")return e;if(n!==0)throw new sM({current:r,depth:n});return e.push(r.trim()),e}function G6(t){return t==="address"||t==="bool"||t==="function"||t==="string"||L6.test(t)||F6.test(t)}const mM=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function yM(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||L6.test(t)||F6.test(t)||mM.test(t)}function wM(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function vM(t){const e={},r=t.length;for(let o=0;o<r;o++){const a=t[o];if(!W6(a))continue;const c=jD(a);if(!c)throw new ju({signature:a,type:"struct"});const u=c.properties.split(";"),l=[],d=u.length;for(let f=0;f<d;f++){const g=u[f].trim();if(!g)continue;const y=Ra(g,{type:"struct"});l.push(y)}if(!l.length)throw new nM({signature:a});e[c.name]=l}const n={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];n[a]=Q6(c,e)}return n}const bM=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Q6(t,e,r=new Set){const n=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(B6.test(o.type))n.push(o);else{const c=Ws(bM,o.type);if(!(c!=null&&c.type))throw new tM({abiParameter:o});const{array:u,type:l}=c;if(l in e){if(r.has(l))throw new iM({type:l});n.push({...o,type:`tuple${u??""}`,components:Q6(e[l]??[],e,new Set([...r,l]))})}else if(G6(l))n.push(o);else throw new QD({type:l})}}return n}function Y6(t){const e=vM(t),r=[],n=t.length;for(let i=0;i<n;i++){const s=t[i];W6(s)||r.push(aM(s,e))}return r}function Dd(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function EA(t){return Dd(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const J6="2.23.2";let vl={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${J6}`},Y0=class Vw extends Error{constructor(e,r={}){var a;const n=(()=>{var c;return r.cause instanceof Vw?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),i=r.cause instanceof Vw&&r.cause.docsPath||r.docsPath,s=(a=vl.getDocsUrl)==null?void 0:a.call(vl,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...vl.version?[`Version: ${vl.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=J6}walk(e){return Z6(this,e)}};function Z6(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Z6(t.cause,e):e?null:t}let X6=class extends Y0{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};function zu(t,{dir:e,size:r=32}={}){return typeof t=="string"?EM(t,{dir:e,size:r}):AM(t,{dir:e,size:r})}function EM(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new X6({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function AM(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new X6({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}let CM=class extends Y0{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},_M=class extends Y0{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Hu(t,{size:e}){if(EA(t)>e)throw new _M({givenSize:EA(t),maxSize:e})}function Kw(t,e={}){const{signed:r}=e;e.size&&Hu(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function SM(t,e={}){return Number(Kw(t,e))}const IM=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Gw(t,e={}){return typeof t=="number"||typeof t=="bigint"?t4(t,e):typeof t=="string"?TM(t,e):typeof t=="boolean"?xM(t,e):e4(t,e)}function xM(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Hu(r,{size:e.size}),zu(r,{size:e.size})):r}function e4(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=IM[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(Hu(n,{size:e.size}),zu(n,{dir:"right",size:e.size})):n}function t4(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new CM({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?zu(a,{size:n}):a}const NM=new TextEncoder;function TM(t,e={}){const r=NM.encode(t);return e4(r,e)}const PM=new TextEncoder;function kM(t,e={}){return typeof t=="number"||typeof t=="bigint"?OM(t,e):typeof t=="boolean"?RM(t,e):Dd(t)?r4(t,e):n4(t,e)}function RM(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Hu(r,{size:e.size}),zu(r,{size:e.size})):r}const gs={zero:48,nine:57,A:65,F:70,a:97,f:102};function AA(t){if(t>=gs.zero&&t<=gs.nine)return t-gs.zero;if(t>=gs.A&&t<=gs.F)return t-(gs.A-10);if(t>=gs.a&&t<=gs.f)return t-(gs.a-10)}function r4(t,e={}){let r=t;e.size&&(Hu(r,{size:e.size}),r=zu(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=AA(n.charCodeAt(a++)),u=AA(n.charCodeAt(a++));if(c===void 0||u===void 0)throw new Y0(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+u}return s}function OM(t,e){const r=t4(t,e);return r4(r)}function n4(t,e={}){const r=PM.encode(t);return typeof e.size=="number"?(Hu(r,{size:e.size}),zu(r,{dir:"right",size:e.size})):r}function qp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function DM(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function kf(t,...e){if(!DM(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function nne(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");qp(t.outputLen),qp(t.blockLen)}function Wp(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function i4(t,e){kf(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const bh=BigInt(2**32-1),CA=BigInt(32);function MM(t,e=!1){return e?{h:Number(t&bh),l:Number(t>>CA&bh)}:{h:Number(t>>CA&bh)|0,l:Number(t&bh)|0}}function $M(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=MM(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const UM=(t,e,r)=>t<<r|e>>>32-r,LM=(t,e,r)=>e<<r|t>>>32-r,FM=(t,e,r)=>e<<r-32|t>>>64-r,BM=(t,e,r)=>t<<r-32|e>>>64-r,uc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jM(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function zm(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Di(t,e){return t<<32-e|t>>>e}const _A=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function zM(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function SA(t){for(let e=0;e<t.length;e++)t[e]=zM(t[e])}const HM=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ine(t){kf(t);let e="";for(let r=0;r<t.length;r++)e+=HM[t[r]];return e}function qM(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function ob(t){return typeof t=="string"&&(t=qM(t)),kf(t),t}function sne(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];kf(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class s4{clone(){return this._cloneInto()}}function o4(t){const e=n=>t().update(ob(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function one(t=32){if(uc&&typeof uc.getRandomValues=="function")return uc.getRandomValues(new Uint8Array(t));if(uc&&typeof uc.randomBytes=="function")return uc.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const a4=[],c4=[],u4=[],WM=BigInt(0),bl=BigInt(1),VM=BigInt(2),KM=BigInt(7),GM=BigInt(256),QM=BigInt(113);for(let t=0,e=bl,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],a4.push(2*(5*n+r)),c4.push((t+1)*(t+2)/2%64);let i=WM;for(let s=0;s<7;s++)e=(e<<bl^(e>>KM)*QM)%GM,e&VM&&(i^=bl<<(bl<<BigInt(s))-bl);u4.push(i)}const[YM,JM]=$M(u4,!0),IA=(t,e,r)=>r>32?FM(t,e,r):UM(t,e,r),xA=(t,e,r)=>r>32?BM(t,e,r):LM(t,e,r);function ZM(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],d=IA(u,l,1)^r[a],f=xA(u,l,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=c4[o],c=IA(i,s,a),u=xA(i,s,a),l=a4[o];i=t[l],s=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=YM[n],t[1]^=JM[n]}r.fill(0)}class ab extends s4{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,qp(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=jM(this.state)}keccak(){_A||SA(this.state32),ZM(this.state32,this.rounds),_A||SA(this.state32),this.posOut=0,this.pos=0}update(e){Wp(this);const{blockLen:r,state:n}=this;e=ob(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Wp(this,!1),kf(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return qp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(i4(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new ab(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const XM=(t,e,r)=>o4(()=>new ab(e,t,r)),l4=XM(1,136,256/8);function d4(t,e){const r=e||"hex",n=l4(Dd(t,{strict:!1})?kM(t):t);return r==="bytes"?n:Gw(n)}let e$=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const Hm=new e$(8192);function t$(t,e){if(Hm.has(`${t}.${e}`))return Hm.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=d4(n4(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Hm.set(`${t}.${e}`,s),s}function r$(t){const e=d4(`0x${t.substring(4)}`).substring(26);return t$(`0x${e}`)}const n$="modulepreload",i$=function(t){return"/"+t},NA={},hn=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=i$(c),c in NA)return;NA[c]=!0;const u=c.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":n$,u||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};async function s$({hash:t,signature:e}){const r=Dd(t)?t:Gw(t),{secp256k1:n}=await hn(async()=>{const{secp256k1:o}=await import("./secp256k1-Cvr5ruEd.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:l,v:d,yParity:f}=e,h=Number(f??d),g=TA(h);return new n.Signature(Kw(u),Kw(l)).addRecoveryBit(g)}const o=Dd(e)?e:Gw(e),a=SM(`0x${o.slice(130)}`),c=TA(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function TA(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function o$({hash:t,signature:e}){return r$(await s$({hash:t,signature:e}))}function a$(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}function c$(t,e,r){return t&e^~t&r}function u$(t,e,r){return t&e^t&r^e&r}class l$ extends s4{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=zm(this.buffer)}update(e){Wp(this);const{view:r,buffer:n,blockLen:i}=this;e=ob(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=zm(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Wp(this),i4(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let d=o;d<i;d++)r[d]=0;a$(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=zm(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const d$=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xs=new Uint32Array(64);let f$=class extends l${constructor(){super(64,32,8,!1),this.A=Zs[0]|0,this.B=Zs[1]|0,this.C=Zs[2]|0,this.D=Zs[3]|0,this.E=Zs[4]|0,this.F=Zs[5]|0,this.G=Zs[6]|0,this.H=Zs[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)Xs[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){const f=Xs[d-15],h=Xs[d-2],g=Di(f,7)^Di(f,18)^f>>>3,y=Di(h,17)^Di(h,19)^h>>>10;Xs[d]=y+Xs[d-7]+g+Xs[d-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=Di(a,6)^Di(a,11)^Di(a,25),h=l+f+c$(a,c,u)+d$[d]+Xs[d]|0,y=(Di(n,2)^Di(n,13)^Di(n,22))+u$(n,i,s)|0;l=u,u=c,c=a,a=o+h|0,o=s,s=i,i=n,n=h+y|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){Xs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const h$=o4(()=>new f$);function p$(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){const l=t.charAt(u),d=l.charCodeAt(0);if(e[d]!==255)throw new TypeError(l+" is ambiguous");e[d]=u}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let l=0,d=0,f=0;const h=u.length;for(;f!==h&&u[f]===0;)f++,l++;const g=(h-f)*s+1>>>0,y=new Uint8Array(g);for(;f!==h;){let w=u[f],A=0;for(let P=g-1;(w!==0||A<d)&&P!==-1;P--,A++)w+=256*y[P]>>>0,y[P]=w%r>>>0,w=w/r>>>0;if(w!==0)throw new Error("Non-zero carry");d=A,f++}let _=g-d;for(;_!==g&&y[_]===0;)_++;let v=n.repeat(l);for(;_<g;++_)v+=t.charAt(y[_]);return v}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let l=0,d=0,f=0;for(;u[l]===n;)d++,l++;const h=(u.length-l)*i+1>>>0,g=new Uint8Array(h);for(;l<u.length;){const w=u.charCodeAt(l);if(w>255)return;let A=e[w];if(A===255)return;let P=0;for(let R=h-1;(A!==0||P<f)&&R!==-1;R--,P++)A+=r*g[R]>>>0,g[R]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");f=P,l++}let y=h-f;for(;y!==h&&g[y]===0;)y++;const _=new Uint8Array(d+(h-y));let v=d;for(;y!==h;)_[v++]=g[y++];return _}function c(u){const l=a(u);if(l)return l;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var g$="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const f4=p$(g$);function h4(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function qm(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=h4(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function m$(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,_=0,v=0,w=g.length;v!==w&&g[v]===0;)v++,y++;for(var A=(w-v)*l+1>>>0,P=new Uint8Array(A);v!==w;){for(var R=g[v],D=0,M=A-1;(R!==0||D<_)&&M!==-1;M--,D++)R+=256*P[M]>>>0,P[M]=R%a>>>0,R=R/a>>>0;if(R!==0)throw new Error("Non-zero carry");_=D,v++}for(var L=A-_;L!==A&&P[L]===0;)L++;for(var $=c.repeat(y);L<A;++L)$+=t.charAt(P[L]);return $}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var _=0,v=0;g[y]===c;)_++,y++;for(var w=(g.length-y)*u+1>>>0,A=new Uint8Array(w);g[y];){var P=r[g.charCodeAt(y)];if(P===255)return;for(var R=0,D=w-1;(P!==0||R<v)&&D!==-1;D--,R++)P+=a*A[D]>>>0,A[D]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");v=R,y++}if(g[y]!==" "){for(var M=w-v;M!==w&&A[M]===0;)M++;for(var L=new Uint8Array(_+(w-M)),$=_;M!==w;)L[$++]=A[M++];return L}}}function h(g){var y=f(g);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var y$=m$,w$=y$;const v$=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},b$=t=>new TextEncoder().encode(t),E$=t=>new TextDecoder().decode(t);class A${constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class C${constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return p4(this,e)}}class _${constructor(e){this.decoders=e}or(e){return p4(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const p4=(t,e)=>new _$({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class S${constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new A$(e,r,n),this.decoder=new C$(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const J0=({name:t,prefix:e,encode:r,decode:n})=>new S$(t,e,r,n),Rf=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=w$(r,e);return J0({prefix:t,name:e,encode:n,decode:s=>v$(i(s))})},I$=(t,e,r,n)=>{const i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,u=0;for(let l=0;l<s;++l){const d=i[t[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},x$=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Mr=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>J0({prefix:e,name:t,encode(i){return x$(i,n,r)},decode(i){return I$(i,n,r,t)}}),N$=J0({prefix:"\0",name:"identity",encode:t=>E$(t),decode:t=>b$(t)}),T$=Object.freeze(Object.defineProperty({__proto__:null,identity:N$},Symbol.toStringTag,{value:"Module"})),P$=Mr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),k$=Object.freeze(Object.defineProperty({__proto__:null,base2:P$},Symbol.toStringTag,{value:"Module"})),R$=Mr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),O$=Object.freeze(Object.defineProperty({__proto__:null,base8:R$},Symbol.toStringTag,{value:"Module"})),D$=Rf({prefix:"9",name:"base10",alphabet:"0123456789"}),M$=Object.freeze(Object.defineProperty({__proto__:null,base10:D$},Symbol.toStringTag,{value:"Module"})),$$=Mr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),U$=Mr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),L$=Object.freeze(Object.defineProperty({__proto__:null,base16:$$,base16upper:U$},Symbol.toStringTag,{value:"Module"})),F$=Mr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),B$=Mr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),j$=Mr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),z$=Mr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),H$=Mr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),q$=Mr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),W$=Mr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),V$=Mr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),K$=Mr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),G$=Object.freeze(Object.defineProperty({__proto__:null,base32:F$,base32hex:H$,base32hexpad:W$,base32hexpadupper:V$,base32hexupper:q$,base32pad:j$,base32padupper:z$,base32upper:B$,base32z:K$},Symbol.toStringTag,{value:"Module"})),Q$=Rf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Y$=Rf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),J$=Object.freeze(Object.defineProperty({__proto__:null,base36:Q$,base36upper:Y$},Symbol.toStringTag,{value:"Module"})),Z$=Rf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),X$=Rf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),eU=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Z$,base58flickr:X$},Symbol.toStringTag,{value:"Module"})),tU=Mr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),rU=Mr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),nU=Mr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),iU=Mr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),sU=Object.freeze(Object.defineProperty({__proto__:null,base64:tU,base64pad:rU,base64url:nU,base64urlpad:iU},Symbol.toStringTag,{value:"Module"})),g4=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),oU=g4.reduce((t,e,r)=>(t[r]=e,t),[]),aU=g4.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function cU(t){return t.reduce((e,r)=>(e+=oU[r],e),"")}function uU(t){const e=[];for(const r of t){const n=aU[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const lU=J0({prefix:"🚀",name:"base256emoji",encode:cU,decode:uU}),dU=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:lU},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const PA={...T$,...k$,...O$,...M$,...L$,...G$,...J$,...eU,...sU,...dU};function m4(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const kA=m4("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Wm=m4("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=h4(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),y4={utf8:kA,"utf-8":kA,hex:PA.base16,latin1:Wm,ascii:Wm,binary:Wm,...PA};function Qn(t,e="utf8"){const r=y4[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function Zr(t,e="utf8"){const r=y4[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var w4={};const fU="6.6.1",hU={version:fU};var Ln={},cb={exports:{}};const pU={},gU=Object.freeze(Object.defineProperty({__proto__:null,default:pU},Symbol.toStringTag,{value:"Module"})),v4=N_(gU);cb.exports;(function(t){(function(e,r){function n(x,p){if(!x)throw new Error(p||"Assertion failed")}function i(x,p){x.super_=p;var b=function(){};b.prototype=p.prototype,x.prototype=new b,x.prototype.constructor=x}function s(x,p,b){if(s.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((p==="le"||p==="be")&&(b=p,p=10),this._init(x||0,p||10,b||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=v4.Buffer}catch{}s.isBN=function(p){return p instanceof s?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===s.wordSize&&Array.isArray(p.words)},s.max=function(p,b){return p.cmp(b)>0?p:b},s.min=function(p,b){return p.cmp(b)<0?p:b},s.prototype._init=function(p,b,I){if(typeof p=="number")return this._initNumber(p,b,I);if(typeof p=="object")return this._initArray(p,b,I);b==="hex"&&(b=16),n(b===(b|0)&&b>=2&&b<=36),p=p.toString().replace(/\s+/g,"");var E=0;p[0]==="-"&&(E++,this.negative=1),E<p.length&&(b===16?this._parseHex(p,E,I):(this._parseBase(p,b,E),I==="le"&&this._initArray(this.toArray(),b,I)))},s.prototype._initNumber=function(p,b,I){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(n(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),I==="le"&&this._initArray(this.toArray(),b,I)},s.prototype._initArray=function(p,b,I){if(n(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var C,k,N=0;if(I==="be")for(E=p.length-1,C=0;E>=0;E-=3)k=p[E]|p[E-1]<<8|p[E-2]<<16,this.words[C]|=k<<N&67108863,this.words[C+1]=k>>>26-N&67108863,N+=24,N>=26&&(N-=26,C++);else if(I==="le")for(E=0,C=0;E<p.length;E+=3)k=p[E]|p[E+1]<<8|p[E+2]<<16,this.words[C]|=k<<N&67108863,this.words[C+1]=k>>>26-N&67108863,N+=24,N>=26&&(N-=26,C++);return this.strip()};function a(x,p){var b=x.charCodeAt(p);return b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:b-48&15}function c(x,p,b){var I=a(x,b);return b-1>=p&&(I|=a(x,b-1)<<4),I}s.prototype._parseHex=function(p,b,I){this.length=Math.ceil((p.length-b)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var C=0,k=0,N;if(I==="be")for(E=p.length-1;E>=b;E-=2)N=c(p,b,E)<<C,this.words[k]|=N&67108863,C>=18?(C-=18,k+=1,this.words[k]|=N>>>26):C+=8;else{var S=p.length-b;for(E=S%2===0?b+1:b;E<p.length;E+=2)N=c(p,b,E)<<C,this.words[k]|=N&67108863,C>=18?(C-=18,k+=1,this.words[k]|=N>>>26):C+=8}this.strip()};function u(x,p,b,I){for(var E=0,C=Math.min(x.length,b),k=p;k<C;k++){var N=x.charCodeAt(k)-48;E*=I,N>=49?E+=N-49+10:N>=17?E+=N-17+10:E+=N}return E}s.prototype._parseBase=function(p,b,I){this.words=[0],this.length=1;for(var E=0,C=1;C<=67108863;C*=b)E++;E--,C=C/b|0;for(var k=p.length-I,N=k%E,S=Math.min(k,k-N)+I,m=0,T=I;T<S;T+=E)m=u(p,T,T+E,b),this.imuln(C),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(N!==0){var j=1;for(m=u(p,T,p.length,b),T=0;T<N;T++)j*=b;this.imuln(j),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this.strip()},s.prototype.copy=function(p){p.words=new Array(this.length);for(var b=0;b<this.length;b++)p.words[b]=this.words[b];p.length=this.length,p.negative=this.negative,p.red=this.red},s.prototype.clone=function(){var p=new s(null);return this.copy(p),p},s.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(p,b){p=p||10,b=b|0||1;var I;if(p===16||p==="hex"){I="";for(var E=0,C=0,k=0;k<this.length;k++){var N=this.words[k],S=((N<<E|C)&16777215).toString(16);C=N>>>24-E&16777215,E+=2,E>=26&&(E-=26,k--),C!==0||k!==this.length-1?I=l[6-S.length]+S+I:I=S+I}for(C!==0&&(I=C.toString(16)+I);I.length%b!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}if(p===(p|0)&&p>=2&&p<=36){var m=d[p],T=f[p];I="";var j=this.clone();for(j.negative=0;!j.isZero();){var H=j.modn(T).toString(p);j=j.idivn(T),j.isZero()?I=H+I:I=l[m-H.length]+H+I}for(this.isZero()&&(I="0"+I);I.length%b!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(p,b){return n(typeof o<"u"),this.toArrayLike(o,p,b)},s.prototype.toArray=function(p,b){return this.toArrayLike(Array,p,b)},s.prototype.toArrayLike=function(p,b,I){var E=this.byteLength(),C=I||Math.max(1,E);n(E<=C,"byte array longer than desired length"),n(C>0,"Requested array length <= 0"),this.strip();var k=b==="le",N=new p(C),S,m,T=this.clone();if(k){for(m=0;!T.isZero();m++)S=T.andln(255),T.iushrn(8),N[m]=S;for(;m<C;m++)N[m]=0}else{for(m=0;m<C-E;m++)N[m]=0;for(m=0;!T.isZero();m++)S=T.andln(255),T.iushrn(8),N[C-m-1]=S}return N},Math.clz32?s.prototype._countBits=function(p){return 32-Math.clz32(p)}:s.prototype._countBits=function(p){var b=p,I=0;return b>=4096&&(I+=13,b>>>=13),b>=64&&(I+=7,b>>>=7),b>=8&&(I+=4,b>>>=4),b>=2&&(I+=2,b>>>=2),I+b},s.prototype._zeroBits=function(p){if(p===0)return 26;var b=p,I=0;return b&8191||(I+=13,b>>>=13),b&127||(I+=7,b>>>=7),b&15||(I+=4,b>>>=4),b&3||(I+=2,b>>>=2),b&1||I++,I},s.prototype.bitLength=function(){var p=this.words[this.length-1],b=this._countBits(p);return(this.length-1)*26+b};function h(x){for(var p=new Array(x.bitLength()),b=0;b<p.length;b++){var I=b/26|0,E=b%26;p[b]=(x.words[I]&1<<E)>>>E}return p}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,b=0;b<this.length;b++){var I=this._zeroBits(this.words[b]);if(p+=I,I!==26)break}return p},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},s.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var b=0;b<p.length;b++)this.words[b]=this.words[b]|p.words[b];return this.strip()},s.prototype.ior=function(p){return n((this.negative|p.negative)===0),this.iuor(p)},s.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},s.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},s.prototype.iuand=function(p){var b;this.length>p.length?b=p:b=this;for(var I=0;I<b.length;I++)this.words[I]=this.words[I]&p.words[I];return this.length=b.length,this.strip()},s.prototype.iand=function(p){return n((this.negative|p.negative)===0),this.iuand(p)},s.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},s.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},s.prototype.iuxor=function(p){var b,I;this.length>p.length?(b=this,I=p):(b=p,I=this);for(var E=0;E<I.length;E++)this.words[E]=b.words[E]^I.words[E];if(this!==b)for(;E<b.length;E++)this.words[E]=b.words[E];return this.length=b.length,this.strip()},s.prototype.ixor=function(p){return n((this.negative|p.negative)===0),this.iuxor(p)},s.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},s.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},s.prototype.inotn=function(p){n(typeof p=="number"&&p>=0);var b=Math.ceil(p/26)|0,I=p%26;this._expand(b),I>0&&b--;for(var E=0;E<b;E++)this.words[E]=~this.words[E]&67108863;return I>0&&(this.words[E]=~this.words[E]&67108863>>26-I),this.strip()},s.prototype.notn=function(p){return this.clone().inotn(p)},s.prototype.setn=function(p,b){n(typeof p=="number"&&p>=0);var I=p/26|0,E=p%26;return this._expand(I+1),b?this.words[I]=this.words[I]|1<<E:this.words[I]=this.words[I]&~(1<<E),this.strip()},s.prototype.iadd=function(p){var b;if(this.negative!==0&&p.negative===0)return this.negative=0,b=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,b=this.isub(p),p.negative=1,b._normSign();var I,E;this.length>p.length?(I=this,E=p):(I=p,E=this);for(var C=0,k=0;k<E.length;k++)b=(I.words[k]|0)+(E.words[k]|0)+C,this.words[k]=b&67108863,C=b>>>26;for(;C!==0&&k<I.length;k++)b=(I.words[k]|0)+C,this.words[k]=b&67108863,C=b>>>26;if(this.length=I.length,C!==0)this.words[this.length]=C,this.length++;else if(I!==this)for(;k<I.length;k++)this.words[k]=I.words[k];return this},s.prototype.add=function(p){var b;return p.negative!==0&&this.negative===0?(p.negative=0,b=this.sub(p),p.negative^=1,b):p.negative===0&&this.negative!==0?(this.negative=0,b=p.sub(this),this.negative=1,b):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},s.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var b=this.iadd(p);return p.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var I=this.cmp(p);if(I===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,C;I>0?(E=this,C=p):(E=p,C=this);for(var k=0,N=0;N<C.length;N++)b=(E.words[N]|0)-(C.words[N]|0)+k,k=b>>26,this.words[N]=b&67108863;for(;k!==0&&N<E.length;N++)b=(E.words[N]|0)+k,k=b>>26,this.words[N]=b&67108863;if(k===0&&N<E.length&&E!==this)for(;N<E.length;N++)this.words[N]=E.words[N];return this.length=Math.max(this.length,N),E!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(p){return this.clone().isub(p)};function g(x,p,b){b.negative=p.negative^x.negative;var I=x.length+p.length|0;b.length=I,I=I-1|0;var E=x.words[0]|0,C=p.words[0]|0,k=E*C,N=k&67108863,S=k/67108864|0;b.words[0]=N;for(var m=1;m<I;m++){for(var T=S>>>26,j=S&67108863,H=Math.min(m,p.length-1),z=Math.max(0,m-x.length+1);z<=H;z++){var Q=m-z|0;E=x.words[Q]|0,C=p.words[z]|0,k=E*C+j,T+=k/67108864|0,j=k&67108863}b.words[m]=j|0,S=T|0}return S!==0?b.words[m]=S|0:b.length--,b.strip()}var y=function(p,b,I){var E=p.words,C=b.words,k=I.words,N=0,S,m,T,j=E[0]|0,H=j&8191,z=j>>>13,Q=E[1]|0,ae=Q&8191,le=Q>>>13,Le=E[2]|0,fe=Le&8191,Se=Le>>>13,on=E[3]|0,Ge=on&8191,at=on>>>13,ls=E[4]|0,ht=ls&8191,St=ls>>>13,Gf=E[5]|0,It=Gf&8191,yt=Gf>>>13,rl=E[6]|0,pt=rl&8191,wt=rl>>>13,nl=E[7]|0,vt=nl&8191,bt=nl>>>13,il=E[8]|0,xt=il&8191,Nt=il>>>13,Qf=E[9]|0,Tt=Qf&8191,$t=Qf>>>13,o2=C[0]|0,Ut=o2&8191,Lt=o2>>>13,a2=C[1]|0,Ft=a2&8191,Bt=a2>>>13,c2=C[2]|0,jt=c2&8191,zt=c2>>>13,u2=C[3]|0,Ht=u2&8191,qt=u2>>>13,l2=C[4]|0,Wt=l2&8191,Vt=l2>>>13,d2=C[5]|0,Kt=d2&8191,Gt=d2>>>13,f2=C[6]|0,Qt=f2&8191,Yt=f2>>>13,h2=C[7]|0,Jt=h2&8191,Zt=h2>>>13,p2=C[8]|0,Xt=p2&8191,er=p2>>>13,g2=C[9]|0,tr=g2&8191,rr=g2>>>13;I.negative=p.negative^b.negative,I.length=19,S=Math.imul(H,Ut),m=Math.imul(H,Lt),m=m+Math.imul(z,Ut)|0,T=Math.imul(z,Lt);var kg=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(kg>>>26)|0,kg&=67108863,S=Math.imul(ae,Ut),m=Math.imul(ae,Lt),m=m+Math.imul(le,Ut)|0,T=Math.imul(le,Lt),S=S+Math.imul(H,Ft)|0,m=m+Math.imul(H,Bt)|0,m=m+Math.imul(z,Ft)|0,T=T+Math.imul(z,Bt)|0;var Rg=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(Rg>>>26)|0,Rg&=67108863,S=Math.imul(fe,Ut),m=Math.imul(fe,Lt),m=m+Math.imul(Se,Ut)|0,T=Math.imul(Se,Lt),S=S+Math.imul(ae,Ft)|0,m=m+Math.imul(ae,Bt)|0,m=m+Math.imul(le,Ft)|0,T=T+Math.imul(le,Bt)|0,S=S+Math.imul(H,jt)|0,m=m+Math.imul(H,zt)|0,m=m+Math.imul(z,jt)|0,T=T+Math.imul(z,zt)|0;var Og=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(Og>>>26)|0,Og&=67108863,S=Math.imul(Ge,Ut),m=Math.imul(Ge,Lt),m=m+Math.imul(at,Ut)|0,T=Math.imul(at,Lt),S=S+Math.imul(fe,Ft)|0,m=m+Math.imul(fe,Bt)|0,m=m+Math.imul(Se,Ft)|0,T=T+Math.imul(Se,Bt)|0,S=S+Math.imul(ae,jt)|0,m=m+Math.imul(ae,zt)|0,m=m+Math.imul(le,jt)|0,T=T+Math.imul(le,zt)|0,S=S+Math.imul(H,Ht)|0,m=m+Math.imul(H,qt)|0,m=m+Math.imul(z,Ht)|0,T=T+Math.imul(z,qt)|0;var Dg=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(Dg>>>26)|0,Dg&=67108863,S=Math.imul(ht,Ut),m=Math.imul(ht,Lt),m=m+Math.imul(St,Ut)|0,T=Math.imul(St,Lt),S=S+Math.imul(Ge,Ft)|0,m=m+Math.imul(Ge,Bt)|0,m=m+Math.imul(at,Ft)|0,T=T+Math.imul(at,Bt)|0,S=S+Math.imul(fe,jt)|0,m=m+Math.imul(fe,zt)|0,m=m+Math.imul(Se,jt)|0,T=T+Math.imul(Se,zt)|0,S=S+Math.imul(ae,Ht)|0,m=m+Math.imul(ae,qt)|0,m=m+Math.imul(le,Ht)|0,T=T+Math.imul(le,qt)|0,S=S+Math.imul(H,Wt)|0,m=m+Math.imul(H,Vt)|0,m=m+Math.imul(z,Wt)|0,T=T+Math.imul(z,Vt)|0;var Mg=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(Mg>>>26)|0,Mg&=67108863,S=Math.imul(It,Ut),m=Math.imul(It,Lt),m=m+Math.imul(yt,Ut)|0,T=Math.imul(yt,Lt),S=S+Math.imul(ht,Ft)|0,m=m+Math.imul(ht,Bt)|0,m=m+Math.imul(St,Ft)|0,T=T+Math.imul(St,Bt)|0,S=S+Math.imul(Ge,jt)|0,m=m+Math.imul(Ge,zt)|0,m=m+Math.imul(at,jt)|0,T=T+Math.imul(at,zt)|0,S=S+Math.imul(fe,Ht)|0,m=m+Math.imul(fe,qt)|0,m=m+Math.imul(Se,Ht)|0,T=T+Math.imul(Se,qt)|0,S=S+Math.imul(ae,Wt)|0,m=m+Math.imul(ae,Vt)|0,m=m+Math.imul(le,Wt)|0,T=T+Math.imul(le,Vt)|0,S=S+Math.imul(H,Kt)|0,m=m+Math.imul(H,Gt)|0,m=m+Math.imul(z,Kt)|0,T=T+Math.imul(z,Gt)|0;var $g=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+($g>>>26)|0,$g&=67108863,S=Math.imul(pt,Ut),m=Math.imul(pt,Lt),m=m+Math.imul(wt,Ut)|0,T=Math.imul(wt,Lt),S=S+Math.imul(It,Ft)|0,m=m+Math.imul(It,Bt)|0,m=m+Math.imul(yt,Ft)|0,T=T+Math.imul(yt,Bt)|0,S=S+Math.imul(ht,jt)|0,m=m+Math.imul(ht,zt)|0,m=m+Math.imul(St,jt)|0,T=T+Math.imul(St,zt)|0,S=S+Math.imul(Ge,Ht)|0,m=m+Math.imul(Ge,qt)|0,m=m+Math.imul(at,Ht)|0,T=T+Math.imul(at,qt)|0,S=S+Math.imul(fe,Wt)|0,m=m+Math.imul(fe,Vt)|0,m=m+Math.imul(Se,Wt)|0,T=T+Math.imul(Se,Vt)|0,S=S+Math.imul(ae,Kt)|0,m=m+Math.imul(ae,Gt)|0,m=m+Math.imul(le,Kt)|0,T=T+Math.imul(le,Gt)|0,S=S+Math.imul(H,Qt)|0,m=m+Math.imul(H,Yt)|0,m=m+Math.imul(z,Qt)|0,T=T+Math.imul(z,Yt)|0;var Ug=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(Ug>>>26)|0,Ug&=67108863,S=Math.imul(vt,Ut),m=Math.imul(vt,Lt),m=m+Math.imul(bt,Ut)|0,T=Math.imul(bt,Lt),S=S+Math.imul(pt,Ft)|0,m=m+Math.imul(pt,Bt)|0,m=m+Math.imul(wt,Ft)|0,T=T+Math.imul(wt,Bt)|0,S=S+Math.imul(It,jt)|0,m=m+Math.imul(It,zt)|0,m=m+Math.imul(yt,jt)|0,T=T+Math.imul(yt,zt)|0,S=S+Math.imul(ht,Ht)|0,m=m+Math.imul(ht,qt)|0,m=m+Math.imul(St,Ht)|0,T=T+Math.imul(St,qt)|0,S=S+Math.imul(Ge,Wt)|0,m=m+Math.imul(Ge,Vt)|0,m=m+Math.imul(at,Wt)|0,T=T+Math.imul(at,Vt)|0,S=S+Math.imul(fe,Kt)|0,m=m+Math.imul(fe,Gt)|0,m=m+Math.imul(Se,Kt)|0,T=T+Math.imul(Se,Gt)|0,S=S+Math.imul(ae,Qt)|0,m=m+Math.imul(ae,Yt)|0,m=m+Math.imul(le,Qt)|0,T=T+Math.imul(le,Yt)|0,S=S+Math.imul(H,Jt)|0,m=m+Math.imul(H,Zt)|0,m=m+Math.imul(z,Jt)|0,T=T+Math.imul(z,Zt)|0;var Lg=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(Lg>>>26)|0,Lg&=67108863,S=Math.imul(xt,Ut),m=Math.imul(xt,Lt),m=m+Math.imul(Nt,Ut)|0,T=Math.imul(Nt,Lt),S=S+Math.imul(vt,Ft)|0,m=m+Math.imul(vt,Bt)|0,m=m+Math.imul(bt,Ft)|0,T=T+Math.imul(bt,Bt)|0,S=S+Math.imul(pt,jt)|0,m=m+Math.imul(pt,zt)|0,m=m+Math.imul(wt,jt)|0,T=T+Math.imul(wt,zt)|0,S=S+Math.imul(It,Ht)|0,m=m+Math.imul(It,qt)|0,m=m+Math.imul(yt,Ht)|0,T=T+Math.imul(yt,qt)|0,S=S+Math.imul(ht,Wt)|0,m=m+Math.imul(ht,Vt)|0,m=m+Math.imul(St,Wt)|0,T=T+Math.imul(St,Vt)|0,S=S+Math.imul(Ge,Kt)|0,m=m+Math.imul(Ge,Gt)|0,m=m+Math.imul(at,Kt)|0,T=T+Math.imul(at,Gt)|0,S=S+Math.imul(fe,Qt)|0,m=m+Math.imul(fe,Yt)|0,m=m+Math.imul(Se,Qt)|0,T=T+Math.imul(Se,Yt)|0,S=S+Math.imul(ae,Jt)|0,m=m+Math.imul(ae,Zt)|0,m=m+Math.imul(le,Jt)|0,T=T+Math.imul(le,Zt)|0,S=S+Math.imul(H,Xt)|0,m=m+Math.imul(H,er)|0,m=m+Math.imul(z,Xt)|0,T=T+Math.imul(z,er)|0;var Fg=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(Fg>>>26)|0,Fg&=67108863,S=Math.imul(Tt,Ut),m=Math.imul(Tt,Lt),m=m+Math.imul($t,Ut)|0,T=Math.imul($t,Lt),S=S+Math.imul(xt,Ft)|0,m=m+Math.imul(xt,Bt)|0,m=m+Math.imul(Nt,Ft)|0,T=T+Math.imul(Nt,Bt)|0,S=S+Math.imul(vt,jt)|0,m=m+Math.imul(vt,zt)|0,m=m+Math.imul(bt,jt)|0,T=T+Math.imul(bt,zt)|0,S=S+Math.imul(pt,Ht)|0,m=m+Math.imul(pt,qt)|0,m=m+Math.imul(wt,Ht)|0,T=T+Math.imul(wt,qt)|0,S=S+Math.imul(It,Wt)|0,m=m+Math.imul(It,Vt)|0,m=m+Math.imul(yt,Wt)|0,T=T+Math.imul(yt,Vt)|0,S=S+Math.imul(ht,Kt)|0,m=m+Math.imul(ht,Gt)|0,m=m+Math.imul(St,Kt)|0,T=T+Math.imul(St,Gt)|0,S=S+Math.imul(Ge,Qt)|0,m=m+Math.imul(Ge,Yt)|0,m=m+Math.imul(at,Qt)|0,T=T+Math.imul(at,Yt)|0,S=S+Math.imul(fe,Jt)|0,m=m+Math.imul(fe,Zt)|0,m=m+Math.imul(Se,Jt)|0,T=T+Math.imul(Se,Zt)|0,S=S+Math.imul(ae,Xt)|0,m=m+Math.imul(ae,er)|0,m=m+Math.imul(le,Xt)|0,T=T+Math.imul(le,er)|0,S=S+Math.imul(H,tr)|0,m=m+Math.imul(H,rr)|0,m=m+Math.imul(z,tr)|0,T=T+Math.imul(z,rr)|0;var Bg=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(Bg>>>26)|0,Bg&=67108863,S=Math.imul(Tt,Ft),m=Math.imul(Tt,Bt),m=m+Math.imul($t,Ft)|0,T=Math.imul($t,Bt),S=S+Math.imul(xt,jt)|0,m=m+Math.imul(xt,zt)|0,m=m+Math.imul(Nt,jt)|0,T=T+Math.imul(Nt,zt)|0,S=S+Math.imul(vt,Ht)|0,m=m+Math.imul(vt,qt)|0,m=m+Math.imul(bt,Ht)|0,T=T+Math.imul(bt,qt)|0,S=S+Math.imul(pt,Wt)|0,m=m+Math.imul(pt,Vt)|0,m=m+Math.imul(wt,Wt)|0,T=T+Math.imul(wt,Vt)|0,S=S+Math.imul(It,Kt)|0,m=m+Math.imul(It,Gt)|0,m=m+Math.imul(yt,Kt)|0,T=T+Math.imul(yt,Gt)|0,S=S+Math.imul(ht,Qt)|0,m=m+Math.imul(ht,Yt)|0,m=m+Math.imul(St,Qt)|0,T=T+Math.imul(St,Yt)|0,S=S+Math.imul(Ge,Jt)|0,m=m+Math.imul(Ge,Zt)|0,m=m+Math.imul(at,Jt)|0,T=T+Math.imul(at,Zt)|0,S=S+Math.imul(fe,Xt)|0,m=m+Math.imul(fe,er)|0,m=m+Math.imul(Se,Xt)|0,T=T+Math.imul(Se,er)|0,S=S+Math.imul(ae,tr)|0,m=m+Math.imul(ae,rr)|0,m=m+Math.imul(le,tr)|0,T=T+Math.imul(le,rr)|0;var jg=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(jg>>>26)|0,jg&=67108863,S=Math.imul(Tt,jt),m=Math.imul(Tt,zt),m=m+Math.imul($t,jt)|0,T=Math.imul($t,zt),S=S+Math.imul(xt,Ht)|0,m=m+Math.imul(xt,qt)|0,m=m+Math.imul(Nt,Ht)|0,T=T+Math.imul(Nt,qt)|0,S=S+Math.imul(vt,Wt)|0,m=m+Math.imul(vt,Vt)|0,m=m+Math.imul(bt,Wt)|0,T=T+Math.imul(bt,Vt)|0,S=S+Math.imul(pt,Kt)|0,m=m+Math.imul(pt,Gt)|0,m=m+Math.imul(wt,Kt)|0,T=T+Math.imul(wt,Gt)|0,S=S+Math.imul(It,Qt)|0,m=m+Math.imul(It,Yt)|0,m=m+Math.imul(yt,Qt)|0,T=T+Math.imul(yt,Yt)|0,S=S+Math.imul(ht,Jt)|0,m=m+Math.imul(ht,Zt)|0,m=m+Math.imul(St,Jt)|0,T=T+Math.imul(St,Zt)|0,S=S+Math.imul(Ge,Xt)|0,m=m+Math.imul(Ge,er)|0,m=m+Math.imul(at,Xt)|0,T=T+Math.imul(at,er)|0,S=S+Math.imul(fe,tr)|0,m=m+Math.imul(fe,rr)|0,m=m+Math.imul(Se,tr)|0,T=T+Math.imul(Se,rr)|0;var zg=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(zg>>>26)|0,zg&=67108863,S=Math.imul(Tt,Ht),m=Math.imul(Tt,qt),m=m+Math.imul($t,Ht)|0,T=Math.imul($t,qt),S=S+Math.imul(xt,Wt)|0,m=m+Math.imul(xt,Vt)|0,m=m+Math.imul(Nt,Wt)|0,T=T+Math.imul(Nt,Vt)|0,S=S+Math.imul(vt,Kt)|0,m=m+Math.imul(vt,Gt)|0,m=m+Math.imul(bt,Kt)|0,T=T+Math.imul(bt,Gt)|0,S=S+Math.imul(pt,Qt)|0,m=m+Math.imul(pt,Yt)|0,m=m+Math.imul(wt,Qt)|0,T=T+Math.imul(wt,Yt)|0,S=S+Math.imul(It,Jt)|0,m=m+Math.imul(It,Zt)|0,m=m+Math.imul(yt,Jt)|0,T=T+Math.imul(yt,Zt)|0,S=S+Math.imul(ht,Xt)|0,m=m+Math.imul(ht,er)|0,m=m+Math.imul(St,Xt)|0,T=T+Math.imul(St,er)|0,S=S+Math.imul(Ge,tr)|0,m=m+Math.imul(Ge,rr)|0,m=m+Math.imul(at,tr)|0,T=T+Math.imul(at,rr)|0;var Hg=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(Hg>>>26)|0,Hg&=67108863,S=Math.imul(Tt,Wt),m=Math.imul(Tt,Vt),m=m+Math.imul($t,Wt)|0,T=Math.imul($t,Vt),S=S+Math.imul(xt,Kt)|0,m=m+Math.imul(xt,Gt)|0,m=m+Math.imul(Nt,Kt)|0,T=T+Math.imul(Nt,Gt)|0,S=S+Math.imul(vt,Qt)|0,m=m+Math.imul(vt,Yt)|0,m=m+Math.imul(bt,Qt)|0,T=T+Math.imul(bt,Yt)|0,S=S+Math.imul(pt,Jt)|0,m=m+Math.imul(pt,Zt)|0,m=m+Math.imul(wt,Jt)|0,T=T+Math.imul(wt,Zt)|0,S=S+Math.imul(It,Xt)|0,m=m+Math.imul(It,er)|0,m=m+Math.imul(yt,Xt)|0,T=T+Math.imul(yt,er)|0,S=S+Math.imul(ht,tr)|0,m=m+Math.imul(ht,rr)|0,m=m+Math.imul(St,tr)|0,T=T+Math.imul(St,rr)|0;var qg=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(qg>>>26)|0,qg&=67108863,S=Math.imul(Tt,Kt),m=Math.imul(Tt,Gt),m=m+Math.imul($t,Kt)|0,T=Math.imul($t,Gt),S=S+Math.imul(xt,Qt)|0,m=m+Math.imul(xt,Yt)|0,m=m+Math.imul(Nt,Qt)|0,T=T+Math.imul(Nt,Yt)|0,S=S+Math.imul(vt,Jt)|0,m=m+Math.imul(vt,Zt)|0,m=m+Math.imul(bt,Jt)|0,T=T+Math.imul(bt,Zt)|0,S=S+Math.imul(pt,Xt)|0,m=m+Math.imul(pt,er)|0,m=m+Math.imul(wt,Xt)|0,T=T+Math.imul(wt,er)|0,S=S+Math.imul(It,tr)|0,m=m+Math.imul(It,rr)|0,m=m+Math.imul(yt,tr)|0,T=T+Math.imul(yt,rr)|0;var Wg=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(Wg>>>26)|0,Wg&=67108863,S=Math.imul(Tt,Qt),m=Math.imul(Tt,Yt),m=m+Math.imul($t,Qt)|0,T=Math.imul($t,Yt),S=S+Math.imul(xt,Jt)|0,m=m+Math.imul(xt,Zt)|0,m=m+Math.imul(Nt,Jt)|0,T=T+Math.imul(Nt,Zt)|0,S=S+Math.imul(vt,Xt)|0,m=m+Math.imul(vt,er)|0,m=m+Math.imul(bt,Xt)|0,T=T+Math.imul(bt,er)|0,S=S+Math.imul(pt,tr)|0,m=m+Math.imul(pt,rr)|0,m=m+Math.imul(wt,tr)|0,T=T+Math.imul(wt,rr)|0;var Vg=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(Vg>>>26)|0,Vg&=67108863,S=Math.imul(Tt,Jt),m=Math.imul(Tt,Zt),m=m+Math.imul($t,Jt)|0,T=Math.imul($t,Zt),S=S+Math.imul(xt,Xt)|0,m=m+Math.imul(xt,er)|0,m=m+Math.imul(Nt,Xt)|0,T=T+Math.imul(Nt,er)|0,S=S+Math.imul(vt,tr)|0,m=m+Math.imul(vt,rr)|0,m=m+Math.imul(bt,tr)|0,T=T+Math.imul(bt,rr)|0;var Kg=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(Kg>>>26)|0,Kg&=67108863,S=Math.imul(Tt,Xt),m=Math.imul(Tt,er),m=m+Math.imul($t,Xt)|0,T=Math.imul($t,er),S=S+Math.imul(xt,tr)|0,m=m+Math.imul(xt,rr)|0,m=m+Math.imul(Nt,tr)|0,T=T+Math.imul(Nt,rr)|0;var Gg=(N+S|0)+((m&8191)<<13)|0;N=(T+(m>>>13)|0)+(Gg>>>26)|0,Gg&=67108863,S=Math.imul(Tt,tr),m=Math.imul(Tt,rr),m=m+Math.imul($t,tr)|0,T=Math.imul($t,rr);var Qg=(N+S|0)+((m&8191)<<13)|0;return N=(T+(m>>>13)|0)+(Qg>>>26)|0,Qg&=67108863,k[0]=kg,k[1]=Rg,k[2]=Og,k[3]=Dg,k[4]=Mg,k[5]=$g,k[6]=Ug,k[7]=Lg,k[8]=Fg,k[9]=Bg,k[10]=jg,k[11]=zg,k[12]=Hg,k[13]=qg,k[14]=Wg,k[15]=Vg,k[16]=Kg,k[17]=Gg,k[18]=Qg,N!==0&&(k[19]=N,I.length++),I};Math.imul||(y=g);function _(x,p,b){b.negative=p.negative^x.negative,b.length=x.length+p.length;for(var I=0,E=0,C=0;C<b.length-1;C++){var k=E;E=0;for(var N=I&67108863,S=Math.min(C,p.length-1),m=Math.max(0,C-x.length+1);m<=S;m++){var T=C-m,j=x.words[T]|0,H=p.words[m]|0,z=j*H,Q=z&67108863;k=k+(z/67108864|0)|0,Q=Q+N|0,N=Q&67108863,k=k+(Q>>>26)|0,E+=k>>>26,k&=67108863}b.words[C]=N,I=k,k=E}return I!==0?b.words[C]=I:b.length--,b.strip()}function v(x,p,b){var I=new w;return I.mulp(x,p,b)}s.prototype.mulTo=function(p,b){var I,E=this.length+p.length;return this.length===10&&p.length===10?I=y(this,p,b):E<63?I=g(this,p,b):E<1024?I=_(this,p,b):I=v(this,p,b),I};function w(x,p){this.x=x,this.y=p}w.prototype.makeRBT=function(p){for(var b=new Array(p),I=s.prototype._countBits(p)-1,E=0;E<p;E++)b[E]=this.revBin(E,I,p);return b},w.prototype.revBin=function(p,b,I){if(p===0||p===I-1)return p;for(var E=0,C=0;C<b;C++)E|=(p&1)<<b-C-1,p>>=1;return E},w.prototype.permute=function(p,b,I,E,C,k){for(var N=0;N<k;N++)E[N]=b[p[N]],C[N]=I[p[N]]},w.prototype.transform=function(p,b,I,E,C,k){this.permute(k,p,b,I,E,C);for(var N=1;N<C;N<<=1)for(var S=N<<1,m=Math.cos(2*Math.PI/S),T=Math.sin(2*Math.PI/S),j=0;j<C;j+=S)for(var H=m,z=T,Q=0;Q<N;Q++){var ae=I[j+Q],le=E[j+Q],Le=I[j+Q+N],fe=E[j+Q+N],Se=H*Le-z*fe;fe=H*fe+z*Le,Le=Se,I[j+Q]=ae+Le,E[j+Q]=le+fe,I[j+Q+N]=ae-Le,E[j+Q+N]=le-fe,Q!==S&&(Se=m*H-T*z,z=m*z+T*H,H=Se)}},w.prototype.guessLen13b=function(p,b){var I=Math.max(b,p)|1,E=I&1,C=0;for(I=I/2|0;I;I=I>>>1)C++;return 1<<C+1+E},w.prototype.conjugate=function(p,b,I){if(!(I<=1))for(var E=0;E<I/2;E++){var C=p[E];p[E]=p[I-E-1],p[I-E-1]=C,C=b[E],b[E]=-b[I-E-1],b[I-E-1]=-C}},w.prototype.normalize13b=function(p,b){for(var I=0,E=0;E<b/2;E++){var C=Math.round(p[2*E+1]/b)*8192+Math.round(p[2*E]/b)+I;p[E]=C&67108863,C<67108864?I=0:I=C/67108864|0}return p},w.prototype.convert13b=function(p,b,I,E){for(var C=0,k=0;k<b;k++)C=C+(p[k]|0),I[2*k]=C&8191,C=C>>>13,I[2*k+1]=C&8191,C=C>>>13;for(k=2*b;k<E;++k)I[k]=0;n(C===0),n((C&-8192)===0)},w.prototype.stub=function(p){for(var b=new Array(p),I=0;I<p;I++)b[I]=0;return b},w.prototype.mulp=function(p,b,I){var E=2*this.guessLen13b(p.length,b.length),C=this.makeRBT(E),k=this.stub(E),N=new Array(E),S=new Array(E),m=new Array(E),T=new Array(E),j=new Array(E),H=new Array(E),z=I.words;z.length=E,this.convert13b(p.words,p.length,N,E),this.convert13b(b.words,b.length,T,E),this.transform(N,k,S,m,E,C),this.transform(T,k,j,H,E,C);for(var Q=0;Q<E;Q++){var ae=S[Q]*j[Q]-m[Q]*H[Q];m[Q]=S[Q]*H[Q]+m[Q]*j[Q],S[Q]=ae}return this.conjugate(S,m,E),this.transform(S,m,z,k,E,C),this.conjugate(z,k,E),this.normalize13b(z,E),I.negative=p.negative^b.negative,I.length=p.length+b.length,I.strip()},s.prototype.mul=function(p){var b=new s(null);return b.words=new Array(this.length+p.length),this.mulTo(p,b)},s.prototype.mulf=function(p){var b=new s(null);return b.words=new Array(this.length+p.length),v(this,p,b)},s.prototype.imul=function(p){return this.clone().mulTo(p,this)},s.prototype.imuln=function(p){n(typeof p=="number"),n(p<67108864);for(var b=0,I=0;I<this.length;I++){var E=(this.words[I]|0)*p,C=(E&67108863)+(b&67108863);b>>=26,b+=E/67108864|0,b+=C>>>26,this.words[I]=C&67108863}return b!==0&&(this.words[I]=b,this.length++),this},s.prototype.muln=function(p){return this.clone().imuln(p)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(p){var b=h(p);if(b.length===0)return new s(1);for(var I=this,E=0;E<b.length&&b[E]===0;E++,I=I.sqr());if(++E<b.length)for(var C=I.sqr();E<b.length;E++,C=C.sqr())b[E]!==0&&(I=I.mul(C));return I},s.prototype.iushln=function(p){n(typeof p=="number"&&p>=0);var b=p%26,I=(p-b)/26,E=67108863>>>26-b<<26-b,C;if(b!==0){var k=0;for(C=0;C<this.length;C++){var N=this.words[C]&E,S=(this.words[C]|0)-N<<b;this.words[C]=S|k,k=N>>>26-b}k&&(this.words[C]=k,this.length++)}if(I!==0){for(C=this.length-1;C>=0;C--)this.words[C+I]=this.words[C];for(C=0;C<I;C++)this.words[C]=0;this.length+=I}return this.strip()},s.prototype.ishln=function(p){return n(this.negative===0),this.iushln(p)},s.prototype.iushrn=function(p,b,I){n(typeof p=="number"&&p>=0);var E;b?E=(b-b%26)/26:E=0;var C=p%26,k=Math.min((p-C)/26,this.length),N=67108863^67108863>>>C<<C,S=I;if(E-=k,E=Math.max(0,E),S){for(var m=0;m<k;m++)S.words[m]=this.words[m];S.length=k}if(k!==0)if(this.length>k)for(this.length-=k,m=0;m<this.length;m++)this.words[m]=this.words[m+k];else this.words[0]=0,this.length=1;var T=0;for(m=this.length-1;m>=0&&(T!==0||m>=E);m--){var j=this.words[m]|0;this.words[m]=T<<26-C|j>>>C,T=j&N}return S&&T!==0&&(S.words[S.length++]=T),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(p,b,I){return n(this.negative===0),this.iushrn(p,b,I)},s.prototype.shln=function(p){return this.clone().ishln(p)},s.prototype.ushln=function(p){return this.clone().iushln(p)},s.prototype.shrn=function(p){return this.clone().ishrn(p)},s.prototype.ushrn=function(p){return this.clone().iushrn(p)},s.prototype.testn=function(p){n(typeof p=="number"&&p>=0);var b=p%26,I=(p-b)/26,E=1<<b;if(this.length<=I)return!1;var C=this.words[I];return!!(C&E)},s.prototype.imaskn=function(p){n(typeof p=="number"&&p>=0);var b=p%26,I=(p-b)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=I)return this;if(b!==0&&I++,this.length=Math.min(I,this.length),b!==0){var E=67108863^67108863>>>b<<b;this.words[this.length-1]&=E}return this.strip()},s.prototype.maskn=function(p){return this.clone().imaskn(p)},s.prototype.iaddn=function(p){return n(typeof p=="number"),n(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},s.prototype._iaddn=function(p){this.words[0]+=p;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},s.prototype.isubn=function(p){if(n(typeof p=="number"),n(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},s.prototype.addn=function(p){return this.clone().iaddn(p)},s.prototype.subn=function(p){return this.clone().isubn(p)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(p,b,I){var E=p.length+I,C;this._expand(E);var k,N=0;for(C=0;C<p.length;C++){k=(this.words[C+I]|0)+N;var S=(p.words[C]|0)*b;k-=S&67108863,N=(k>>26)-(S/67108864|0),this.words[C+I]=k&67108863}for(;C<this.length-I;C++)k=(this.words[C+I]|0)+N,N=k>>26,this.words[C+I]=k&67108863;if(N===0)return this.strip();for(n(N===-1),N=0,C=0;C<this.length;C++)k=-(this.words[C]|0)+N,N=k>>26,this.words[C]=k&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(p,b){var I=this.length-p.length,E=this.clone(),C=p,k=C.words[C.length-1]|0,N=this._countBits(k);I=26-N,I!==0&&(C=C.ushln(I),E.iushln(I),k=C.words[C.length-1]|0);var S=E.length-C.length,m;if(b!=="mod"){m=new s(null),m.length=S+1,m.words=new Array(m.length);for(var T=0;T<m.length;T++)m.words[T]=0}var j=E.clone()._ishlnsubmul(C,1,S);j.negative===0&&(E=j,m&&(m.words[S]=1));for(var H=S-1;H>=0;H--){var z=(E.words[C.length+H]|0)*67108864+(E.words[C.length+H-1]|0);for(z=Math.min(z/k|0,67108863),E._ishlnsubmul(C,z,H);E.negative!==0;)z--,E.negative=0,E._ishlnsubmul(C,1,H),E.isZero()||(E.negative^=1);m&&(m.words[H]=z)}return m&&m.strip(),E.strip(),b!=="div"&&I!==0&&E.iushrn(I),{div:m||null,mod:E}},s.prototype.divmod=function(p,b,I){if(n(!p.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var E,C,k;return this.negative!==0&&p.negative===0?(k=this.neg().divmod(p,b),b!=="mod"&&(E=k.div.neg()),b!=="div"&&(C=k.mod.neg(),I&&C.negative!==0&&C.iadd(p)),{div:E,mod:C}):this.negative===0&&p.negative!==0?(k=this.divmod(p.neg(),b),b!=="mod"&&(E=k.div.neg()),{div:E,mod:k.mod}):this.negative&p.negative?(k=this.neg().divmod(p.neg(),b),b!=="div"&&(C=k.mod.neg(),I&&C.negative!==0&&C.isub(p)),{div:k.div,mod:C}):p.length>this.length||this.cmp(p)<0?{div:new s(0),mod:this}:p.length===1?b==="div"?{div:this.divn(p.words[0]),mod:null}:b==="mod"?{div:null,mod:new s(this.modn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new s(this.modn(p.words[0]))}:this._wordDiv(p,b)},s.prototype.div=function(p){return this.divmod(p,"div",!1).div},s.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},s.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},s.prototype.divRound=function(p){var b=this.divmod(p);if(b.mod.isZero())return b.div;var I=b.div.negative!==0?b.mod.isub(p):b.mod,E=p.ushrn(1),C=p.andln(1),k=I.cmp(E);return k<0||C===1&&k===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},s.prototype.modn=function(p){n(p<=67108863);for(var b=(1<<26)%p,I=0,E=this.length-1;E>=0;E--)I=(b*I+(this.words[E]|0))%p;return I},s.prototype.idivn=function(p){n(p<=67108863);for(var b=0,I=this.length-1;I>=0;I--){var E=(this.words[I]|0)+b*67108864;this.words[I]=E/p|0,b=E%p}return this.strip()},s.prototype.divn=function(p){return this.clone().idivn(p)},s.prototype.egcd=function(p){n(p.negative===0),n(!p.isZero());var b=this,I=p.clone();b.negative!==0?b=b.umod(p):b=b.clone();for(var E=new s(1),C=new s(0),k=new s(0),N=new s(1),S=0;b.isEven()&&I.isEven();)b.iushrn(1),I.iushrn(1),++S;for(var m=I.clone(),T=b.clone();!b.isZero();){for(var j=0,H=1;!(b.words[0]&H)&&j<26;++j,H<<=1);if(j>0)for(b.iushrn(j);j-- >0;)(E.isOdd()||C.isOdd())&&(E.iadd(m),C.isub(T)),E.iushrn(1),C.iushrn(1);for(var z=0,Q=1;!(I.words[0]&Q)&&z<26;++z,Q<<=1);if(z>0)for(I.iushrn(z);z-- >0;)(k.isOdd()||N.isOdd())&&(k.iadd(m),N.isub(T)),k.iushrn(1),N.iushrn(1);b.cmp(I)>=0?(b.isub(I),E.isub(k),C.isub(N)):(I.isub(b),k.isub(E),N.isub(C))}return{a:k,b:N,gcd:I.iushln(S)}},s.prototype._invmp=function(p){n(p.negative===0),n(!p.isZero());var b=this,I=p.clone();b.negative!==0?b=b.umod(p):b=b.clone();for(var E=new s(1),C=new s(0),k=I.clone();b.cmpn(1)>0&&I.cmpn(1)>0;){for(var N=0,S=1;!(b.words[0]&S)&&N<26;++N,S<<=1);if(N>0)for(b.iushrn(N);N-- >0;)E.isOdd()&&E.iadd(k),E.iushrn(1);for(var m=0,T=1;!(I.words[0]&T)&&m<26;++m,T<<=1);if(m>0)for(I.iushrn(m);m-- >0;)C.isOdd()&&C.iadd(k),C.iushrn(1);b.cmp(I)>=0?(b.isub(I),E.isub(C)):(I.isub(b),C.isub(E))}var j;return b.cmpn(1)===0?j=E:j=C,j.cmpn(0)<0&&j.iadd(p),j},s.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var b=this.clone(),I=p.clone();b.negative=0,I.negative=0;for(var E=0;b.isEven()&&I.isEven();E++)b.iushrn(1),I.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;I.isEven();)I.iushrn(1);var C=b.cmp(I);if(C<0){var k=b;b=I,I=k}else if(C===0||I.cmpn(1)===0)break;b.isub(I)}while(!0);return I.iushln(E)},s.prototype.invm=function(p){return this.egcd(p).a.umod(p)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(p){return this.words[0]&p},s.prototype.bincn=function(p){n(typeof p=="number");var b=p%26,I=(p-b)/26,E=1<<b;if(this.length<=I)return this._expand(I+1),this.words[I]|=E,this;for(var C=E,k=I;C!==0&&k<this.length;k++){var N=this.words[k]|0;N+=C,C=N>>>26,N&=67108863,this.words[k]=N}return C!==0&&(this.words[k]=C,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(p){var b=p<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this.strip();var I;if(this.length>1)I=1;else{b&&(p=-p),n(p<=67108863,"Number is too big");var E=this.words[0]|0;I=E===p?0:E<p?-1:1}return this.negative!==0?-I|0:I},s.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var b=this.ucmp(p);return this.negative!==0?-b|0:b},s.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var b=0,I=this.length-1;I>=0;I--){var E=this.words[I]|0,C=p.words[I]|0;if(E!==C){E<C?b=-1:E>C&&(b=1);break}}return b},s.prototype.gtn=function(p){return this.cmpn(p)===1},s.prototype.gt=function(p){return this.cmp(p)===1},s.prototype.gten=function(p){return this.cmpn(p)>=0},s.prototype.gte=function(p){return this.cmp(p)>=0},s.prototype.ltn=function(p){return this.cmpn(p)===-1},s.prototype.lt=function(p){return this.cmp(p)===-1},s.prototype.lten=function(p){return this.cmpn(p)<=0},s.prototype.lte=function(p){return this.cmp(p)<=0},s.prototype.eqn=function(p){return this.cmpn(p)===0},s.prototype.eq=function(p){return this.cmp(p)===0},s.red=function(p){return new $(p)},s.prototype.toRed=function(p){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(p){return this.red=p,this},s.prototype.forceRed=function(p){return n(!this.red,"Already a number in reduction context"),this._forceRed(p)},s.prototype.redAdd=function(p){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},s.prototype.redIAdd=function(p){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},s.prototype.redSub=function(p){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},s.prototype.redISub=function(p){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},s.prototype.redShl=function(p){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},s.prototype.redMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},s.prototype.redIMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(p){return n(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var A={k256:null,p224:null,p192:null,p25519:null};function P(x,p){this.name=x,this.p=new s(p,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var p=new s(null);return p.words=new Array(Math.ceil(this.n/13)),p},P.prototype.ireduce=function(p){var b=p,I;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),I=b.bitLength();while(I>this.n);var E=I<this.n?-1:b.ucmp(this.p);return E===0?(b.words[0]=0,b.length=1):E>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},P.prototype.split=function(p,b){p.iushrn(this.n,0,b)},P.prototype.imulK=function(p){return p.imul(this.k)};function R(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(R,P),R.prototype.split=function(p,b){for(var I=4194303,E=Math.min(p.length,9),C=0;C<E;C++)b.words[C]=p.words[C];if(b.length=E,p.length<=9){p.words[0]=0,p.length=1;return}var k=p.words[9];for(b.words[b.length++]=k&I,C=10;C<p.length;C++){var N=p.words[C]|0;p.words[C-10]=(N&I)<<4|k>>>22,k=N}k>>>=22,p.words[C-10]=k,k===0&&p.length>10?p.length-=10:p.length-=9},R.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var b=0,I=0;I<p.length;I++){var E=p.words[I]|0;b+=E*977,p.words[I]=b&67108863,b=E*64+(b/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function D(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(D,P);function M(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(M,P);function L(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(L,P),L.prototype.imulK=function(p){for(var b=0,I=0;I<p.length;I++){var E=(p.words[I]|0)*19+b,C=E&67108863;E>>>=26,p.words[I]=C,b=E}return b!==0&&(p.words[p.length++]=b),p},s._prime=function(p){if(A[p])return A[p];var b;if(p==="k256")b=new R;else if(p==="p224")b=new D;else if(p==="p192")b=new M;else if(p==="p25519")b=new L;else throw new Error("Unknown prime "+p);return A[p]=b,b};function $(x){if(typeof x=="string"){var p=s._prime(x);this.m=p.p,this.prime=p}else n(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}$.prototype._verify1=function(p){n(p.negative===0,"red works only with positives"),n(p.red,"red works only with red numbers")},$.prototype._verify2=function(p,b){n((p.negative|b.negative)===0,"red works only with positives"),n(p.red&&p.red===b.red,"red works only with red numbers")},$.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):p.umod(this.m)._forceRed(this)},$.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},$.prototype.add=function(p,b){this._verify2(p,b);var I=p.add(b);return I.cmp(this.m)>=0&&I.isub(this.m),I._forceRed(this)},$.prototype.iadd=function(p,b){this._verify2(p,b);var I=p.iadd(b);return I.cmp(this.m)>=0&&I.isub(this.m),I},$.prototype.sub=function(p,b){this._verify2(p,b);var I=p.sub(b);return I.cmpn(0)<0&&I.iadd(this.m),I._forceRed(this)},$.prototype.isub=function(p,b){this._verify2(p,b);var I=p.isub(b);return I.cmpn(0)<0&&I.iadd(this.m),I},$.prototype.shl=function(p,b){return this._verify1(p),this.imod(p.ushln(b))},$.prototype.imul=function(p,b){return this._verify2(p,b),this.imod(p.imul(b))},$.prototype.mul=function(p,b){return this._verify2(p,b),this.imod(p.mul(b))},$.prototype.isqr=function(p){return this.imul(p,p.clone())},$.prototype.sqr=function(p){return this.mul(p,p)},$.prototype.sqrt=function(p){if(p.isZero())return p.clone();var b=this.m.andln(3);if(n(b%2===1),b===3){var I=this.m.add(new s(1)).iushrn(2);return this.pow(p,I)}for(var E=this.m.subn(1),C=0;!E.isZero()&&E.andln(1)===0;)C++,E.iushrn(1);n(!E.isZero());var k=new s(1).toRed(this),N=k.redNeg(),S=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new s(2*m*m).toRed(this);this.pow(m,S).cmp(N)!==0;)m.redIAdd(N);for(var T=this.pow(m,E),j=this.pow(p,E.addn(1).iushrn(1)),H=this.pow(p,E),z=C;H.cmp(k)!==0;){for(var Q=H,ae=0;Q.cmp(k)!==0;ae++)Q=Q.redSqr();n(ae<z);var le=this.pow(T,new s(1).iushln(z-ae-1));j=j.redMul(le),T=le.redSqr(),H=H.redMul(T),z=ae}return j},$.prototype.invm=function(p){var b=p._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},$.prototype.pow=function(p,b){if(b.isZero())return new s(1).toRed(this);if(b.cmpn(1)===0)return p.clone();var I=4,E=new Array(1<<I);E[0]=new s(1).toRed(this),E[1]=p;for(var C=2;C<E.length;C++)E[C]=this.mul(E[C-1],p);var k=E[0],N=0,S=0,m=b.bitLength()%26;for(m===0&&(m=26),C=b.length-1;C>=0;C--){for(var T=b.words[C],j=m-1;j>=0;j--){var H=T>>j&1;if(k!==E[0]&&(k=this.sqr(k)),H===0&&N===0){S=0;continue}N<<=1,N|=H,S++,!(S!==I&&(C!==0||j!==0))&&(k=this.mul(k,E[N]),S=0,N=0)}m=26}return k},$.prototype.convertTo=function(p){var b=p.umod(this.m);return b===p?b.clone():b},$.prototype.convertFrom=function(p){var b=p.clone();return b.red=null,b},s.mont=function(p){return new F(p)};function F(x){$.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(F,$),F.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},F.prototype.convertFrom=function(p){var b=this.imod(p.mul(this.rinv));return b.red=null,b},F.prototype.imul=function(p,b){if(p.isZero()||b.isZero())return p.words[0]=0,p.length=1,p;var I=p.imul(b),E=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=I.isub(E).iushrn(this.shift),k=C;return C.cmp(this.m)>=0?k=C.isub(this.m):C.cmpn(0)<0&&(k=C.iadd(this.m)),k._forceRed(this)},F.prototype.mul=function(p,b){if(p.isZero()||b.isZero())return new s(0)._forceRed(this);var I=p.mul(b),E=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=I.isub(E).iushrn(this.shift),k=C;return C.cmp(this.m)>=0?k=C.isub(this.m):C.cmpn(0)<0&&(k=C.iadd(this.m)),k._forceRed(this)},F.prototype.invm=function(p){var b=this.imod(p._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(t,mi)})(cb);var Vs=cb.exports,ec=b4;function b4(t,e){if(!t)throw new Error(e||"Assertion failed")}b4.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var ub={};(function(t){var e=t;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var a=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)a[c]=s[c]|0;return a}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var c=0;c<s.length;c+=2)a.push(parseInt(s[c]+s[c+1],16))}else for(var c=0;c<s.length;c++){var u=s.charCodeAt(c),l=u>>8,d=u&255;l?a.push(l,d):a.push(d)}return a}e.toArray=r;function n(s){return s.length===1?"0"+s:s}e.zero2=n;function i(s){for(var o="",a=0;a<s.length;a++)o+=n(s[a].toString(16));return o}e.toHex=i,e.encode=function(o,a){return a==="hex"?i(o):o}})(ub);(function(t){var e=t,r=Vs,n=ec,i=ub;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function s(l,d,f){var h=new Array(Math.max(l.bitLength(),f)+1),g;for(g=0;g<h.length;g+=1)h[g]=0;var y=1<<d+1,_=l.clone();for(g=0;g<h.length;g++){var v,w=_.andln(y-1);_.isOdd()?(w>(y>>1)-1?v=(y>>1)-w:v=w,_.isubn(v)):v=0,h[g]=v,_.iushrn(1)}return h}e.getNAF=s;function o(l,d){var f=[[],[]];l=l.clone(),d=d.clone();for(var h=0,g=0,y;l.cmpn(-h)>0||d.cmpn(-g)>0;){var _=l.andln(3)+h&3,v=d.andln(3)+g&3;_===3&&(_=-1),v===3&&(v=-1);var w;_&1?(y=l.andln(7)+h&7,(y===3||y===5)&&v===2?w=-_:w=_):w=0,f[0].push(w);var A;v&1?(y=d.andln(7)+g&7,(y===3||y===5)&&_===2?A=-v:A=v):A=0,f[1].push(A),2*h===w+1&&(h=1-h),2*g===A+1&&(g=1-g),l.iushrn(1),d.iushrn(1)}return f}e.getJSF=o;function a(l,d,f){var h="_"+d;l.prototype[d]=function(){return this[h]!==void 0?this[h]:this[h]=f.call(this)}}e.cachedProperty=a;function c(l){return typeof l=="string"?e.toArray(l,"hex"):l}e.parseBytes=c;function u(l){return new r(l,"hex","le")}e.intFromLE=u})(Ln);var lb={exports:{}},Vm;lb.exports=function(e){return Vm||(Vm=new go(null)),Vm.generate(e)};function go(t){this.rand=t}lb.exports.Rand=go;go.prototype.generate=function(e){return this._rand(e)};go.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?go.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?go.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(go.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var RA=v4;if(typeof RA.randomBytes!="function")throw new Error("Not supported");go.prototype._rand=function(e){return RA.randomBytes(e)}}catch{}var E4=lb.exports,db={},Yo=Vs,Of=Ln,Vp=Of.getNAF,mU=Of.getJSF,Kp=Of.assert;function Vo(t,e){this.type=t,this.p=new Yo(e.p,16),this.red=e.prime?Yo.red(e.prime):Yo.mont(this.p),this.zero=new Yo(0).toRed(this.red),this.one=new Yo(1).toRed(this.red),this.two=new Yo(2).toRed(this.red),this.n=e.n&&new Yo(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Z0=Vo;Vo.prototype.point=function(){throw new Error("Not implemented")};Vo.prototype.validate=function(){throw new Error("Not implemented")};Vo.prototype._fixedNafMul=function(e,r){Kp(e.precomputed);var n=e._getDoubles(),i=Vp(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var u=a+n.step-1;u>=a;u--)c=(c<<1)+i[u];o.push(c)}for(var l=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=s;f>0;f--){for(a=0;a<o.length;a++)c=o[a],c===f?d=d.mixedAdd(n.points[a]):c===-f&&(d=d.mixedAdd(n.points[a].neg()));l=l.add(d)}return l.toP()};Vo.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=Vp(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var u=0;c>=0&&o[c]===0;c--)u++;if(c>=0&&u++,a=a.dblp(u),c<0)break;var l=o[c];Kp(l!==0),e.type==="affine"?l>0?a=a.mixedAdd(s[l-1>>1]):a=a.mixedAdd(s[-l-1>>1].neg()):l>0?a=a.add(s[l-1>>1]):a=a.add(s[-l-1>>1].neg())}return e.type==="affine"?a.toP():a};Vo.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,u=0,l,d,f;for(l=0;l<i;l++){f=r[l];var h=f._getNAFPoints(e);o[l]=h.wnd,a[l]=h.points}for(l=i-1;l>=1;l-=2){var g=l-1,y=l;if(o[g]!==1||o[y]!==1){c[g]=Vp(n[g],o[g],this._bitLength),c[y]=Vp(n[y],o[y],this._bitLength),u=Math.max(c[g].length,u),u=Math.max(c[y].length,u);continue}var _=[r[g],null,null,r[y]];r[g].y.cmp(r[y].y)===0?(_[1]=r[g].add(r[y]),_[2]=r[g].toJ().mixedAdd(r[y].neg())):r[g].y.cmp(r[y].y.redNeg())===0?(_[1]=r[g].toJ().mixedAdd(r[y]),_[2]=r[g].add(r[y].neg())):(_[1]=r[g].toJ().mixedAdd(r[y]),_[2]=r[g].toJ().mixedAdd(r[y].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],w=mU(n[g],n[y]);for(u=Math.max(w[0].length,u),c[g]=new Array(u),c[y]=new Array(u),d=0;d<u;d++){var A=w[0][d]|0,P=w[1][d]|0;c[g][d]=v[(A+1)*3+(P+1)],c[y][d]=0,a[g]=_}}var R=this.jpoint(null,null,null),D=this._wnafT4;for(l=u;l>=0;l--){for(var M=0;l>=0;){var L=!0;for(d=0;d<i;d++)D[d]=c[d][l]|0,D[d]!==0&&(L=!1);if(!L)break;M++,l--}if(l>=0&&M++,R=R.dblp(M),l<0)break;for(d=0;d<i;d++){var $=D[d];$!==0&&($>0?f=a[d][$-1>>1]:$<0&&(f=a[d][-$-1>>1].neg()),f.type==="affine"?R=R.mixedAdd(f):R=R.add(f))}}for(l=0;l<i;l++)a[l]=null;return s?R:R.toP()};function ni(t,e){this.curve=t,this.type=e,this.precomputed=null}Vo.BasePoint=ni;ni.prototype.eq=function(){throw new Error("Not implemented")};ni.prototype.validate=function(){return this.curve.validate(this)};Vo.prototype.decodePoint=function(e,r){e=Of.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Kp(e[e.length-1]%2===0):e[0]===7&&Kp(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};ni.prototype.encodeCompressed=function(e){return this.encode(e,!0)};ni.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};ni.prototype.encode=function(e,r){return Of.encode(this._encode(r),e)};ni.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};ni.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};ni.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};ni.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};ni.prototype._getBeta=function(){return null};ni.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var Qw={exports:{}};typeof Object.create=="function"?Qw.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Qw.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var X0=Qw.exports,yU=Ln,Rt=Vs,fb=X0,qu=Z0,wU=yU.assert;function ii(t){qu.call(this,"short",t),this.a=new Rt(t.a,16).toRed(this.red),this.b=new Rt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}fb(ii,qu);var vU=ii;ii.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Rt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Rt(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],wU(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Rt(a.a,16),b:new Rt(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};ii.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Rt.mont(e),n=new Rt(2).toRed(r).redInvm(),i=n.redNeg(),s=new Rt(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};ii.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Rt(1),o=new Rt(0),a=new Rt(0),c=new Rt(1),u,l,d,f,h,g,y,_=0,v,w;n.cmpn(0)!==0;){var A=i.div(n);v=i.sub(A.mul(n)),w=a.sub(A.mul(s));var P=c.sub(A.mul(o));if(!d&&v.cmp(r)<0)u=y.neg(),l=s,d=v.neg(),f=w;else if(d&&++_===2)break;y=v,i=n,n=v,a=s,s=w,c=o,o=P}h=v.neg(),g=w;var R=d.sqr().add(f.sqr()),D=h.sqr().add(g.sqr());return D.cmp(R)>=0&&(h=u,g=l),d.negative&&(d=d.neg(),f=f.neg()),h.negative&&(h=h.neg(),g=g.neg()),[{a:d,b:f},{a:h,b:g}]};ii.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),u=s.mul(n.b),l=o.mul(i.b),d=e.sub(a).sub(c),f=u.add(l).neg();return{k1:d,k2:f}};ii.prototype.pointFromX=function(e,r){e=new Rt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};ii.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};ii.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],u=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),i[o*2]=c,i[o*2+1]=u,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var l=this._wnafMulAdd(1,i,s,o*2,n),d=0;d<o*2;d++)i[d]=null,s[d]=null;return l};function _r(t,e,r,n){qu.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Rt(e,16),this.y=new Rt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}fb(_r,qu.BasePoint);ii.prototype.point=function(e,r,n){return new _r(this,e,r,n)};ii.prototype.pointFromJSON=function(e,r){return _r.fromJSON(this,e,r)};_r.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};_r.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};_r.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};_r.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};_r.prototype.isInfinity=function(){return this.inf};_r.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};_r.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};_r.prototype.getX=function(){return this.x.fromRed()};_r.prototype.getY=function(){return this.y.fromRed()};_r.prototype.mul=function(e){return e=new Rt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};_r.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};_r.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};_r.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};_r.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};_r.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function $r(t,e,r,n){qu.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Rt(0)):(this.x=new Rt(e,16),this.y=new Rt(r,16),this.z=new Rt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}fb($r,qu.BasePoint);ii.prototype.jpoint=function(e,r,n){return new $r(this,e,r,n)};$r.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};$r.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};$r.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),u=o.redSub(a);if(c.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),d=l.redMul(c),f=i.redMul(l),h=u.redSqr().redIAdd(d).redISub(f).redISub(f),g=u.redMul(f.redISub(h)).redISub(o.redMul(d)),y=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,g,y)};$r.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),d=n.redMul(u),f=c.redSqr().redIAdd(l).redISub(d).redISub(d),h=c.redMul(d.redISub(f)).redISub(s.redMul(l)),g=this.z.redMul(a);return this.curve.jpoint(f,h,g)};$r.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,u=c.redSqr().redSqr(),l=a.redAdd(a);for(r=0;r<e;r++){var d=o.redSqr(),f=l.redSqr(),h=f.redSqr(),g=d.redAdd(d).redIAdd(d).redIAdd(i.redMul(u)),y=o.redMul(f),_=g.redSqr().redISub(y.redAdd(y)),v=y.redISub(_),w=g.redMul(v);w=w.redIAdd(w).redISub(h);var A=l.redMul(c);r+1<e&&(u=u.redMul(h)),o=_,c=A,l=w}return this.curve.jpoint(o,l.redMul(s),c)};$r.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};$r.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),u=c.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),e=u,r=c.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),g=this.x.redAdd(f).redSqr().redISub(d).redISub(h);g=g.redIAdd(g);var y=d.redAdd(d).redIAdd(d),_=y.redSqr(),v=h.redIAdd(h);v=v.redIAdd(v),v=v.redIAdd(v),e=_.redISub(g).redISub(g),r=y.redMul(g.redISub(e)).redISub(v),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};$r.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=c.redSqr().redISub(a).redISub(a);e=u;var l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),r=c.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),g=this.x.redSub(d).redMul(this.x.redAdd(d));g=g.redAdd(g).redIAdd(g);var y=h.redIAdd(h);y=y.redIAdd(y);var _=y.redAdd(y);e=g.redSqr().redISub(_),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(d);var v=f.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v),r=g.redMul(y.redISub(e)).redISub(v)}return this.curve.jpoint(e,r,n)};$r.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),u=r.redAdd(r);u=u.redIAdd(u);var l=u.redMul(a),d=c.redSqr().redISub(l.redAdd(l)),f=l.redISub(d),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var g=c.redMul(f).redISub(h),y=n.redAdd(n).redMul(i);return this.curve.jpoint(d,g,y)};$r.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var l=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(u),d=r.redMul(l);d=d.redIAdd(d),d=d.redIAdd(d);var f=this.x.redMul(c).redISub(d);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var g=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(f,h,g)};$r.prototype.mul=function(e,r){return e=new Rt(e,r),this.curve._wnafMul(this,e)};$r.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};$r.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};$r.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};$r.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var qc=Vs,A4=X0,eg=Z0,bU=Ln;function Wu(t){eg.call(this,"mont",t),this.a=new qc(t.a,16).toRed(this.red),this.b=new qc(t.b,16).toRed(this.red),this.i4=new qc(4).toRed(this.red).redInvm(),this.two=new qc(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}A4(Wu,eg);var EU=Wu;Wu.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function Cr(t,e,r){eg.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new qc(e,16),this.z=new qc(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}A4(Cr,eg.BasePoint);Wu.prototype.decodePoint=function(e,r){return this.point(bU.toArray(e,r),1)};Wu.prototype.point=function(e,r){return new Cr(this,e,r)};Wu.prototype.pointFromJSON=function(e){return Cr.fromJSON(this,e)};Cr.prototype.precompute=function(){};Cr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Cr.fromJSON=function(e,r){return new Cr(e,r[0],r[1]||e.one)};Cr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Cr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Cr.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),a=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};Cr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Cr.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(n),c=s.redMul(i),u=r.z.redMul(a.redAdd(c).redSqr()),l=r.x.redMul(a.redISub(c).redSqr());return this.curve.point(u,l)};Cr.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};Cr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Cr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Cr.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Cr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Cr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var AU=Ln,Ns=Vs,C4=X0,tg=Z0,CU=AU.assert;function as(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,tg.call(this,"edwards",t),this.a=new Ns(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Ns(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Ns(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),CU(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}C4(as,tg);var _U=as;as.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};as.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};as.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};as.prototype.pointFromX=function(e,r){e=new Ns(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var c=a.fromRed().isOdd();return(r&&!c||!r&&c)&&(a=a.redNeg()),this.point(e,a)};as.prototype.pointFromY=function(e,r){e=new Ns(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)};as.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function ot(t,e,r,n,i){tg.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Ns(e,16),this.y=new Ns(r,16),this.z=n?new Ns(n,16):this.curve.one,this.t=i&&new Ns(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}C4(ot,tg.BasePoint);as.prototype.pointFromJSON=function(e){return ot.fromJSON(this,e)};as.prototype.point=function(e,r,n,i){return new ot(this,e,r,n,i)};ot.fromJSON=function(e,r){return new ot(e,r[0],r[1],r[2])};ot.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ot.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};ot.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=i.redAdd(r),a=o.redSub(n),c=i.redSub(r),u=s.redMul(a),l=o.redMul(c),d=s.redMul(c),f=a.redMul(o);return this.curve.point(u,l,f,d)};ot.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,a,c,u;if(this.curve.twisted){a=this.curve._mulA(r);var l=a.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(l.redSub(this.curve.two)),s=l.redMul(a.redSub(n)),o=l.redSqr().redSub(l).redSub(l)):(c=this.z.redSqr(),u=l.redSub(c).redISub(c),i=e.redSub(r).redISub(n).redMul(u),s=l.redMul(a.redSub(n)),o=l.redMul(u))}else a=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),u=a.redSub(c).redSub(c),i=this.curve._mulC(e.redISub(a)).redMul(u),s=this.curve._mulC(a).redMul(r.redISub(n)),o=a.redMul(u);return this.curve.point(i,s,o)};ot.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};ot.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),a=s.redSub(i),c=s.redAdd(i),u=n.redAdd(r),l=o.redMul(a),d=c.redMul(u),f=o.redMul(u),h=a.redMul(c);return this.curve.point(l,d,h,f)};ot.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),a=n.redSub(o),c=n.redAdd(o),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),l=r.redMul(a).redMul(u),d,f;return this.curve.twisted?(d=r.redMul(c).redMul(s.redSub(this.curve._mulA(i))),f=a.redMul(c)):(d=r.redMul(c).redMul(s.redSub(i)),f=this.curve._mulC(a).redMul(c)),this.curve.point(l,d,f)};ot.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};ot.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};ot.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};ot.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};ot.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};ot.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};ot.prototype.getX=function(){return this.normalize(),this.x.fromRed()};ot.prototype.getY=function(){return this.normalize(),this.y.fromRed()};ot.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};ot.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};ot.prototype.toP=ot.prototype.normalize;ot.prototype.mixedAdd=ot.prototype.add;(function(t){var e=t;e.base=Z0,e.short=vU,e.mont=EU,e.edwards=_U})(db);var rg={},ng={},Ne={},SU=ec,IU=X0;Ne.inherits=IU;function xU(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function NU(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):xU(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Ne.toArray=NU;function TU(t){for(var e="",r=0;r<t.length;r++)e+=S4(t[r].toString(16));return e}Ne.toHex=TU;function _4(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Ne.htonl=_4;function PU(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=_4(i)),r+=I4(i.toString(16))}return r}Ne.toHex32=PU;function S4(t){return t.length===1?"0"+t:t}Ne.zero2=S4;function I4(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Ne.zero8=I4;function kU(t,e,r,n){var i=r-e;SU(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var c;n==="big"?c=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:c=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=c>>>0}return s}Ne.join32=kU;function RU(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}Ne.split32=RU;function OU(t,e){return t>>>e|t<<32-e}Ne.rotr32=OU;function DU(t,e){return t<<e|t>>>32-e}Ne.rotl32=DU;function MU(t,e){return t+e>>>0}Ne.sum32=MU;function $U(t,e,r){return t+e+r>>>0}Ne.sum32_3=$U;function UU(t,e,r,n){return t+e+r+n>>>0}Ne.sum32_4=UU;function LU(t,e,r,n,i){return t+e+r+n+i>>>0}Ne.sum32_5=LU;function FU(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}Ne.sum64=FU;function BU(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}Ne.sum64_hi=BU;function jU(t,e,r,n){var i=e+n;return i>>>0}Ne.sum64_lo=jU;function zU(t,e,r,n,i,s,o,a){var c=0,u=e;u=u+n>>>0,c+=u<e?1:0,u=u+s>>>0,c+=u<s?1:0,u=u+a>>>0,c+=u<a?1:0;var l=t+r+i+o+c;return l>>>0}Ne.sum64_4_hi=zU;function HU(t,e,r,n,i,s,o,a){var c=e+n+s+a;return c>>>0}Ne.sum64_4_lo=HU;function qU(t,e,r,n,i,s,o,a,c,u){var l=0,d=e;d=d+n>>>0,l+=d<e?1:0,d=d+s>>>0,l+=d<s?1:0,d=d+a>>>0,l+=d<a?1:0,d=d+u>>>0,l+=d<u?1:0;var f=t+r+i+o+c+l;return f>>>0}Ne.sum64_5_hi=qU;function WU(t,e,r,n,i,s,o,a,c,u){var l=e+n+s+a+u;return l>>>0}Ne.sum64_5_lo=WU;function VU(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Ne.rotr64_hi=VU;function KU(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ne.rotr64_lo=KU;function GU(t,e,r){return t>>>r}Ne.shr64_hi=GU;function QU(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ne.shr64_lo=QU;var Vu={},OA=Ne,YU=ec;function ig(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Vu.BlockHash=ig;ig.prototype.update=function(e,r){if(e=OA.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=OA.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};ig.prototype.digest=function(e){return this.update(this._pad()),YU(this.pending===null),this._digest(e)};ig.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var Ku={},cs={},JU=Ne,Qi=JU.rotr32;function ZU(t,e,r,n){if(t===0)return x4(e,r,n);if(t===1||t===3)return T4(e,r,n);if(t===2)return N4(e,r,n)}cs.ft_1=ZU;function x4(t,e,r){return t&e^~t&r}cs.ch32=x4;function N4(t,e,r){return t&e^t&r^e&r}cs.maj32=N4;function T4(t,e,r){return t^e^r}cs.p32=T4;function XU(t){return Qi(t,2)^Qi(t,13)^Qi(t,22)}cs.s0_256=XU;function eL(t){return Qi(t,6)^Qi(t,11)^Qi(t,25)}cs.s1_256=eL;function tL(t){return Qi(t,7)^Qi(t,18)^t>>>3}cs.g0_256=tL;function rL(t){return Qi(t,17)^Qi(t,19)^t>>>10}cs.g1_256=rL;var mu=Ne,nL=Vu,iL=cs,Km=mu.rotl32,El=mu.sum32,sL=mu.sum32_5,oL=iL.ft_1,P4=nL.BlockHash,aL=[1518500249,1859775393,2400959708,3395469782];function Zi(){if(!(this instanceof Zi))return new Zi;P4.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}mu.inherits(Zi,P4);var cL=Zi;Zi.blockSize=512;Zi.outSize=160;Zi.hmacStrength=80;Zi.padLength=64;Zi.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Km(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],u=this.h[4];for(i=0;i<n.length;i++){var l=~~(i/20),d=sL(Km(s,5),oL(l,o,a,c),u,n[i],aL[l]);u=c,c=a,a=Km(o,30),o=s,s=d}this.h[0]=El(this.h[0],s),this.h[1]=El(this.h[1],o),this.h[2]=El(this.h[2],a),this.h[3]=El(this.h[3],c),this.h[4]=El(this.h[4],u)};Zi.prototype._digest=function(e){return e==="hex"?mu.toHex32(this.h,"big"):mu.split32(this.h,"big")};var yu=Ne,uL=Vu,Gu=cs,lL=ec,ui=yu.sum32,dL=yu.sum32_4,fL=yu.sum32_5,hL=Gu.ch32,pL=Gu.maj32,gL=Gu.s0_256,mL=Gu.s1_256,yL=Gu.g0_256,wL=Gu.g1_256,k4=uL.BlockHash,vL=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Xi(){if(!(this instanceof Xi))return new Xi;k4.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=vL,this.W=new Array(64)}yu.inherits(Xi,k4);var R4=Xi;Xi.blockSize=512;Xi.outSize=256;Xi.hmacStrength=192;Xi.padLength=64;Xi.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=dL(wL(n[i-2]),n[i-7],yL(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],u=this.h[4],l=this.h[5],d=this.h[6],f=this.h[7];for(lL(this.k.length===n.length),i=0;i<n.length;i++){var h=fL(f,mL(u),hL(u,l,d),this.k[i],n[i]),g=ui(gL(s),pL(s,o,a));f=d,d=l,l=u,u=ui(c,h),c=a,a=o,o=s,s=ui(h,g)}this.h[0]=ui(this.h[0],s),this.h[1]=ui(this.h[1],o),this.h[2]=ui(this.h[2],a),this.h[3]=ui(this.h[3],c),this.h[4]=ui(this.h[4],u),this.h[5]=ui(this.h[5],l),this.h[6]=ui(this.h[6],d),this.h[7]=ui(this.h[7],f)};Xi.prototype._digest=function(e){return e==="hex"?yu.toHex32(this.h,"big"):yu.split32(this.h,"big")};var Yw=Ne,O4=R4;function Fs(){if(!(this instanceof Fs))return new Fs;O4.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Yw.inherits(Fs,O4);var bL=Fs;Fs.blockSize=512;Fs.outSize=224;Fs.hmacStrength=192;Fs.padLength=64;Fs.prototype._digest=function(e){return e==="hex"?Yw.toHex32(this.h.slice(0,7),"big"):Yw.split32(this.h.slice(0,7),"big")};var bn=Ne,EL=Vu,AL=ec,Yi=bn.rotr64_hi,Ji=bn.rotr64_lo,D4=bn.shr64_hi,M4=bn.shr64_lo,eo=bn.sum64,Gm=bn.sum64_hi,Qm=bn.sum64_lo,CL=bn.sum64_4_hi,_L=bn.sum64_4_lo,SL=bn.sum64_5_hi,IL=bn.sum64_5_lo,$4=EL.BlockHash,xL=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function xi(){if(!(this instanceof xi))return new xi;$4.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=xL,this.W=new Array(160)}bn.inherits(xi,$4);var U4=xi;xi.blockSize=1024;xi.outSize=512;xi.hmacStrength=192;xi.padLength=128;xi.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=LL(n[i-4],n[i-3]),o=FL(n[i-4],n[i-3]),a=n[i-14],c=n[i-13],u=$L(n[i-30],n[i-29]),l=UL(n[i-30],n[i-29]),d=n[i-32],f=n[i-31];n[i]=CL(s,o,a,c,u,l,d,f),n[i+1]=_L(s,o,a,c,u,l,d,f)}};xi.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],d=this.h[7],f=this.h[8],h=this.h[9],g=this.h[10],y=this.h[11],_=this.h[12],v=this.h[13],w=this.h[14],A=this.h[15];AL(this.k.length===n.length);for(var P=0;P<n.length;P+=2){var R=w,D=A,M=DL(f,h),L=ML(f,h),$=NL(f,h,g,y,_),F=TL(f,h,g,y,_,v),x=this.k[P],p=this.k[P+1],b=n[P],I=n[P+1],E=SL(R,D,M,L,$,F,x,p,b,I),C=IL(R,D,M,L,$,F,x,p,b,I);R=RL(i,s),D=OL(i,s),M=PL(i,s,o,a,c),L=kL(i,s,o,a,c,u);var k=Gm(R,D,M,L),N=Qm(R,D,M,L);w=_,A=v,_=g,v=y,g=f,y=h,f=Gm(l,d,E,C),h=Qm(d,d,E,C),l=c,d=u,c=o,u=a,o=i,a=s,i=Gm(E,C,k,N),s=Qm(E,C,k,N)}eo(this.h,0,i,s),eo(this.h,2,o,a),eo(this.h,4,c,u),eo(this.h,6,l,d),eo(this.h,8,f,h),eo(this.h,10,g,y),eo(this.h,12,_,v),eo(this.h,14,w,A)};xi.prototype._digest=function(e){return e==="hex"?bn.toHex32(this.h,"big"):bn.split32(this.h,"big")};function NL(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function TL(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function PL(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function kL(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function RL(t,e){var r=Yi(t,e,28),n=Yi(e,t,2),i=Yi(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function OL(t,e){var r=Ji(t,e,28),n=Ji(e,t,2),i=Ji(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function DL(t,e){var r=Yi(t,e,14),n=Yi(t,e,18),i=Yi(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function ML(t,e){var r=Ji(t,e,14),n=Ji(t,e,18),i=Ji(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function $L(t,e){var r=Yi(t,e,1),n=Yi(t,e,8),i=D4(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function UL(t,e){var r=Ji(t,e,1),n=Ji(t,e,8),i=M4(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function LL(t,e){var r=Yi(t,e,19),n=Yi(e,t,29),i=D4(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function FL(t,e){var r=Ji(t,e,19),n=Ji(e,t,29),i=M4(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var Jw=Ne,L4=U4;function Bs(){if(!(this instanceof Bs))return new Bs;L4.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Jw.inherits(Bs,L4);var BL=Bs;Bs.blockSize=1024;Bs.outSize=384;Bs.hmacStrength=192;Bs.padLength=128;Bs.prototype._digest=function(e){return e==="hex"?Jw.toHex32(this.h.slice(0,12),"big"):Jw.split32(this.h.slice(0,12),"big")};Ku.sha1=cL;Ku.sha224=bL;Ku.sha256=R4;Ku.sha384=BL;Ku.sha512=U4;var F4={},Oa=Ne,jL=Vu,Eh=Oa.rotl32,DA=Oa.sum32,Al=Oa.sum32_3,MA=Oa.sum32_4,B4=jL.BlockHash;function es(){if(!(this instanceof es))return new es;B4.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Oa.inherits(es,B4);F4.ripemd160=es;es.blockSize=512;es.outSize=160;es.hmacStrength=192;es.padLength=64;es.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=n,u=i,l=s,d=o,f=a,h=0;h<80;h++){var g=DA(Eh(MA(n,$A(h,i,s,o),e[qL[h]+r],zL(h)),VL[h]),a);n=a,a=o,o=Eh(s,10),s=i,i=g,g=DA(Eh(MA(c,$A(79-h,u,l,d),e[WL[h]+r],HL(h)),KL[h]),f),c=f,f=d,d=Eh(l,10),l=u,u=g}g=Al(this.h[1],s,d),this.h[1]=Al(this.h[2],o,f),this.h[2]=Al(this.h[3],a,c),this.h[3]=Al(this.h[4],n,u),this.h[4]=Al(this.h[0],i,l),this.h[0]=g};es.prototype._digest=function(e){return e==="hex"?Oa.toHex32(this.h,"little"):Oa.split32(this.h,"little")};function $A(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function zL(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function HL(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var qL=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],WL=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],VL=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],KL=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],GL=Ne,QL=ec;function wu(t,e,r){if(!(this instanceof wu))return new wu(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(GL.toArray(e,r))}var YL=wu;wu.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),QL(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};wu.prototype.update=function(e,r){return this.inner.update(e,r),this};wu.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Ne,e.common=Vu,e.sha=Ku,e.ripemd=F4,e.hmac=YL,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(ng);var Ym,UA;function JL(){return UA||(UA=1,Ym={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Ym}(function(t){var e=t,r=ng,n=db,i=Ln,s=i.assert;function o(u){u.type==="short"?this.curve=new n.short(u):u.type==="edwards"?this.curve=new n.edwards(u):this.curve=new n.mont(u),this.g=this.curve.g,this.n=this.curve.n,this.hash=u.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function a(u,l){Object.defineProperty(e,u,{configurable:!0,enumerable:!0,get:function(){var d=new o(l);return Object.defineProperty(e,u,{configurable:!0,enumerable:!0,value:d}),d}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=JL()}catch{c=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(rg);var ZL=ng,Aa=ub,j4=ec;function Uo(t){if(!(this instanceof Uo))return new Uo(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Aa.toArray(t.entropy,t.entropyEnc||"hex"),r=Aa.toArray(t.nonce,t.nonceEnc||"hex"),n=Aa.toArray(t.pers,t.persEnc||"hex");j4(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var XL=Uo;Uo.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Uo.prototype._hmac=function(){return new ZL.hmac(this.hash,this.K)};Uo.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Uo.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Aa.toArray(e,r),n=Aa.toArray(n,i),j4(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Uo.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Aa.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Aa.encode(o,r)};var eF=Vs,tF=Ln,Zw=tF.assert;function qr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var rF=qr;qr.fromPublic=function(e,r,n){return r instanceof qr?r:new qr(e,{pub:r,pubEnc:n})};qr.fromPrivate=function(e,r,n){return r instanceof qr?r:new qr(e,{priv:r,privEnc:n})};qr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};qr.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};qr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};qr.prototype._importPrivate=function(e,r){this.priv=new eF(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};qr.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Zw(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Zw(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};qr.prototype.derive=function(e){return e.validate()||Zw(e.validate(),"public point not validated"),e.mul(this.priv).getX()};qr.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};qr.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};qr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Gp=Vs,hb=Ln,nF=hb.assert;function sg(t,e){if(t instanceof sg)return t;this._importDER(t,e)||(nF(t.r&&t.s,"Signature without r or s"),this.r=new Gp(t.r,16),this.s=new Gp(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var iF=sg;function sF(){this.place=0}function Jm(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function LA(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}sg.prototype._importDER=function(e,r){e=hb.toArray(e,r);var n=new sF;if(e[n.place++]!==48)return!1;var i=Jm(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Jm(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Jm(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Gp(o),this.s=new Gp(c),this.recoveryParam=null,!0};function Zm(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}sg.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=LA(r),n=LA(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Zm(i,r.length),i=i.concat(r),i.push(2),Zm(i,n.length);var s=i.concat(n),o=[48];return Zm(o,s.length),o=o.concat(s),hb.encode(o,e)};var bi=Vs,z4=XL,oF=Ln,Xm=rg,aF=E4,oa=oF.assert,pb=rF,og=iF;function ei(t){if(!(this instanceof ei))return new ei(t);typeof t=="string"&&(oa(Object.prototype.hasOwnProperty.call(Xm,t),"Unknown curve "+t),t=Xm[t]),t instanceof Xm.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var cF=ei;ei.prototype.keyPair=function(e){return new pb(this,e)};ei.prototype.keyFromPrivate=function(e,r){return pb.fromPrivate(this,e,r)};ei.prototype.keyFromPublic=function(e,r){return pb.fromPublic(this,e,r)};ei.prototype.genKeyPair=function(e){e||(e={});for(var r=new z4({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||aF(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new bi(2));;){var s=new bi(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};ei.prototype._truncateToN=function(e,r,n){var i;if(bi.isBN(e)||typeof e=="number")e=new bi(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new bi(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new bi(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};ei.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!bi.isBN(e)){oa(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),oa(e.length>>>0===e.length);for(var s=0;s<e.length;s++)oa((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),oa(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);oa(new bi(c).eq(e),"Can not sign message");for(var u=new z4({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new bi(1)),d=0;;d++){var f=i.k?i.k(d):new bi(u.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(l)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var g=h.getX(),y=g.umod(this.n);if(y.cmpn(0)!==0){var _=f.invm(this.n).mul(y.mul(r.getPrivate()).iadd(e));if(_=_.umod(this.n),_.cmpn(0)!==0){var v=(h.getY().isOdd()?1:0)|(g.cmp(y)!==0?2:0);return i.canonical&&_.cmp(this.nh)>0&&(_=this.n.sub(_),v^=1),new og({r:y,s:_,recoveryParam:v})}}}}}};ei.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new og(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),u=c.mul(e).umod(this.n),l=c.mul(o).umod(this.n),d;return this.curve._maxwellTrick?(d=this.g.jmulAdd(u,n.getPublic(),l),d.isInfinity()?!1:d.eqXToP(o)):(d=this.g.mulAdd(u,n.getPublic(),l),d.isInfinity()?!1:d.getX().umod(this.n).cmp(o)===0)};ei.prototype.recoverPubKey=function(t,e,r,n){oa((3&r)===r,"The recovery param is more than two bits"),e=new og(e,n);var i=this.n,s=new bi(t),o=e.r,a=e.s,c=r&1,u=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var l=e.r.invm(i),d=i.sub(s).mul(l).umod(i),f=a.mul(l).umod(i);return this.g.mulAdd(d,o,f)};ei.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new og(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Df=Ln,H4=Df.assert,FA=Df.parseBytes,Qu=Df.cachedProperty;function Ar(t,e){this.eddsa=t,this._secret=FA(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=FA(e.pub)}Ar.fromPublic=function(e,r){return r instanceof Ar?r:new Ar(e,{pub:r})};Ar.fromSecret=function(e,r){return r instanceof Ar?r:new Ar(e,{secret:r})};Ar.prototype.secret=function(){return this._secret};Qu(Ar,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Qu(Ar,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Qu(Ar,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Qu(Ar,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Qu(Ar,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Qu(Ar,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Ar.prototype.sign=function(e){return H4(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Ar.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Ar.prototype.getSecret=function(e){return H4(this._secret,"KeyPair is public only"),Df.encode(this.secret(),e)};Ar.prototype.getPublic=function(e){return Df.encode(this.pubBytes(),e)};var uF=Ar,lF=Vs,ag=Ln,BA=ag.assert,cg=ag.cachedProperty,dF=ag.parseBytes;function tc(t,e){this.eddsa=t,typeof e!="object"&&(e=dF(e)),Array.isArray(e)&&(BA(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),BA(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof lF&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}cg(tc,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});cg(tc,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});cg(tc,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});cg(tc,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});tc.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};tc.prototype.toHex=function(){return ag.encode(this.toBytes(),"hex").toUpperCase()};var fF=tc,hF=ng,pF=rg,vu=Ln,gF=vu.assert,q4=vu.parseBytes,W4=uF,jA=fF;function En(t){if(gF(t==="ed25519","only tested with ed25519 so far"),!(this instanceof En))return new En(t);t=pF[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=hF.sha512}var mF=En;En.prototype.sign=function(e,r){e=q4(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),o=this.encodePoint(s),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),c=i.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:c,Rencoded:o})};En.prototype.verify=function(e,r,n){if(e=q4(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),o=this.g.mul(r.S()),a=r.R().add(i.pub().mul(s));return a.eq(o)};En.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return vu.intFromLE(e.digest()).umod(this.curve.n)};En.prototype.keyFromPublic=function(e){return W4.fromPublic(this,e)};En.prototype.keyFromSecret=function(e){return W4.fromSecret(this,e)};En.prototype.makeSignature=function(e){return e instanceof jA?e:new jA(this,e)};En.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};En.prototype.decodePoint=function(e){e=vu.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=vu.intFromLE(n);return this.curve.pointFromY(s,i)};En.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};En.prototype.decodeInt=function(e){return vu.intFromLE(e)};En.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=hU.version,e.utils=Ln,e.rand=E4,e.curve=db,e.curves=rg,e.ec=cF,e.eddsa=mF})(w4);const yF={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var wF={};const vF=":";function ru(t){const[e,r]=t.split(vF);return{namespace:e,reference:r}}function V4(t,e){return t.includes(":")?[t]:e.chains||[]}const bF="ReactNative",Rn={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},EF="js";function Qp(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Ko(){return!Pf()&&!!ib()&&navigator.product===bF}function AF(){return Ko()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function CF(){return Ko()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Mf(){return!Qp()&&!!ib()&&!!Pf()}function $f(){return Ko()?Rn.reactNative:Qp()?Rn.node:Mf()?Rn.browser:Rn.unknown}function zA(){var t;try{return Ko()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function _F(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function K4(){return U6()||{name:"",description:"",url:"",icons:[""]}}function SF(){if($f()===Rn.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=mD();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function IF(){var t;const e=$f();return e===Rn.browser?[e,((t=$6())==null?void 0:t.host)||"unknown"].join(":"):e}function G4(t,e,r){const n=SF(),i=IF();return[[t,e].join("-"),[EF,r].join("-"),n,i].join("/")}function xF({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const u=r.split("?"),l=G4(t,e,n),d={auth:i,ua:l,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},f=_F(u[1]||"",d);return u[0]+"?"+f}function fa(t,e){return t.filter(r=>e.includes(r)).length===t.length}function Xw(t){return Object.fromEntries(t.entries())}function ev(t){return new Map(Object.entries(t))}function ra(t=Y.FIVE_MINUTES,e){const r=Y.toMiliseconds(t||Y.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const u=new Error(e);o=Promise.reject(u),c(u)},r),n=a,i=c})}}function mo(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function Q4(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function NF(t){return Q4("topic",t)}function TF(t){return Q4("id",t)}function Y4(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function cr(t,e){return Y.fromMiliseconds(Date.now()+Y.toMiliseconds(t))}function oo(t){return Date.now()>=Y.toMiliseconds(t)}function Be(t,e){return`${t}${e?`:${e}`:""}`}function tp(t=[],e=[]){return[...new Set([...t,...e])]}async function PF({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=kF(s,t,e),a=$f();if(a===Rn.browser){if(!((n=Pf())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}RF(o)}else a===Rn.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function kF(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${$F(n,!0)}`}else i=`${i}/wc?${n}`;return i}function RF(t){let e="_self";MF()?e="_top":(DF()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function OF(t,e){let r="";try{if(Mf()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function HA(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function qA(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function gb(){return typeof process<"u"&&wF.IS_VITEST==="true"}function DF(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function MF(){try{return window.self!==window.top}catch{return!1}}function $F(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function J4(t){return Buffer.from(t,"base64").toString("utf-8")}function UF(t){return new Promise(e=>setTimeout(e,t))}function Md(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function LF(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ug(t,...e){if(!LF(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function mb(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Md(t.outputLen),Md(t.blockLen)}function bu(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Z4(t,e){ug(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Ah=BigInt(2**32-1),WA=BigInt(32);function FF(t,e=!1){return e?{h:Number(t&Ah),l:Number(t>>WA&Ah)}:{h:Number(t>>WA&Ah)|0,l:Number(t&Ah)|0}}function BF(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=FF(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const jF=(t,e,r)=>t<<r|e>>>32-r,zF=(t,e,r)=>e<<r|t>>>32-r,HF=(t,e,r)=>e<<r-32|t>>>64-r,qF=(t,e,r)=>t<<r-32|e>>>64-r,lc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function WF(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ey(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Mi(t,e){return t<<32-e|t>>>e}const VA=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function VF(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function KA(t){for(let e=0;e<t.length;e++)t[e]=VF(t[e])}function KF(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Eu(t){return typeof t=="string"&&(t=KF(t)),ug(t),t}let yb=class{clone(){return this._cloneInto()}};function X4(t){const e=n=>t().update(Eu(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Uf(t=32){if(lc&&typeof lc.getRandomValues=="function")return lc.getRandomValues(new Uint8Array(t));if(lc&&typeof lc.randomBytes=="function")return lc.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const eI=[],tI=[],rI=[],GF=BigInt(0),Cl=BigInt(1),QF=BigInt(2),YF=BigInt(7),JF=BigInt(256),ZF=BigInt(113);for(let t=0,e=Cl,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],eI.push(2*(5*n+r)),tI.push((t+1)*(t+2)/2%64);let i=GF;for(let s=0;s<7;s++)e=(e<<Cl^(e>>YF)*ZF)%JF,e&QF&&(i^=Cl<<(Cl<<BigInt(s))-Cl);rI.push(i)}const[XF,eB]=BF(rI,!0),GA=(t,e,r)=>r>32?HF(t,e,r):jF(t,e,r),QA=(t,e,r)=>r>32?qF(t,e,r):zF(t,e,r);function tB(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],d=GA(u,l,1)^r[a],f=QA(u,l,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=tI[o],c=GA(i,s,a),u=QA(i,s,a),l=eI[o];i=t[l],s=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=XF[n],t[1]^=eB[n]}r.fill(0)}let rB=class nI extends yb{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Md(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=WF(this.state)}keccak(){VA||KA(this.state32),tB(this.state32,this.rounds),VA||KA(this.state32),this.posOut=0,this.pos=0}update(e){bu(this);const{blockLen:r,state:n}=this;e=Eu(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){bu(this,!1),ug(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Md(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Z4(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new nI(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const nB=(t,e,r)=>X4(()=>new rB(e,t,r)),iB=nB(1,136,256/8),sB="https://rpc.walletconnect.org/v1";function iI(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(iB(r)).toString("hex")}async function oB(t,e,r,n,i,s){switch(r.t){case"eip191":return await aB(t,e,r.s);case"eip1271":return await cB(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function aB(t,e,r){return(await o$({hash:iI(e),signature:r})).toLowerCase()===t.toLowerCase()}async function cB(t,e,r,n,i,s){const o=ru(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",u="0000000000000000000000000000000000000000000000000000000000000041",l=r.substring(2),d=iI(e).substring(2),f=a+d+c+u+l,h=await fetch(`${s||sB}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:uB(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:g}=await h.json();return g?g.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function uB(){return Date.now()+Math.floor(Math.random()*1e3)}function lB(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return f4.encode(s)}var dB=Object.defineProperty,fB=Object.defineProperties,hB=Object.getOwnPropertyDescriptors,YA=Object.getOwnPropertySymbols,pB=Object.prototype.hasOwnProperty,gB=Object.prototype.propertyIsEnumerable,JA=(t,e,r)=>e in t?dB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mB=(t,e)=>{for(var r in e||(e={}))pB.call(e,r)&&JA(t,r,e[r]);if(YA)for(var r of YA(e))gB.call(e,r)&&JA(t,r,e[r]);return t},yB=(t,e)=>fB(t,hB(e));const wB="did:pkh:",wb=t=>t==null?void 0:t.split(":"),vB=t=>{const e=t&&wb(t);if(e)return t.includes(wB)?e[3]:e[1]},tv=t=>{const e=t&&wb(t);if(e)return e[2]+":"+e[3]},Yp=t=>{const e=t&&wb(t);if(e)return e.pop()};async function ZA(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=sI(i,i.iss),o=Yp(i.iss);return await oB(o,s,n,tv(i.iss),r)}const sI=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=Yp(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${vB(e)}`,c=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,l=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,f=t.requestId?`Request ID: ${t.requestId}`:void 0,h=t.resources?`Resources:${t.resources.map(y=>`
- ${y}`).join("")}`:void 0,g=rp(t.resources);if(g){const y=$d(g);i=NB(i,y)}return[r,n,"",i,"",s,o,a,c,u,l,d,f,h].filter(y=>y!=null).join(`
`)};function bB(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function EB(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Da(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function AB(t,e,r,n={}){return r==null||r.sort((i,s)=>i.localeCompare(s)),{att:{[t]:CB(e,r,n)}}}function CB(t,e,r={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function oI(t){return Da(t),`urn:recap:${bB(t).replace(/=/g,"")}`}function $d(t){const e=EB(t.replace("urn:recap:",""));return Da(e),e}function _B(t,e,r){const n=AB(t,e,r);return oI(n)}function SB(t){return t&&t.includes("urn:recap:")}function IB(t,e){const r=$d(t),n=$d(e),i=xB(r,n);return oI(i)}function xB(t,e){Da(t),Da(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,u;n.att[i]=yB(mB({},n.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((u=e.att[i])==null?void 0:u[a])})})}),n}function NB(t="",e){Da(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,f)=>d.action.localeCompare(f.action));const u={};c.forEach(d=>{u[d.ability]||(u[d.ability]=[]),u[d.ability].push(d.action)});const l=Object.keys(u).map(d=>(i++,`(${i}) '${d}': '${u[d].join("', '")}' for '${a}'.`));n.push(l.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function XA(t){var e;const r=$d(t);Da(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function e3(t){const e=$d(t);Da(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function rp(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return SB(e)?e:void 0}function ty(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function aI(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Tn(t,...e){if(!aI(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function t3(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function TB(t,e){Tn(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function r3(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const To=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),PB=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),kB=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!kB)throw new Error("Non little-endian hardware is not supported");function RB(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function rv(t){if(typeof t=="string")t=RB(t);else if(aI(t))t=nv(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function OB(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function DB(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const MB=(t,e)=>{function r(n,...i){if(Tn(n),t.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");t.varSizeNonce?Tn(u):Tn(u,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Tn(i[1]);const o=e(n,...i),a=(u,l)=>{if(l!==void 0){if(u!==2)throw new Error("cipher output not supported");Tn(l)}};let c=!1;return{encrypt(u,l){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Tn(u),a(o.encrypt.length,l),o.encrypt(u,l)},decrypt(u,l){if(Tn(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,l),o.decrypt(u,l)}}}return Object.assign(r,t),r};function n3(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!$B(e))throw new Error("invalid output, must be aligned");return e}function i3(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function $B(t){return t.byteOffset%4===0}function nv(t){return Uint8Array.from(t)}function Au(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const cI=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),UB=cI("expand 16-byte k"),LB=cI("expand 32-byte k"),FB=To(UB),BB=To(LB);function De(t,e){return t<<e|t>>>32-e}function iv(t){return t.byteOffset%4===0}const Ch=64,jB=16,uI=2**32-1,s3=new Uint32Array;function zB(t,e,r,n,i,s,o,a){const c=i.length,u=new Uint8Array(Ch),l=To(u),d=iv(i)&&iv(s),f=d?To(i):s3,h=d?To(s):s3;for(let g=0;g<c;o++){if(t(e,r,n,l,o,a),o>=uI)throw new Error("arx: counter overflow");const y=Math.min(Ch,c-g);if(d&&y===Ch){const _=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let v=0,w;v<jB;v++)w=_+v,h[w]=f[w]^l[v];g+=Ch;continue}for(let _=0,v;_<y;_++)v=g+_,s[v]=i[v]^u[_];g+=y}}function HB(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=OB({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return ty(i),ty(o),r3(s),r3(r),(a,c,u,l,d=0)=>{Tn(a),Tn(c),Tn(u);const f=u.length;if(l===void 0&&(l=new Uint8Array(f)),Tn(l),ty(d),d<0||d>=uI)throw new Error("arx: counter overflow");if(l.length<f)throw new Error(`arx: output (${l.length}) is shorter than data (${f})`);const h=[];let g=a.length,y,_;if(g===32)h.push(y=nv(a)),_=BB;else if(g===16&&r)y=new Uint8Array(32),y.set(a),y.set(a,16),_=FB,h.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);iv(c)||h.push(c=nv(c));const v=To(y);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(_,v,To(c.subarray(0,16)),v),c=c.subarray(16)}const w=16-i;if(w!==c.length)throw new Error(`arx: nonce must be ${w} or 16 bytes`);if(w!==12){const P=new Uint8Array(12);P.set(c,s?0:12-c.length),c=P,h.push(c)}const A=To(c);return zB(t,_,v,A,u,l,d,o),Au(...h),l}}const Sr=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let qB=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=rv(e),Tn(e,32);const r=Sr(e,0),n=Sr(e,2),i=Sr(e,4),s=Sr(e,6),o=Sr(e,8),a=Sr(e,10),c=Sr(e,12),u=Sr(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let l=0;l<8;l++)this.pad[l]=Sr(e,16+2*l)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],u=o[2],l=o[3],d=o[4],f=o[5],h=o[6],g=o[7],y=o[8],_=o[9],v=Sr(e,r+0),w=Sr(e,r+2),A=Sr(e,r+4),P=Sr(e,r+6),R=Sr(e,r+8),D=Sr(e,r+10),M=Sr(e,r+12),L=Sr(e,r+14);let $=s[0]+(v&8191),F=s[1]+((v>>>13|w<<3)&8191),x=s[2]+((w>>>10|A<<6)&8191),p=s[3]+((A>>>7|P<<9)&8191),b=s[4]+((P>>>4|R<<12)&8191),I=s[5]+(R>>>1&8191),E=s[6]+((R>>>14|D<<2)&8191),C=s[7]+((D>>>11|M<<5)&8191),k=s[8]+((M>>>8|L<<8)&8191),N=s[9]+(L>>>5|i),S=0,m=S+$*a+F*(5*_)+x*(5*y)+p*(5*g)+b*(5*h);S=m>>>13,m&=8191,m+=I*(5*f)+E*(5*d)+C*(5*l)+k*(5*u)+N*(5*c),S+=m>>>13,m&=8191;let T=S+$*c+F*a+x*(5*_)+p*(5*y)+b*(5*g);S=T>>>13,T&=8191,T+=I*(5*h)+E*(5*f)+C*(5*d)+k*(5*l)+N*(5*u),S+=T>>>13,T&=8191;let j=S+$*u+F*c+x*a+p*(5*_)+b*(5*y);S=j>>>13,j&=8191,j+=I*(5*g)+E*(5*h)+C*(5*f)+k*(5*d)+N*(5*l),S+=j>>>13,j&=8191;let H=S+$*l+F*u+x*c+p*a+b*(5*_);S=H>>>13,H&=8191,H+=I*(5*y)+E*(5*g)+C*(5*h)+k*(5*f)+N*(5*d),S+=H>>>13,H&=8191;let z=S+$*d+F*l+x*u+p*c+b*a;S=z>>>13,z&=8191,z+=I*(5*_)+E*(5*y)+C*(5*g)+k*(5*h)+N*(5*f),S+=z>>>13,z&=8191;let Q=S+$*f+F*d+x*l+p*u+b*c;S=Q>>>13,Q&=8191,Q+=I*a+E*(5*_)+C*(5*y)+k*(5*g)+N*(5*h),S+=Q>>>13,Q&=8191;let ae=S+$*h+F*f+x*d+p*l+b*u;S=ae>>>13,ae&=8191,ae+=I*c+E*a+C*(5*_)+k*(5*y)+N*(5*g),S+=ae>>>13,ae&=8191;let le=S+$*g+F*h+x*f+p*d+b*l;S=le>>>13,le&=8191,le+=I*u+E*c+C*a+k*(5*_)+N*(5*y),S+=le>>>13,le&=8191;let Le=S+$*y+F*g+x*h+p*f+b*d;S=Le>>>13,Le&=8191,Le+=I*l+E*u+C*c+k*a+N*(5*_),S+=Le>>>13,Le&=8191;let fe=S+$*_+F*y+x*g+p*h+b*f;S=fe>>>13,fe&=8191,fe+=I*d+E*l+C*u+k*c+N*a,S+=fe>>>13,fe&=8191,S=(S<<2)+S|0,S=S+m|0,m=S&8191,S=S>>>13,T+=S,s[0]=m,s[1]=T,s[2]=j,s[3]=H,s[4]=z,s[5]=Q,s[6]=ae,s[7]=le,s[8]=Le,s[9]=fe}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;Au(n)}update(e){t3(this);const{buffer:r,blockLen:n}=this;e=rv(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){Au(this.h,this.r,this.buffer,this.pad)}digestInto(e){t3(this),TB(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}};function WB(t){const e=(n,i)=>t(i).update(rv(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const VB=WB(t=>new qB(t));function KB(t,e,r,n,i,s=20){let o=t[0],a=t[1],c=t[2],u=t[3],l=e[0],d=e[1],f=e[2],h=e[3],g=e[4],y=e[5],_=e[6],v=e[7],w=i,A=r[0],P=r[1],R=r[2],D=o,M=a,L=c,$=u,F=l,x=d,p=f,b=h,I=g,E=y,C=_,k=v,N=w,S=A,m=P,T=R;for(let H=0;H<s;H+=2)D=D+F|0,N=De(N^D,16),I=I+N|0,F=De(F^I,12),D=D+F|0,N=De(N^D,8),I=I+N|0,F=De(F^I,7),M=M+x|0,S=De(S^M,16),E=E+S|0,x=De(x^E,12),M=M+x|0,S=De(S^M,8),E=E+S|0,x=De(x^E,7),L=L+p|0,m=De(m^L,16),C=C+m|0,p=De(p^C,12),L=L+p|0,m=De(m^L,8),C=C+m|0,p=De(p^C,7),$=$+b|0,T=De(T^$,16),k=k+T|0,b=De(b^k,12),$=$+b|0,T=De(T^$,8),k=k+T|0,b=De(b^k,7),D=D+x|0,T=De(T^D,16),C=C+T|0,x=De(x^C,12),D=D+x|0,T=De(T^D,8),C=C+T|0,x=De(x^C,7),M=M+p|0,N=De(N^M,16),k=k+N|0,p=De(p^k,12),M=M+p|0,N=De(N^M,8),k=k+N|0,p=De(p^k,7),L=L+b|0,S=De(S^L,16),I=I+S|0,b=De(b^I,12),L=L+b|0,S=De(S^L,8),I=I+S|0,b=De(b^I,7),$=$+F|0,m=De(m^$,16),E=E+m|0,F=De(F^E,12),$=$+F|0,m=De(m^$,8),E=E+m|0,F=De(F^E,7);let j=0;n[j++]=o+D|0,n[j++]=a+M|0,n[j++]=c+L|0,n[j++]=u+$|0,n[j++]=l+F|0,n[j++]=d+x|0,n[j++]=f+p|0,n[j++]=h+b|0,n[j++]=g+I|0,n[j++]=y+E|0,n[j++]=_+C|0,n[j++]=v+k|0,n[j++]=w+N|0,n[j++]=A+S|0,n[j++]=P+m|0,n[j++]=R+T|0}const GB=HB(KB,{counterRight:!1,counterLength:4,allowShortKeys:!1}),QB=new Uint8Array(16),o3=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(QB.subarray(r))},YB=new Uint8Array(32);function a3(t,e,r,n,i){const s=t(e,r,YB),o=VB.create(s);i&&o3(o,i),o3(o,n);const a=new Uint8Array(16),c=PB(a);i3(c,0,BigInt(i?i.length:0),!0),i3(c,8,BigInt(n.length),!0),o.update(a);const u=o.digest();return Au(s,a),u}const JB=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=n3(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const c=a3(t,e,r,a,n);return s.set(c,o),Au(c),s},decrypt(i,s){s=n3(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=a3(t,e,r,o,n);if(!DB(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),Au(c),s}}),lI=MB({blockSize:64,nonceLength:12,tagLength:16},JB(GB));let dI=class extends yb{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,mb(e);const n=Eu(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return bu(this),this.iHash.update(e),this}digestInto(e){bu(this),ug(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const vb=(t,e,r)=>new dI(t,e).update(r).digest();vb.create=(t,e)=>new dI(t,e);function ZB(t,e,r){return mb(t),r===void 0&&(r=new Uint8Array(t.outputLen)),vb(t,Eu(r),Eu(e))}const ry=new Uint8Array([0]),c3=new Uint8Array;function XB(t,e,r,n=32){if(mb(t),Md(n),n>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(n/t.outputLen);r===void 0&&(r=c3);const s=new Uint8Array(i*t.outputLen),o=vb.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let u=0;u<i;u++)ry[0]=u+1,a.update(u===0?c3:c).update(r).update(ry).digestInto(c),s.set(c,t.outputLen*u),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),ry.fill(0),s.slice(0,n)}const ej=(t,e,r,n,i)=>XB(t,ZB(t,e,r),n,i);function tj(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}function rj(t,e,r){return t&e^~t&r}function nj(t,e,r){return t&e^t&r^e&r}class ij extends yb{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ey(this.buffer)}update(e){bu(this);const{view:r,buffer:n,blockLen:i}=this;e=Eu(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=ey(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){bu(this),Z4(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let d=o;d<i;d++)r[d]=0;tj(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=ey(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const sj=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),to=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ro=new Uint32Array(64);let oj=class extends ij{constructor(){super(64,32,8,!1),this.A=to[0]|0,this.B=to[1]|0,this.C=to[2]|0,this.D=to[3]|0,this.E=to[4]|0,this.F=to[5]|0,this.G=to[6]|0,this.H=to[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)ro[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){const f=ro[d-15],h=ro[d-2],g=Mi(f,7)^Mi(f,18)^f>>>3,y=Mi(h,17)^Mi(h,19)^h>>>10;ro[d]=y+ro[d-7]+g+ro[d-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=Mi(a,6)^Mi(a,11)^Mi(a,25),h=l+f+rj(a,c,u)+sj[d]+ro[d]|0,g=(Mi(n,2)^Mi(n,13)^Mi(n,22))+nj(n,i,s)|0;l=u,u=c,c=a,a=o+h|0,o=s,s=i,i=n,n=h+g|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){ro.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const lg=X4(()=>new oj);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fI=BigInt(0);function bb(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hI(t){if(!bb(t))throw new Error("Uint8Array expected")}const aj=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function cj(t){hI(t);let e="";for(let r=0;r<t.length;r++)e+=aj[t[r]];return e}function uj(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?fI:BigInt("0x"+t)}const ms={_0:48,_9:57,A:65,F:70,a:97,f:102};function u3(t){if(t>=ms._0&&t<=ms._9)return t-ms._0;if(t>=ms.A&&t<=ms.F)return t-(ms.A-10);if(t>=ms.a&&t<=ms.f)return t-(ms.a-10)}function pI(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=u3(t.charCodeAt(s)),a=u3(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function l3(t){return hI(t),uj(cj(Uint8Array.from(t).reverse()))}function lj(t,e){return pI(t.toString(16).padStart(e*2,"0"))}function dj(t,e){return lj(t,e).reverse()}function d3(t,e,r){let n;if(typeof e=="string")try{n=pI(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(bb(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const ny=t=>typeof t=="bigint"&&fI<=t;function fj(t,e,r){return ny(t)&&ny(e)&&ny(r)&&e<=t&&t<r}function f3(t,e,r,n){if(!fj(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}const hj={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||bb(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function pj(t,e,r={}){const n=(i,s,o)=>{const a=hj[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const Wc=BigInt(0),_h=BigInt(1);function gI(t,e){const r=t%e;return r>=Wc?r:e+r}function gj(t,e,r){if(e<Wc)throw new Error("invalid exponent, negatives unsupported");if(r<=Wc)throw new Error("invalid modulus");if(r===_h)return Wc;let n=_h;for(;e>Wc;)e&_h&&(n=n*t%r),t=t*t%r,e>>=_h;return n}function hi(t,e,r){let n=t;for(;e-- >Wc;)n*=n,n%=r;return n}BigInt(0),BigInt(1),BigInt(0),BigInt(1),BigInt(2),BigInt(8);const dc=BigInt(0),iy=BigInt(1);function mj(t){return pj(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function yj(t){const e=mj(t),{P:r}=e,n=w=>gI(w,r),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(w=>w),c=e.powPminus2||(w=>gj(w,r-BigInt(2),r));function u(w,A,P){const R=n(w*(A-P));return A=n(A-R),P=n(P+R),[A,P]}const l=(e.a-BigInt(2))/BigInt(4);function d(w,A){f3("u",w,dc,r),f3("scalar",A,dc,r);const P=A,R=w;let D=iy,M=dc,L=w,$=iy,F=dc,x;for(let b=BigInt(i-1);b>=dc;b--){const I=P>>b&iy;F^=I,x=u(F,D,L),D=x[0],L=x[1],x=u(F,M,$),M=x[0],$=x[1],F=I;const E=D+M,C=n(E*E),k=D-M,N=n(k*k),S=C-N,m=L+$,T=L-$,j=n(T*E),H=n(m*k),z=j+H,Q=j-H;L=n(z*z),$=n(R*n(Q*Q)),D=n(C*N),M=n(S*(C+n(l*S)))}x=u(F,D,L),D=x[0],L=x[1],x=u(F,M,$),M=x[0],$=x[1];const p=c(M);return n(D*p)}function f(w){return dj(n(w),s)}function h(w){const A=d3("u coordinate",w,s);return o===32&&(A[31]&=127),l3(A)}function g(w){const A=d3("scalar",w),P=A.length;if(P!==s&&P!==o){let R=""+s+" or "+o;throw new Error("invalid scalar, expected "+R+" bytes, got "+P)}return l3(a(A))}function y(w,A){const P=h(A),R=g(w),D=d(P,R);if(D===dc)throw new Error("invalid private or public key received");return f(D)}const _=f(e.Gu);function v(w){return y(w,_)}return{scalarMult:y,scalarMultBase:v,getSharedSecret:(w,A)=>y(w,A),getPublicKey:w=>v(w),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:_}}const sv=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const wj=BigInt(1),h3=BigInt(2),vj=BigInt(3),bj=BigInt(5);BigInt(8);function Ej(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=sv,o=t*t%s*t%s,a=hi(o,h3,s)*o%s,c=hi(a,wj,s)*t%s,u=hi(c,bj,s)*c%s,l=hi(u,e,s)*u%s,d=hi(l,r,s)*l%s,f=hi(d,n,s)*d%s,h=hi(f,i,s)*f%s,g=hi(h,i,s)*f%s,y=hi(g,e,s)*u%s;return{pow_p_5_8:hi(y,h3,s)*t%s,b2:o}}function Aj(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const ov=yj({P:sv,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=sv,{pow_p_5_8:r,b2:n}=Ej(t);return gI(hi(r,vj,e)*n,e)},adjustScalarBytes:Aj,randomBytes:Uf}),mI="base10",Wr="base16",yo="base64pad",_l="base64url",Lf="utf8",yI=0,Ps=1,Ff=2,Cj=0,p3=1,rd=12,Eb=32;function _j(){const t=ov.utils.randomPrivateKey(),e=ov.getPublicKey(t);return{privateKey:Zr(t,Wr),publicKey:Zr(e,Wr)}}function av(){const t=Uf(Eb);return Zr(t,Wr)}function Sj(t,e){const r=ov.getSharedSecret(Qn(t,Wr),Qn(e,Wr)),n=ej(lg,r,void 0,void 0,Eb);return Zr(n,Wr)}function np(t){const e=lg(Qn(t,Wr));return Zr(e,Wr)}function Hi(t){const e=lg(Qn(t,Lf));return Zr(e,Wr)}function wI(t){return Qn(`${t}`,mI)}function Ma(t){return Number(Zr(t,mI))}function Ij(t){const e=wI(typeof t.type<"u"?t.type:yI);if(Ma(e)===Ps&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?Qn(t.senderPublicKey,Wr):void 0,n=typeof t.iv<"u"?Qn(t.iv,Wr):Uf(rd),i=Qn(t.symKey,Wr),s=lI(i,n).encrypt(Qn(t.message,Lf));return vI({type:e,sealed:s,iv:n,senderPublicKey:r,encoding:t.encoding})}function xj(t){const e=Qn(t.symKey,Wr),{sealed:r,iv:n}=Ud(t),i=lI(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return Zr(i,Lf)}function Nj(t,e){const r=wI(Ff),n=Uf(rd),i=Qn(t,Lf);return vI({type:r,sealed:i,iv:n,encoding:e})}function Tj(t,e){const{sealed:r}=Ud({encoded:t,encoding:e});return Zr(r,Lf)}function vI(t){const{encoding:e=yo}=t;if(Ma(t.type)===Ff)return Zr(qm([t.type,t.sealed]),e);if(Ma(t.type)===Ps){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Zr(qm([t.type,t.senderPublicKey,t.iv,t.sealed]),e)}return Zr(qm([t.type,t.iv,t.sealed]),e)}function Ud(t){const{encoded:e,encoding:r=yo}=t,n=Qn(e,r),i=n.slice(Cj,p3),s=p3;if(Ma(i)===Ps){const u=s+Eb,l=u+rd,d=n.slice(s,u),f=n.slice(u,l),h=n.slice(l);return{type:i,sealed:h,iv:f,senderPublicKey:d}}if(Ma(i)===Ff){const u=n.slice(s),l=Uf(rd);return{type:i,sealed:u,iv:l}}const o=s+rd,a=n.slice(s,o),c=n.slice(o);return{type:i,sealed:c,iv:a}}function Pj(t,e){const r=Ud({encoded:t,encoding:e==null?void 0:e.encoding});return bI({type:Ma(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Zr(r.senderPublicKey,Wr):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function bI(t){const e=(t==null?void 0:t.type)||yI;if(e===Ps){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function g3(t){return t.type===Ps&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function m3(t){return t.type===Ff}function kj(t){return new w4.ec("p256").keyFromPublic({x:Buffer.from(t.x,"base64").toString("hex"),y:Buffer.from(t.y,"base64").toString("hex")},"hex")}function Rj(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");const r=e.length%4;return r>0&&(e+="=".repeat(4-r)),e}function Oj(t){return Buffer.from(Rj(t),"base64")}function Dj(t,e){const[r,n,i]=t.split("."),s=Oj(i);if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),c=`${r}.${n}`,u=lg(c),l=kj(e),d=Zr(u,Wr);if(!l.verify(d,{r:o,s:a}))throw new Error("Invalid signature");return zw(t).payload}const Mj="irn";function Jp(t){return(t==null?void 0:t.relay)||{protocol:Mj}}function zl(t){const e=yF[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function $j(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function y3(t){if(!t.includes("wc:")){const u=J4(t);u!=null&&u.includes("wc:")&&(t=u)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((u,l)=>{a[l]=u});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:Uj(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:$j(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Uj(t){return t.startsWith("//")?t.substring(2):t}function Lj(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function w3(t){const e=new URLSearchParams,r=Lj(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function Sh(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}function Yu(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function Fj(t){const e=[];return Object.values(t).forEach(r=>{e.push(...Yu(r.accounts))}),e}function Bj(t,e){const r=[];return Object.values(t).forEach(n=>{Yu(n.accounts).includes(e)&&r.push(...n.methods)}),r}function jj(t,e){const r=[];return Object.values(t).forEach(n=>{Yu(n.accounts).includes(e)&&r.push(...n.events)}),r}function Ab(t){return t.includes(":")}function Hl(t){return Ab(t)?t.split(":")[0]:t}function zj(t){const e={};return t==null||t.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function v3(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=zj(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=tp(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}const Hj={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},qj={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Z(t,e){const{message:r,code:n}=qj[t];return{message:e?`${r} ${e}`:r,code:n}}function Ye(t,e){const{message:r,code:n}=Hj[t];return{message:e?`${r} ${e}`:r,code:n}}function $a(t,e){return!!Array.isArray(t)}function Ld(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Pr(t){return typeof t>"u"}function ir(t,e){return e&&Pr(t)?!0:typeof t=="string"&&!!t.trim().length}function Cb(t,e){return e&&Pr(t)?!0:typeof t=="number"&&!isNaN(t)}function Wj(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return fa(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:u}=t.namespaces[o],l=Yu(a),d=r[o];(!fa(V4(o,d),l)||!fa(d.methods,c)||!fa(d.events,u))&&(s=!1)}),s):!1}function Zp(t){return ir(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Vj(t){if(ir(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&Zp(r)}}return!1}function Kj(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(ir(t,!1)){if(e(t))return!0;const r=J4(t);return e(r)}}catch{}return!1}function Gj(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Qj(t){return t==null?void 0:t.topic}function Yj(t,e){let r=null;return ir(t==null?void 0:t.publicKey,!1)||(r=Z("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function b3(t){let e=!0;return $a(t)?t.length&&(e=t.every(r=>ir(r,!1))):e=!1,e}function Jj(t,e,r){let n=null;return $a(e)&&e.length?e.forEach(i=>{n||Zp(i)||(n=Ye("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Zp(t)||(n=Ye("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Zj(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=Jj(i,V4(i,s),`${e} ${r}`);o&&(n=o)}),n}function Xj(t,e){let r=null;return $a(t)?t.forEach(n=>{r||Vj(n)||(r=Ye("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Ye("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function ez(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Xj(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function tz(t,e){let r=null;return b3(t==null?void 0:t.methods)?b3(t==null?void 0:t.events)||(r=Ye("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Ye("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function EI(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=tz(n,`${e}, namespace`);i&&(r=i)}),r}function rz(t,e,r){let n=null;if(t&&Ld(t)){const i=EI(t,e);i&&(n=i);const s=Zj(t,e,r);s&&(n=s)}else n=Z("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function sy(t,e){let r=null;if(t&&Ld(t)){const n=EI(t,e);n&&(r=n);const i=ez(t,e);i&&(r=i)}else r=Z("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function AI(t){return ir(t.protocol,!0)}function nz(t,e){let r=!1;return t?t&&$a(t)&&t.length&&t.forEach(n=>{r=AI(n)}):r=!0,r}function iz(t){return typeof t=="number"}function fn(t){return typeof t<"u"&&typeof t!==null}function sz(t){return!(!t||typeof t!="object"||!t.code||!Cb(t.code,!1)||!t.message||!ir(t.message,!1))}function oz(t){return!(Pr(t)||!ir(t.method,!1))}function az(t){return!(Pr(t)||Pr(t.result)&&Pr(t.error)||!Cb(t.id,!1)||!ir(t.jsonrpc,!1))}function cz(t){return!(Pr(t)||!ir(t.name,!1))}function E3(t,e){return!(!Zp(e)||!Fj(t).includes(e))}function uz(t,e,r){return ir(r,!1)?Bj(t,e).includes(r):!1}function lz(t,e,r){return ir(r,!1)?jj(t,e).includes(r):!1}function A3(t,e,r){let n=null;const i=dz(t),s=fz(e),o=Object.keys(i),a=Object.keys(s),c=C3(Object.keys(t)),u=C3(Object.keys(e)),l=c.filter(d=>!u.includes(d));return l.length&&(n=Z("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(e).toString()}`)),fa(o,a)||(n=Z("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||n)return;const f=Yu(e[d].accounts);f.includes(d)||(n=Z("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${f.toString()}`))}),o.forEach(d=>{n||(fa(i[d].methods,s[d].methods)?fa(i[d].events,s[d].events)||(n=Z("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${d}`)):n=Z("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${d}`))}),n}function dz(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function C3(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function fz(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=Yu(t[r].accounts);n==null||n.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function hz(t,e){return Cb(t,!1)&&t<=e.max&&t>=e.min}function _3(){const t=$f();return new Promise(e=>{switch(t){case Rn.browser:e(pz());break;case Rn.reactNative:e(gz());break;case Rn.node:e(mz());break;default:e(!0)}})}function pz(){return Mf()&&(navigator==null?void 0:navigator.onLine)}async function gz(){if(Ko()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function mz(){return!0}function yz(t){switch($f()){case Rn.browser:wz(t);break;case Rn.reactNative:vz(t);break}}function wz(t){!Ko()&&Mf()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function vz(t){Ko()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const oy={};class Sl{static get(e){return oy[e]}static set(e,r){oy[e]=r}static delete(e){delete oy[e]}}const bz="PARSE_ERROR",Ez="INVALID_REQUEST",Az="METHOD_NOT_FOUND",Cz="INVALID_PARAMS",CI="INTERNAL_ERROR",_b="SERVER_ERROR",_z=[-32700,-32600,-32601,-32602,-32603],nd={[bz]:{code:-32700,message:"Parse error"},[Ez]:{code:-32600,message:"Invalid Request"},[Az]:{code:-32601,message:"Method not found"},[Cz]:{code:-32602,message:"Invalid params"},[CI]:{code:-32603,message:"Internal error"},[_b]:{code:-32e3,message:"Server error"}},_I=_b;function Sz(t){return _z.includes(t)}function S3(t){return Object.keys(nd).includes(t)?nd[t]:nd[_I]}function Iz(t){const e=Object.values(nd).find(r=>r.code===t);return e||nd[_I]}function SI(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var II={},ys={},I3;function xz(){if(I3)return ys;I3=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.isBrowserCryptoAvailable=ys.getSubtleCrypto=ys.getBrowerCrypto=void 0;function t(){return(mi==null?void 0:mi.crypto)||(mi==null?void 0:mi.msCrypto)||{}}ys.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}ys.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return ys.isBrowserCryptoAvailable=r,ys}var ws={},x3;function Nz(){if(x3)return ws;x3=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.isBrowser=ws.isNode=ws.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}ws.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}ws.isNode=e;function r(){return!t()&&!e()}return ws.isBrowser=r,ws}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Sf;e.__exportStar(xz(),t),e.__exportStar(Nz(),t)})(II);function ji(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function ha(t=6){return BigInt(ji(t))}function wo(t,e,r){return{id:r||ji(),jsonrpc:"2.0",method:t,params:e}}function dg(t,e){return{id:t,jsonrpc:"2.0",result:e}}function fg(t,e,r){return{id:t,jsonrpc:"2.0",error:Tz(e)}}function Tz(t,e){return typeof t>"u"?S3(CI):(typeof t=="string"&&(t=Object.assign(Object.assign({},S3(_b)),{message:t})),Sz(t.code)&&(t=Iz(t.code)),t)}let Pz=class{},kz=class extends Pz{constructor(){super()}},Rz=class extends kz{constructor(e){super()}};const Oz="^https?:",Dz="^wss?:";function Mz(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function xI(t,e){const r=Mz(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function N3(t){return xI(t,Oz)}function T3(t){return xI(t,Dz)}function $z(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function NI(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function Sb(t){return NI(t)&&"method"in t}function hg(t){return NI(t)&&(zi(t)||Wn(t))}function zi(t){return"result"in t}function Wn(t){return"error"in t}let si=class extends Rz{constructor(e){super(e),this.events=new ti.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(wo(e.method,e.params||[],e.id||ha().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Wn(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),hg(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Uz=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Lz=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",P3=t=>t.split("?")[0],k3=10,Fz=Uz();let Bz=class{constructor(e){if(this.url=e,this.events=new ti.EventEmitter,this.registering=!1,!T3(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ls(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!T3(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=II.isReactNative()?void 0:{rejectUnauthorized:!$z(e)},s=new Fz(e,[],i);Lz()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?ka(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=fg(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return SI(e,P3(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>k3&&this.events.setMaxListeners(k3)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${P3(this.url)}`));return this.events.emit("register_error",r),r}};const TI="wc",PI=2,cv="core",ts=`${TI}@2:${cv}:`,jz={logger:"error"},zz={database:":memory:"},Hz="crypto",R3="client_ed25519_seed",qz=Y.ONE_DAY,Wz="keychain",Vz="0.3",Kz="messages",Gz="0.3",O3=Y.SIX_HOURS,Qz="publisher",kI="irn",Yz="error",RI="wss://relay.walletconnect.org",Jz="relayer",yr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Zz="_subscription",Fn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Xz=.1,uv="2.19.1",ut={link_mode:"link_mode",relay:"relay"},ip={inbound:"inbound",outbound:"outbound"},eH="0.3",tH="WALLETCONNECT_CLIENT_ID",D3="WALLETCONNECT_LINK_MODE_APPS",xn={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},rH="subscription",nH="0.3",iH="pairing",sH="0.3",Il={wc_pairingDelete:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Y.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Y.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:0},res:{ttl:Y.ONE_DAY,prompt:!1,tag:0}}},aa={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},li={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},oH="history",aH="0.3",cH="expirer",qn={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},uH="0.3",lH="verify-api",dH="https://verify.walletconnect.com",OI="https://verify.walletconnect.org",id=OI,fH=`${id}/v3`,hH=[dH,OI],pH="echo",gH="https://echo.walletconnect.com",Fi={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},bs={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},di={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Jo={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Zo={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},xl={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},mH=.1,yH="event-client",wH=86400,vH="https://pulse.walletconnect.org/batch";function bH(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,_=0,v=0,w=g.length;v!==w&&g[v]===0;)v++,y++;for(var A=(w-v)*l+1>>>0,P=new Uint8Array(A);v!==w;){for(var R=g[v],D=0,M=A-1;(R!==0||D<_)&&M!==-1;M--,D++)R+=256*P[M]>>>0,P[M]=R%a>>>0,R=R/a>>>0;if(R!==0)throw new Error("Non-zero carry");_=D,v++}for(var L=A-_;L!==A&&P[L]===0;)L++;for(var $=c.repeat(y);L<A;++L)$+=t.charAt(P[L]);return $}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var _=0,v=0;g[y]===c;)_++,y++;for(var w=(g.length-y)*u+1>>>0,A=new Uint8Array(w);g[y];){var P=r[g.charCodeAt(y)];if(P===255)return;for(var R=0,D=w-1;(P!==0||R<v)&&D!==-1;D--,R++)P+=a*A[D]>>>0,A[D]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");v=R,y++}if(g[y]!==" "){for(var M=w-v;M!==w&&A[M]===0;)M++;for(var L=new Uint8Array(_+(w-M)),$=_;M!==w;)L[$++]=A[M++];return L}}}function h(g){var y=f(g);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var EH=bH,AH=EH;const DI=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},CH=t=>new TextEncoder().encode(t),_H=t=>new TextDecoder().decode(t);class SH{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class IH{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return MI(this,e)}}class xH{constructor(e){this.decoders=e}or(e){return MI(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const MI=(t,e)=>new xH({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class NH{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new SH(e,r,n),this.decoder=new IH(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const pg=({name:t,prefix:e,encode:r,decode:n})=>new NH(t,e,r,n),Bf=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=AH(r,e);return pg({prefix:t,name:e,encode:n,decode:s=>DI(i(s))})},TH=(t,e,r,n)=>{const i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,u=0;for(let l=0;l<s;++l){const d=i[t[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},PH=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Ur=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>pg({prefix:e,name:t,encode(i){return PH(i,n,r)},decode(i){return TH(i,n,r,t)}}),kH=pg({prefix:"\0",name:"identity",encode:t=>_H(t),decode:t=>CH(t)});var RH=Object.freeze({__proto__:null,identity:kH});const OH=Ur({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var DH=Object.freeze({__proto__:null,base2:OH});const MH=Ur({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var $H=Object.freeze({__proto__:null,base8:MH});const UH=Bf({prefix:"9",name:"base10",alphabet:"0123456789"});var LH=Object.freeze({__proto__:null,base10:UH});const FH=Ur({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),BH=Ur({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var jH=Object.freeze({__proto__:null,base16:FH,base16upper:BH});const zH=Ur({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),HH=Ur({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),qH=Ur({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),WH=Ur({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),VH=Ur({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),KH=Ur({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),GH=Ur({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),QH=Ur({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),YH=Ur({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var JH=Object.freeze({__proto__:null,base32:zH,base32upper:HH,base32pad:qH,base32padupper:WH,base32hex:VH,base32hexupper:KH,base32hexpad:GH,base32hexpadupper:QH,base32z:YH});const ZH=Bf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),XH=Bf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var eq=Object.freeze({__proto__:null,base36:ZH,base36upper:XH});const tq=Bf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),rq=Bf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var nq=Object.freeze({__proto__:null,base58btc:tq,base58flickr:rq});const iq=Ur({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),sq=Ur({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),oq=Ur({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),aq=Ur({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var cq=Object.freeze({__proto__:null,base64:iq,base64pad:sq,base64url:oq,base64urlpad:aq});const $I=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),uq=$I.reduce((t,e,r)=>(t[r]=e,t),[]),lq=$I.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function dq(t){return t.reduce((e,r)=>(e+=uq[r],e),"")}function fq(t){const e=[];for(const r of t){const n=lq[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const hq=pg({prefix:"🚀",name:"base256emoji",encode:dq,decode:fq});var pq=Object.freeze({__proto__:null,base256emoji:hq}),gq=UI,M3=128,mq=-128,yq=Math.pow(2,31);function UI(t,e,r){e=e||[],r=r||0;for(var n=r;t>=yq;)e[r++]=t&255|M3,t/=128;for(;t&mq;)e[r++]=t&255|M3,t>>>=7;return e[r]=t|0,UI.bytes=r-n+1,e}var wq=lv,vq=128,$3=127;function lv(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw lv.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&$3)<<i:(o&$3)*Math.pow(2,i),i+=7}while(o>=vq);return lv.bytes=s-n,r}var bq=Math.pow(2,7),Eq=Math.pow(2,14),Aq=Math.pow(2,21),Cq=Math.pow(2,28),_q=Math.pow(2,35),Sq=Math.pow(2,42),Iq=Math.pow(2,49),xq=Math.pow(2,56),Nq=Math.pow(2,63),Tq=function(t){return t<bq?1:t<Eq?2:t<Aq?3:t<Cq?4:t<_q?5:t<Sq?6:t<Iq?7:t<xq?8:t<Nq?9:10},Pq={encode:gq,decode:wq,encodingLength:Tq},LI=Pq;const U3=(t,e,r=0)=>(LI.encode(t,e,r),e),L3=t=>LI.encodingLength(t),dv=(t,e)=>{const r=e.byteLength,n=L3(t),i=n+L3(r),s=new Uint8Array(i+r);return U3(t,s,0),U3(r,s,n),s.set(e,i),new kq(t,r,e,s)};class kq{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const FI=({name:t,code:e,encode:r})=>new Rq(t,e,r);class Rq{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?dv(this.code,r):r.then(n=>dv(this.code,n))}else throw Error("Unknown type, must be binary type")}}const BI=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Oq=FI({name:"sha2-256",code:18,encode:BI("SHA-256")}),Dq=FI({name:"sha2-512",code:19,encode:BI("SHA-512")});var Mq=Object.freeze({__proto__:null,sha256:Oq,sha512:Dq});const jI=0,$q="identity",zI=DI,Uq=t=>dv(jI,zI(t)),Lq={code:jI,name:$q,encode:zI,digest:Uq};var Fq=Object.freeze({__proto__:null,identity:Lq});new TextEncoder,new TextDecoder;const F3={...RH,...DH,...$H,...LH,...jH,...JH,...eq,...nq,...cq,...pq};({...Mq,...Fq});function Bq(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function HI(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const B3=HI("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ay=HI("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Bq(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),jq={utf8:B3,"utf-8":B3,hex:F3.base16,latin1:ay,ascii:ay,binary:ay,...F3};function zq(t,e="utf8"){const r=jq[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}var Hq=Object.defineProperty,qq=(t,e,r)=>e in t?Hq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$i=(t,e,r)=>qq(t,typeof e!="symbol"?e+"":e,r);class Wq{constructor(e,r){this.core=e,this.logger=r,$i(this,"keychain",new Map),$i(this,"name",Wz),$i(this,"version",Vz),$i(this,"initialized",!1),$i(this,"storagePrefix",ts),$i(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),$i(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),$i(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),$i(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=Z("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),$i(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=Gr(r,this.name)}get context(){return An(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Xw(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ev(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Vq=Object.defineProperty,Kq=(t,e,r)=>e in t?Vq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ir=(t,e,r)=>Kq(t,typeof e!="symbol"?e+"":e,r);class Gq{constructor(e,r,n){this.core=e,this.logger=r,Ir(this,"name",Hz),Ir(this,"keychain"),Ir(this,"randomSessionIdentifier",av()),Ir(this,"initialized",!1),Ir(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Ir(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Ir(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=gA(i);return M6(s.publicKey)}),Ir(this,"generateKeyPair",()=>{this.isInitialized();const i=_j();return this.setPrivateKey(i.publicKey,i.privateKey)}),Ir(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=gA(s),a=this.randomSessionIdentifier;return await aD(a,i,qz,o)}),Ir(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=Sj(a,s);return this.setSymKey(c,o)}),Ir(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||np(i);return await this.keychain.set(o,i),o}),Ir(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Ir(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Ir(this,"encode",async(i,s,o)=>{this.isInitialized();const a=bI(o),c=Ls(s);if(m3(a))return Nj(c,o==null?void 0:o.encoding);if(g3(a)){const f=a.senderPublicKey,h=a.receiverPublicKey;i=await this.generateSharedKey(f,h)}const u=this.getSymKey(i),{type:l,senderPublicKey:d}=a;return Ij({type:l,symKey:u,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),Ir(this,"decode",async(i,s,o)=>{this.isInitialized();const a=Pj(s,o);if(m3(a)){const c=Tj(s,o==null?void 0:o.encoding);return ka(c)}if(g3(a)){const c=a.receiverPublicKey,u=a.senderPublicKey;i=await this.generateSharedKey(c,u)}try{const c=this.getSymKey(i),u=xj({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return ka(u)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Ir(this,"getPayloadType",(i,s=yo)=>{const o=Ud({encoded:i,encoding:s});return Ma(o.type)}),Ir(this,"getPayloadSenderPublicKey",(i,s=yo)=>{const o=Ud({encoded:i,encoding:s});return o.senderPublicKey?Zr(o.senderPublicKey,Wr):void 0}),this.core=e,this.logger=Gr(r,this.name),this.keychain=n||new Wq(this.core,this.logger)}get context(){return An(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(R3)}catch{e=av(),await this.keychain.set(R3,e)}return zq(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Qq=Object.defineProperty,Yq=Object.defineProperties,Jq=Object.getOwnPropertyDescriptors,j3=Object.getOwnPropertySymbols,Zq=Object.prototype.hasOwnProperty,Xq=Object.prototype.propertyIsEnumerable,fv=(t,e,r)=>e in t?Qq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,eW=(t,e)=>{for(var r in e||(e={}))Zq.call(e,r)&&fv(t,r,e[r]);if(j3)for(var r of j3(e))Xq.call(e,r)&&fv(t,r,e[r]);return t},tW=(t,e)=>Yq(t,Jq(e)),Sn=(t,e,r)=>fv(t,typeof e!="symbol"?e+"":e,r);class rW extends s7{constructor(e,r){super(e,r),this.logger=e,this.core=r,Sn(this,"messages",new Map),Sn(this,"messagesWithoutClientAck",new Map),Sn(this,"name",Kz),Sn(this,"version",Gz),Sn(this,"initialized",!1),Sn(this,"storagePrefix",ts),Sn(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Sn(this,"set",async(n,i,s)=>{this.isInitialized();const o=Hi(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===ip.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,tW(eW({},c),{[o]:i}))}return await this.persist(),o}),Sn(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),Sn(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Sn(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=Hi(i);return typeof s[o]<"u"}),Sn(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=Hi(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),Sn(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=Gr(e,this.name),this.core=r}get context(){return An(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Xw(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,Xw(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ev(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?ev(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}}var nW=Object.defineProperty,iW=Object.defineProperties,sW=Object.getOwnPropertyDescriptors,z3=Object.getOwnPropertySymbols,oW=Object.prototype.hasOwnProperty,aW=Object.prototype.propertyIsEnumerable,hv=(t,e,r)=>e in t?nW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ih=(t,e)=>{for(var r in e||(e={}))oW.call(e,r)&&hv(t,r,e[r]);if(z3)for(var r of z3(e))aW.call(e,r)&&hv(t,r,e[r]);return t},cy=(t,e)=>iW(t,sW(e)),fi=(t,e,r)=>hv(t,typeof e!="symbol"?e+"":e,r);class cW extends o7{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,fi(this,"events",new ti.EventEmitter),fi(this,"name",Qz),fi(this,"queue",new Map),fi(this,"publishTimeout",Y.toMiliseconds(Y.ONE_MINUTE)),fi(this,"initialPublishTimeout",Y.toMiliseconds(Y.ONE_SECOND*15)),fi(this,"needsTransportRestart",!1),fi(this,"publish",async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||O3,c=Jp(s),u=(s==null?void 0:s.prompt)||!1,l=(s==null?void 0:s.tag)||0,d=(s==null?void 0:s.id)||ha().toString(),f={topic:n,message:i,opts:{ttl:a,relay:c,prompt:u,tag:l,id:d,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}},h=`Failed to publish payload, please try again. id:${d} tag:${l}`;try{const g=new Promise(async y=>{const _=({id:w})=>{f.opts.id===w&&(this.removeRequestFromQueue(w),this.relayer.events.removeListener(yr.publish,_),y(f))};this.relayer.events.on(yr.publish,_);const v=mo(new Promise((w,A)=>{this.rpcPublish({topic:n,message:i,ttl:a,prompt:u,tag:l,id:d,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}).then(w).catch(P=>{this.logger.warn(P,P==null?void 0:P.message),A(P)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${l}`);try{await v,this.events.removeListener(yr.publish,_)}catch(w){this.queue.set(d,cy(Ih({},f),{attempt:1})),this.logger.warn(w,w==null?void 0:w.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:n,message:i,opts:s}}),await mo(g,this.publishTimeout,h)}catch(g){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(g),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw g}finally{this.queue.delete(d)}}),fi(this,"on",(n,i)=>{this.events.on(n,i)}),fi(this,"once",(n,i)=>{this.events.once(n,i)}),fi(this,"off",(n,i)=>{this.events.off(n,i)}),fi(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=Gr(r,this.name),this.registerEventListeners()}get context(){return An(this.logger)}async rpcPublish(e){var r,n,i,s;const{topic:o,message:a,ttl:c=O3,prompt:u,tag:l,id:d,attestation:f,tvf:h}=e,g={method:zl(Jp().protocol).publish,params:Ih({topic:o,message:a,ttl:c,prompt:u,tag:l,attestation:f},h),id:d};Pr((r=g.params)==null?void 0:r.prompt)&&((n=g.params)==null||delete n.prompt),Pr((i=g.params)==null?void 0:i.tag)&&((s=g.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:g});const y=await this.relayer.request(g);return this.relayer.events.emit(yr.publish,e),this.logger.debug("Successfully Published Payload"),y}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{const n=e.attempt+1;this.queue.set(r,cy(Ih({},e),{attempt:n}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${n}`),await this.rpcPublish(cy(Ih({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Uu.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(yr.connection_stalled);return}this.checkQueue()}),this.relayer.on(yr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var uW=Object.defineProperty,lW=(t,e,r)=>e in t?uW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fc=(t,e,r)=>lW(t,typeof e!="symbol"?e+"":e,r);class dW{constructor(){fc(this,"map",new Map),fc(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),fc(this,"get",e=>this.map.get(e)||[]),fc(this,"exists",(e,r)=>this.get(e).includes(r)),fc(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),fc(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var fW=Object.defineProperty,hW=Object.defineProperties,pW=Object.getOwnPropertyDescriptors,H3=Object.getOwnPropertySymbols,gW=Object.prototype.hasOwnProperty,mW=Object.prototype.propertyIsEnumerable,pv=(t,e,r)=>e in t?fW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nl=(t,e)=>{for(var r in e||(e={}))gW.call(e,r)&&pv(t,r,e[r]);if(H3)for(var r of H3(e))mW.call(e,r)&&pv(t,r,e[r]);return t},uy=(t,e)=>hW(t,pW(e)),Xe=(t,e,r)=>pv(t,typeof e!="symbol"?e+"":e,r);class yW extends u7{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,Xe(this,"subscriptions",new Map),Xe(this,"topicMap",new dW),Xe(this,"events",new ti.EventEmitter),Xe(this,"name",rH),Xe(this,"version",nH),Xe(this,"pending",new Map),Xe(this,"cached",[]),Xe(this,"initialized",!1),Xe(this,"storagePrefix",ts),Xe(this,"subscribeTimeout",Y.toMiliseconds(Y.ONE_MINUTE)),Xe(this,"initialSubscribeTimeout",Y.toMiliseconds(Y.ONE_SECOND*15)),Xe(this,"clientId"),Xe(this,"batchSubscribeTopicsLimit",500),Xe(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Xe(this,"subscribe",async(n,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=Jp(i),o={topic:n,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),Xe(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),Xe(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),Xe(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),Xe(this,"on",(n,i)=>{this.events.on(n,i)}),Xe(this,"once",(n,i)=>{this.events.once(n,i)}),Xe(this,"off",(n,i)=>{this.events.off(n,i)}),Xe(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),Xe(this,"start",async()=>{await this.onConnect()}),Xe(this,"stop",async()=>{await this.onDisconnect()}),Xe(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Xe(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),Xe(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Uu.pulse,async()=>{await this.checkPending()}),this.events.on(xn.created,async n=>{const i=xn.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(xn.deleted,async n=>{const i=xn.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=Gr(r,this.name),this.clientId=""}get context(){return An(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=Jp(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=Ye("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i;(!n||(n==null?void 0:n.transportType)===ut.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const s={method:zl(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((n==null?void 0:n.transportType)===ut.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(l=>this.logger.warn(l))},Y.toMiliseconds(Y.ONE_SECOND)),a;const c=new Promise(async l=>{const d=f=>{f.topic===e&&(this.events.removeListener(xn.created,d),l(f.id))};this.events.on(xn.created,d);try{const f=await mo(new Promise((h,g)=>{this.relayer.request(s).catch(y=>{this.logger.warn(y,y==null?void 0:y.message),g(y)}).then(h)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(xn.created,d),l(f)}catch{}}),u=await mo(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return u?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(yr.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:zl(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await mo(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(yr.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:zl(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await mo(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(yr.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:zl(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,uy(Nl({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,Nl({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,Nl({},r)),this.topicMap.set(r.topic,e),this.events.emit(xn.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=Z("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(xn.deleted,uy(Nl({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(xn.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(xn.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=Z("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>uy(Nl({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await UF(Y.toMiliseconds(Y.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Hi(e+await this.getClientId())}}var wW=Object.defineProperty,q3=Object.getOwnPropertySymbols,vW=Object.prototype.hasOwnProperty,bW=Object.prototype.propertyIsEnumerable,gv=(t,e,r)=>e in t?wW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,W3=(t,e)=>{for(var r in e||(e={}))vW.call(e,r)&&gv(t,r,e[r]);if(q3)for(var r of q3(e))bW.call(e,r)&&gv(t,r,e[r]);return t},Me=(t,e,r)=>gv(t,typeof e!="symbol"?e+"":e,r);class EW extends a7{constructor(e){super(e),Me(this,"protocol","wc"),Me(this,"version",2),Me(this,"core"),Me(this,"logger"),Me(this,"events",new ti.EventEmitter),Me(this,"provider"),Me(this,"messages"),Me(this,"subscriber"),Me(this,"publisher"),Me(this,"name",Jz),Me(this,"transportExplicitlyClosed",!1),Me(this,"initialized",!1),Me(this,"connectionAttemptInProgress",!1),Me(this,"relayUrl"),Me(this,"projectId"),Me(this,"packageName"),Me(this,"bundleId"),Me(this,"hasExperiencedNetworkDisruption",!1),Me(this,"pingTimeout"),Me(this,"heartBeatTimeout",Y.toMiliseconds(Y.THIRTY_SECONDS+Y.FIVE_SECONDS)),Me(this,"reconnectTimeout"),Me(this,"connectPromise"),Me(this,"reconnectInProgress",!1),Me(this,"requestsInFlight",[]),Me(this,"connectTimeout",Y.toMiliseconds(Y.ONE_SECOND*15)),Me(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||ha().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),Me(this,"resetPingTimeout",()=>{Qp()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),Me(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),Me(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(yr.connect)}),Me(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),Me(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(yr.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Me(this,"registerProviderListeners",()=>{this.provider.on(Fn.payload,this.onPayloadHandler),this.provider.on(Fn.connect,this.onConnectHandler),this.provider.on(Fn.disconnect,this.onDisconnectHandler),this.provider.on(Fn.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Gr(e.logger,this.name):xf(Lu({level:e.logger||Yz})),this.messages=new rW(this.logger,e.core),this.subscriber=new yW(this,this.logger),this.publisher=new cW(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||RI,this.projectId=e.projectId,AF()?this.packageName=zA():CF()&&(this.bundleId=zA()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return An(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:ut.relay},ip.outbound)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const u=l=>{l.topic===e&&(this.subscriber.off(xn.created,u),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on(xn.created,u)}),new Promise(async(l,d)=>{a=await this.subscriber.subscribe(e,W3({internal:{throwOnFailedPublish:o}},r)).catch(f=>{o&&d(f)})||a,l()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await mo(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await _3())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=cr(Y.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(yr.message,e),await this.recordMessageEvent(e,ip.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Fn.disconnect,s),await mo(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Fn.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Fn.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Fn.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,Y.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(Qp())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new si(new Bz(xF({sdkVersion:uv,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Sb(e)){if(!e.method.endsWith(Zz))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:ut.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(W3({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else hg(e)&&this.events.emit(yr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,ip.inbound),this.events.emit(yr.message,e))}async acknowledgePayload(e){const r=dg(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Fn.payload,this.onPayloadHandler),this.provider.off(Fn.connect,this.onConnectHandler),this.provider.off(Fn.disconnect,this.onDisconnectHandler),this.provider.off(Fn.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await _3();yz(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(yr.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Y.toMiliseconds(Xz)))))}isInitialized(){if(!this.initialized){const{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function AW(){}function V3(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function K3(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function G3(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const CW="[object RegExp]",_W="[object String]",SW="[object Number]",IW="[object Boolean]",Q3="[object Arguments]",xW="[object Symbol]",NW="[object Date]",TW="[object Map]",PW="[object Set]",kW="[object Array]",RW="[object Function]",OW="[object ArrayBuffer]",ly="[object Object]",DW="[object Error]",MW="[object DataView]",$W="[object Uint8Array]",UW="[object Uint8ClampedArray]",LW="[object Uint16Array]",FW="[object Uint32Array]",BW="[object BigUint64Array]",jW="[object Int8Array]",zW="[object Int16Array]",HW="[object Int32Array]",qW="[object BigInt64Array]",WW="[object Float32Array]",VW="[object Float64Array]";function KW(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function GW(t,e,r){return ql(t,e,void 0,void 0,void 0,void 0,r)}function ql(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return sd(t,e,s,o)}return sd(t,e,s,o)}function sd(t,e,r,n){if(Object.is(t,e))return!0;let i=G3(t),s=G3(e);if(i===Q3&&(i=ly),s===Q3&&(s=ly),i!==s)return!1;switch(i){case _W:return t.toString()===e.toString();case SW:{const c=t.valueOf(),u=e.valueOf();return KW(c,u)}case IW:case NW:case xW:return Object.is(t.valueOf(),e.valueOf());case CW:return t.source===e.source&&t.flags===e.flags;case RW:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case TW:{if(t.size!==e.size)return!1;for(const[c,u]of t.entries())if(!e.has(c)||!ql(u,e.get(c),c,t,e,r,n))return!1;return!0}case PW:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),u=Array.from(e.values());for(let l=0;l<c.length;l++){const d=c[l],f=u.findIndex(h=>ql(d,h,void 0,t,e,r,n));if(f===-1)return!1;u.splice(f,1)}return!0}case kW:case $W:case UW:case LW:case FW:case BW:case jW:case zW:case HW:case qW:case WW:case VW:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!ql(t[c],e[c],c,t,e,r,n))return!1;return!0}case OW:return t.byteLength!==e.byteLength?!1:sd(new Uint8Array(t),new Uint8Array(e),r,n);case MW:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:sd(new Uint8Array(t),new Uint8Array(e),r,n);case DW:return t.name===e.name&&t.message===e.message;case ly:{if(!(sd(t.constructor,e.constructor,r,n)||V3(t)&&V3(e)))return!1;const c=[...Object.keys(t),...K3(t)],u=[...Object.keys(e),...K3(e)];if(c.length!==u.length)return!1;for(let l=0;l<c.length;l++){const d=c[l],f=t[d];if(!Object.hasOwn(e,d))return!1;const h=e[d];if(!ql(f,h,d,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function QW(t,e){return GW(t,e,AW)}var YW=Object.defineProperty,Y3=Object.getOwnPropertySymbols,JW=Object.prototype.hasOwnProperty,ZW=Object.prototype.propertyIsEnumerable,mv=(t,e,r)=>e in t?YW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,J3=(t,e)=>{for(var r in e||(e={}))JW.call(e,r)&&mv(t,r,e[r]);if(Y3)for(var r of Y3(e))ZW.call(e,r)&&mv(t,r,e[r]);return t},cn=(t,e,r)=>mv(t,typeof e!="symbol"?e+"":e,r);class rc extends c7{constructor(e,r,n,i=ts,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,cn(this,"map",new Map),cn(this,"version",eH),cn(this,"cached",[]),cn(this,"initialized",!1),cn(this,"getKey"),cn(this,"storagePrefix",ts),cn(this,"recentlyDeleted",[]),cn(this,"recentlyDeletedLimit",200),cn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Pr(o)?this.map.set(this.getKey(o),o):Gj(o)?this.map.set(o.id,o):Qj(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),cn(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),cn(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),cn(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>QW(a[c],o[c]))):this.values)),cn(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=J3(J3({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),cn(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Gr(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return An(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=Z("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=Z("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=Z("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}}var XW=Object.defineProperty,eV=(t,e,r)=>e in t?XW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Te=(t,e,r)=>eV(t,typeof e!="symbol"?e+"":e,r);class tV{constructor(e,r){this.core=e,this.logger=r,Te(this,"name",iH),Te(this,"version",sH),Te(this,"events",new G1),Te(this,"pairings"),Te(this,"initialized",!1),Te(this,"storagePrefix",ts),Te(this,"ignoredPayloadTypes",[Ps]),Te(this,"registeredMethods",[]),Te(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Te(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Te(this,"create",async n=>{this.isInitialized();const i=av(),s=await this.core.crypto.setSymKey(i),o=cr(Y.FIVE_MINUTES),a={protocol:kI},c={topic:s,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},u=w3({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(aa.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n==null?void 0:n.transportType}),{topic:s,uri:u}}),Te(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[Fi.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:u}=y3(n.uri);i.props.properties.topic=s,i.addTrace(Fi.pairing_uri_validation_success),i.addTrace(Fi.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(s)){if(l=this.pairings.get(s),i.addTrace(Fi.existing_pairing),l.active)throw i.setError(bs.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Fi.pairing_not_expired)}const d=c||cr(Y.FIVE_MINUTES),f={topic:s,relay:a,expiry:d,active:!1,methods:u};this.core.expirer.set(s,d),await this.pairings.set(s,f),i.addTrace(Fi.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(aa.create,f),i.addTrace(Fi.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Fi.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(bs.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(h){throw i.setError(bs.subscribe_pairing_topic_failure),h}return i.addTrace(Fi.subscribe_pairing_topic_success),f}),Te(this,"activate",async({topic:n})=>{this.isInitialized();const i=cr(Y.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),Te(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=ra();this.events.once(Be("pairing_ping",s),({error:u})=>{u?c(u):a()}),await o()}}),Te(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),Te(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),Te(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Te(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Ye("USER_DISCONNECTED")),await this.deletePairing(i))}),Te(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(i);return w3({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),Te(this,"sendRequest",async(n,i,s)=>{const o=wo(i,s),a=await this.core.crypto.encode(n,o),c=Il[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),Te(this,"sendResult",async(n,i,s)=>{const o=dg(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,u=Il[c].res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),Te(this,"sendError",async(n,i,s)=>{const o=fg(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,u=Il[c]?Il[c].res:Il.unregistered_method.res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),Te(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Ye("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),Te(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>oo(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),Te(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Te(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Te(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(aa.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Te(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{zi(i)?this.events.emit(Be("pairing_ping",s),{}):Wn(i)&&this.events.emit(Be("pairing_ping",s),{error:i.error})},500)}),Te(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(aa.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Te(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Ye("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),Te(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(Ye("WC_METHOD_UNSUPPORTED",n))}),Te(this,"isValidPair",(n,i)=>{var s;if(!fn(n)){const{message:a}=Z("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(bs.malformed_pairing_uri),new Error(a)}if(!Kj(n.uri)){const{message:a}=Z("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(bs.malformed_pairing_uri),new Error(a)}const o=y3(n==null?void 0:n.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=Z("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(bs.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Z("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(bs.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Y.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(bs.pairing_expired);const{message:a}=Z("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Te(this,"isValidPing",async n=>{if(!fn(n)){const{message:s}=Z("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Te(this,"isValidDisconnect",async n=>{if(!fn(n)){const{message:s}=Z("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Te(this,"isValidPairingTopic",async n=>{if(!ir(n,!1)){const{message:i}=Z("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=Z("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(oo(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=Z("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=Gr(r,this.name),this.pairings=new rc(this.core,this.logger,this.name,this.storagePrefix)}get context(){return An(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(yr.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==ut.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);Sb(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):hg(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(qn.expired,async e=>{const{topic:r}=Y4(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(aa.expire,{topic:r}))})}}var rV=Object.defineProperty,nV=(t,e,r)=>e in t?rV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xr=(t,e,r)=>nV(t,typeof e!="symbol"?e+"":e,r);class iV extends i7{constructor(e,r){super(e,r),this.core=e,this.logger=r,xr(this,"records",new Map),xr(this,"events",new ti.EventEmitter),xr(this,"name",oH),xr(this,"version",aH),xr(this,"cached",[]),xr(this,"initialized",!1),xr(this,"storagePrefix",ts),xr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),xr(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:cr(Y.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(li.created,o)}),xr(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Wn(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(li.updated,i))}),xr(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),xr(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(li.deleted,s)}}),this.persist()}),xr(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),xr(this,"on",(n,i)=>{this.events.on(n,i)}),xr(this,"once",(n,i)=>{this.events.once(n,i)}),xr(this,"off",(n,i)=>{this.events.off(n,i)}),xr(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Gr(r,this.name)}get context(){return An(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:wo(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=Z("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(li.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=Z("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(li.created,e=>{const r=li.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(li.updated,e=>{const r=li.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(li.deleted,e=>{const r=li.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(Uu.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{Y.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(li.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}}var sV=Object.defineProperty,oV=(t,e,r)=>e in t?sV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jr=(t,e,r)=>oV(t,typeof e!="symbol"?e+"":e,r);class aV extends l7{constructor(e,r){super(e,r),this.core=e,this.logger=r,jr(this,"expirations",new Map),jr(this,"events",new ti.EventEmitter),jr(this,"name",cH),jr(this,"version",uH),jr(this,"cached",[]),jr(this,"initialized",!1),jr(this,"storagePrefix",ts),jr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),jr(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),jr(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(qn.created,{target:s,expiration:o})}),jr(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),jr(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(qn.deleted,{target:i,expiration:s})}}),jr(this,"on",(n,i)=>{this.events.on(n,i)}),jr(this,"once",(n,i)=>{this.events.once(n,i)}),jr(this,"off",(n,i)=>{this.events.off(n,i)}),jr(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Gr(r,this.name)}get context(){return An(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return NF(e);if(typeof e=="number")return TF(e);const{message:r}=Z("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(qn.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=Z("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=Z("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;Y.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(qn.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Uu.pulse,()=>this.checkExpirations()),this.events.on(qn.created,e=>{const r=qn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(qn.expired,e=>{const r=qn.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(qn.deleted,e=>{const r=qn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}}var cV=Object.defineProperty,uV=(t,e,r)=>e in t?cV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nr=(t,e,r)=>uV(t,typeof e!="symbol"?e+"":e,r);class lV extends d7{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,nr(this,"name",lH),nr(this,"abortController"),nr(this,"isDevEnv"),nr(this,"verifyUrlV3",fH),nr(this,"storagePrefix",ts),nr(this,"version",PI),nr(this,"publicKey"),nr(this,"fetchPromise"),nr(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Y.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),nr(this,"register",async i=>{if(!Mf()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const u=Pf(),l=this.startAbortTimer(Y.ONE_SECOND*5),d=await new Promise((f,h)=>{const g=()=>{window.removeEventListener("message",_),u.body.removeChild(y),h("attestation aborted")};this.abortController.signal.addEventListener("abort",g);const y=u.createElement("iframe");y.src=c,y.style.display="none",y.addEventListener("error",g,{signal:this.abortController.signal});const _=v=>{if(v.data&&typeof v.data=="string")try{const w=JSON.parse(v.data);if(w.type==="verify_attestation"){if(zw(w.attestation).payload.id!==o)return;clearInterval(l),u.body.removeChild(y),this.abortController.signal.removeEventListener("abort",g),window.removeEventListener("message",_),f(w.attestation===null?"":w.attestation)}}catch(w){this.logger.warn(w)}};u.body.appendChild(y),window.addEventListener("message",_,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(u){this.logger.warn(u)}return""}),nr(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(zw(s).payload.id!==a)return;const u=await this.isValidJwtAttestation(s);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)}),nr(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(Y.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),nr(this,"getVerifyUrl",i=>{let s=i||id;return hH.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${id}`),s=id),s}),nr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Y.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),nr(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),nr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),nr(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),nr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),nr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),nr(this,"validateAttestation",(i,s)=>{const o=Dj(i,s.publicKey),a={hasExpired:Y.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Gr(r,this.name),this.abortController=new AbortController,this.isDevEnv=gb(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return An(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Y.toMiliseconds(e))}}var dV=Object.defineProperty,fV=(t,e,r)=>e in t?dV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Z3=(t,e,r)=>fV(t,typeof e!="symbol"?e+"":e,r);class hV extends f7{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,Z3(this,"context",pH),Z3(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${gH}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Gr(r,this.context)}}var pV=Object.defineProperty,X3=Object.getOwnPropertySymbols,gV=Object.prototype.hasOwnProperty,mV=Object.prototype.propertyIsEnumerable,yv=(t,e,r)=>e in t?pV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Tl=(t,e)=>{for(var r in e||(e={}))gV.call(e,r)&&yv(t,r,e[r]);if(X3)for(var r of X3(e))mV.call(e,r)&&yv(t,r,e[r]);return t},hr=(t,e,r)=>yv(t,typeof e!="symbol"?e+"":e,r);class yV extends h7{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,hr(this,"context",yH),hr(this,"storagePrefix",ts),hr(this,"storageVersion",mH),hr(this,"events",new Map),hr(this,"shouldPersist",!1),hr(this,"init",async()=>{if(!gb())try{const i={eventId:qA(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:G4(this.core.relayer.protocol,this.core.relayer.version,uv)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),hr(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,u=qA(),l=this.core.projectId||"",d=Date.now(),f=Tl({eventId:u,timestamp:d,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,f),this.shouldPersist=!0),f}),hr(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Tl(Tl({},a),this.setMethods(a.eventId))}),hr(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),hr(this,"setEventListeners",()=>{this.core.heartbeat.on(Uu.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Y.fromMiliseconds(Date.now())-Y.fromMiliseconds(i.timestamp)>wH&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),hr(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),hr(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),hr(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),hr(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),hr(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Tl(Tl({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),hr(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),hr(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${vH}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${uv}${s}`,{method:"POST",body:JSON.stringify(i)})}),hr(this,"getAppDomain",()=>K4().url),this.logger=Gr(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var wV=Object.defineProperty,eC=Object.getOwnPropertySymbols,vV=Object.prototype.hasOwnProperty,bV=Object.prototype.propertyIsEnumerable,wv=(t,e,r)=>e in t?wV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tC=(t,e)=>{for(var r in e||(e={}))vV.call(e,r)&&wv(t,r,e[r]);if(eC)for(var r of eC(e))bV.call(e,r)&&wv(t,r,e[r]);return t},tt=(t,e,r)=>wv(t,typeof e!="symbol"?e+"":e,r);let EV=class qI extends e7{constructor(e){var r;super(e),tt(this,"protocol",TI),tt(this,"version",PI),tt(this,"name",cv),tt(this,"relayUrl"),tt(this,"projectId"),tt(this,"customStoragePrefix"),tt(this,"events",new ti.EventEmitter),tt(this,"logger"),tt(this,"heartbeat"),tt(this,"relayer"),tt(this,"crypto"),tt(this,"storage"),tt(this,"history"),tt(this,"expirer"),tt(this,"pairing"),tt(this,"verify"),tt(this,"echoClient"),tt(this,"linkModeSupportedApps"),tt(this,"eventClient"),tt(this,"initialized",!1),tt(this,"logChunkController"),tt(this,"on",(o,a)=>this.events.on(o,a)),tt(this,"once",(o,a)=>this.events.once(o,a)),tt(this,"off",(o,a)=>this.events.off(o,a)),tt(this,"removeListener",(o,a)=>this.events.removeListener(o,a)),tt(this,"dispatchEnvelope",({topic:o,message:a,sessionExists:c})=>{if(!o||!a)return;const u={topic:o,message:a,publishedAt:Date.now(),transportType:ut.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:c})}),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||RI,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const n=Lu({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:jz.logger,name:cv}),{logger:i,chunkLoggerController:s}=Y1({opts:n,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=s,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,a;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((a=this.logChunkController)==null||a.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Gr(i,this.name),this.heartbeat=new z9,this.crypto=new Gq(this,this.logger,e==null?void 0:e.keychain),this.history=new iV(this,this.logger),this.expirer=new aV(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new _k(tC(tC({},zz),e==null?void 0:e.storageOptions)),this.relayer=new EW({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new tV(this,this.logger),this.verify=new lV(this,this.logger,this.storage),this.echoClient=new hV(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new yV(this,this.logger,e==null?void 0:e.telemetryEnabled)}static async init(e){const r=new qI(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(tH,n),r}get context(){return An(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(D3,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(D3)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const AV=EV,WI="wc",VI=2,KI="client",Ib=`${WI}@${VI}:${KI}:`,dy={name:KI,logger:"error"},rC="WALLETCONNECT_DEEPLINK_CHOICE",CV="proposal",nC="Proposal expired",_V="session",hc=Y.SEVEN_DAYS,SV="engine",pr={wc_sessionPropose:{req:{ttl:Y.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Y.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Y.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Y.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Y.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Y.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Y.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Y.FIVE_MINUTES,prompt:!1,tag:1119}}},fy={min:Y.FIVE_MINUTES,max:Y.SEVEN_DAYS},Ui={idle:"IDLE",active:"ACTIVE"},iC={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},IV="request",xV=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],NV="wc",TV="auth",PV="authKeys",kV="pairingTopics",RV="requests",gg=`${NV}@${1.5}:${TV}:`,sp=`${gg}:PUB_KEY`;var OV=Object.defineProperty,DV=Object.defineProperties,MV=Object.getOwnPropertyDescriptors,sC=Object.getOwnPropertySymbols,$V=Object.prototype.hasOwnProperty,UV=Object.prototype.propertyIsEnumerable,vv=(t,e,r)=>e in t?OV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,et=(t,e)=>{for(var r in e||(e={}))$V.call(e,r)&&vv(t,r,e[r]);if(sC)for(var r of sC(e))UV.call(e,r)&&vv(t,r,e[r]);return t},Qr=(t,e)=>DV(t,MV(e)),q=(t,e,r)=>vv(t,typeof e!="symbol"?e+"":e,r);class LV extends y7{constructor(e){super(e),q(this,"name",SV),q(this,"events",new G1),q(this,"initialized",!1),q(this,"requestQueue",{state:Ui.idle,queue:[]}),q(this,"sessionRequestQueue",{state:Ui.idle,queue:[]}),q(this,"requestQueueDelay",Y.ONE_SECOND),q(this,"expectedPairingMethodMap",new Map),q(this,"recentlyDeletedMap",new Map),q(this,"recentlyDeletedLimit",200),q(this,"relayMessageCache",[]),q(this,"pendingSessions",new Map),q(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(pr)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Y.toMiliseconds(this.requestQueueDelay)))}),q(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=Qr(et({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:u}=n;let l=i,d,f=!1;try{if(l){const D=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=D.active}}catch(D){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),D}if(!l||!f){const{topic:D,uri:M}=await this.client.core.pairing.create();l=D,d=M}if(!l){const{message:D}=Z("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(D)}const h=await this.client.core.crypto.generateKeyPair(),g=pr.wc_sessionPropose.req.ttl||Y.FIVE_MINUTES,y=cr(g),_=Qr(et(et({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:kI}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:y,pairingTopic:l},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:ji()}),v=Be("session_connect",_.id),{reject:w,resolve:A,done:P}=ra(g,nC),R=({id:D})=>{D===_.id&&(this.client.events.off("proposal_expire",R),this.pendingSessions.delete(_.id),this.events.emit(v,{error:{message:nC,code:0}}))};return this.client.events.on("proposal_expire",R),this.events.once(v,({error:D,session:M})=>{this.client.events.off("proposal_expire",R),D?w(D):M&&A(M)}),await this.sendRequest({topic:l,method:"wc_sessionPropose",params:_,throwOnFailedPublish:!0,clientRpcId:_.id}),await this.setProposal(_.id,_),{uri:d,approval:P}}),q(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),q(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[di.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch($){throw o.setError(Jo.no_internet_connection),$}try{await this.isValidProposalId(r==null?void 0:r.id)}catch($){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(Jo.proposal_not_found),$}try{await this.isValidApprove(r)}catch($){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Jo.session_approve_namespace_validation_failure),$}const{id:a,relayProtocol:c,namespaces:u,sessionProperties:l,scopedProperties:d,sessionConfig:f}=r,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:g,proposer:y,requiredNamespaces:_,optionalNamespaces:v}=h;let w=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:g});w||(w=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:di.session_approve_started,properties:{topic:g,trace:[di.session_approve_started,di.session_namespaces_validation_success]}}));const A=await this.client.core.crypto.generateKeyPair(),P=y.publicKey,R=await this.client.core.crypto.generateSharedKey(A,P),D=et(et(et({relay:{protocol:c??"irn"},namespaces:u,controller:{publicKey:A,metadata:this.client.metadata},expiry:cr(hc)},l&&{sessionProperties:l}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),M=ut.relay;w.addTrace(di.subscribing_session_topic);try{await this.client.core.relayer.subscribe(R,{transportType:M})}catch($){throw w.setError(Jo.subscribe_session_topic_failure),$}w.addTrace(di.subscribe_session_topic_success);const L=Qr(et({},D),{topic:R,requiredNamespaces:_,optionalNamespaces:v,pairingTopic:g,acknowledged:!1,self:D.controller,peer:{publicKey:y.publicKey,metadata:y.metadata},controller:A,transportType:ut.relay});await this.client.session.set(R,L),w.addTrace(di.store_session);try{w.addTrace(di.publishing_session_settle),await this.sendRequest({topic:R,method:"wc_sessionSettle",params:D,throwOnFailedPublish:!0}).catch($=>{throw w==null||w.setError(Jo.session_settle_publish_failure),$}),w.addTrace(di.session_settle_publish_success),w.addTrace(di.publishing_session_approve),await this.sendResult({id:a,topic:g,result:{relay:{protocol:c??"irn"},responderPublicKey:A},throwOnFailedPublish:!0}).catch($=>{throw w==null||w.setError(Jo.session_approve_publish_failure),$}),w.addTrace(di.session_approve_publish_success)}catch($){throw this.client.logger.error($),this.client.session.delete(R,Ye("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(R),$}return this.client.core.eventClient.deleteEvent({eventId:w.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:y.metadata}),await this.client.proposal.delete(a,Ye("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(R,cr(hc)),{topic:R,acknowledged:()=>Promise.resolve(this.client.session.get(R))}}),q(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&(await this.sendError({id:n,topic:s,error:i,rpcOpts:pr.wc_sessionPropose.reject}),await this.client.proposal.delete(n,Ye("USER_DISCONNECTED")))}),q(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=ra(),c=ji(),u=ha().toString(),l=this.client.session.get(n).namespaces;return this.events.once(Be("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:u}).catch(d=>{this.client.logger.error(d),this.client.session.update(n,{namespaces:l}),a(d)}),{acknowledged:s}}),q(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,i=ji(),{done:s,resolve:o,reject:a}=ra();return this.events.once(Be("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,cr(hc)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),q(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(v){throw this.client.logger.error("request() -> isValidRequest() failed"),v}const{chainId:n,request:i,topic:s,expiry:o=pr.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);(a==null?void 0:a.transportType)===ut.relay&&await this.confirmOnlineStateOrThrow();const c=ji(),u=ha().toString(),{done:l,resolve:d,reject:f}=ra(o,"Request expired. Please try again.");this.events.once(Be("session_request",c),({error:v,result:w})=>{v?f(v):d(w)});const h="wc_sessionRequest",g=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(g)return await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:s,method:h,params:{request:Qr(et({},i),{expiryTimestamp:cr(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:g}).catch(v=>f(v)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await l();const y={request:Qr(et({},i),{expiryTimestamp:cr(o)}),chainId:n},_=this.shouldSetTVF(h,y);return await Promise.all([new Promise(async v=>{await this.sendRequest(et({clientRpcId:c,relayRpcId:u,topic:s,method:h,params:y,expiry:o,throwOnFailedPublish:!0},_&&{tvf:this.getTVFParams(c,y)})).catch(w=>f(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),v()}),new Promise(async v=>{var w;if(!((w=a.sessionConfig)!=null&&w.disableDeepLink)){const A=await OF(this.client.core.storage,rC);await PF({id:c,topic:s,wcDeepLink:A})}v()}),l()]).then(v=>v[2])}),q(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===ut.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);zi(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):Wn(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),q(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=ji(),s=ha().toString(),{done:o,resolve:a,reject:c}=ra();this.events.once(Be("session_ping",i),({error:u})=>{u?c(u):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),q(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=ha().toString(),a=ji();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),q(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Ye("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=Z("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),q(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>Wj(n,r)))),q(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),q(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?ut.link_mode:ut.relay;o===ut.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:u,domain:l,nonce:d,type:f,exp:h,nbf:g,methods:y=[],expiry:_}=r,v=[...r.resources||[]],{topic:w,uri:A}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:w,uri:A}});const P=await this.client.core.crypto.generateKeyPair(),R=np(P);if(await Promise.all([this.client.auth.authKeys.set(sp,{responseTopic:R,publicKey:P}),this.client.auth.pairingTopics.set(R,{topic:R,pairingTopic:w})]),await this.client.core.relayer.subscribe(R,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${w}`),y.length>0){const{namespace:S}=ru(a[0]);let m=_B(S,"request",y);rp(v)&&(m=IB(m,v.pop())),v.push(m)}const D=_&&_>pr.wc_sessionAuthenticate.req.ttl?_:pr.wc_sessionAuthenticate.req.ttl,M={authPayload:{type:f??"caip122",chains:a,statement:c,aud:u,domain:l,version:"1",nonce:d,iat:new Date().toISOString(),exp:h,nbf:g,resources:v},requester:{publicKey:P,metadata:this.client.metadata},expiryTimestamp:cr(D)},L={eip155:{chains:a,methods:[...new Set(["personal_sign",...y])],events:["chainChanged","accountsChanged"]}},$={requiredNamespaces:{},optionalNamespaces:L,relays:[{protocol:"irn"}],pairingTopic:w,proposer:{publicKey:P,metadata:this.client.metadata},expiryTimestamp:cr(pr.wc_sessionPropose.req.ttl),id:ji()},{done:F,resolve:x,reject:p}=ra(D,"Request expired"),b=ji(),I=Be("session_connect",$.id),E=Be("session_request",b),C=async({error:S,session:m})=>{this.events.off(E,k),S?p(S):m&&x({session:m})},k=async S=>{var m,T,j;if(await this.deletePendingAuthRequest(b,{message:"fulfilled",code:0}),S.error){const fe=Ye("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return S.error.code===fe.code?void 0:(this.events.off(I,C),p(S.error.message))}await this.deleteProposal($.id),this.events.off(I,C);const{cacaos:H,responder:z}=S.result,Q=[],ae=[];for(const fe of H){await ZA({cacao:fe,projectId:this.client.core.projectId})||(this.client.logger.error(fe,"Signature verification failed"),p(Ye("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Se}=fe,on=rp(Se.resources),Ge=[tv(Se.iss)],at=Yp(Se.iss);if(on){const ls=XA(on),ht=e3(on);Q.push(...ls),Ge.push(...ht)}for(const ls of Ge)ae.push(`${ls}:${at}`)}const le=await this.client.core.crypto.generateSharedKey(P,z.publicKey);let Le;Q.length>0&&(Le={topic:le,acknowledged:!0,self:{publicKey:P,metadata:this.client.metadata},peer:z,controller:z.publicKey,expiry:cr(hc),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:w,namespaces:v3([...new Set(Q)],[...new Set(ae)]),transportType:o},await this.client.core.relayer.subscribe(le,{transportType:o}),await this.client.session.set(le,Le),w&&await this.client.core.pairing.updateMetadata({topic:w,metadata:z.metadata}),Le=this.client.session.get(le)),(m=this.client.metadata.redirect)!=null&&m.linkMode&&(T=z.metadata.redirect)!=null&&T.linkMode&&(j=z.metadata.redirect)!=null&&j.universal&&n&&(this.client.core.addLinkModeSupportedApp(z.metadata.redirect.universal),this.client.session.update(le,{transportType:ut.link_mode})),x({auths:H,session:Le})};this.events.once(I,C),this.events.once(E,k);let N;try{if(s){const S=wo("wc_sessionAuthenticate",M,b);this.client.core.history.set(w,S);const m=await this.client.core.crypto.encode("",S,{type:Ff,encoding:_l});N=Sh(n,w,m)}else await Promise.all([this.sendRequest({topic:w,method:"wc_sessionAuthenticate",params:M,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:b}),this.sendRequest({topic:w,method:"wc_sessionPropose",params:$,expiry:pr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:$.id})])}catch(S){throw this.events.off(I,C),this.events.off(E,k),S}return await this.setProposal($.id,$),await this.setAuthRequest(b,{request:Qr(et({},M),{verifyContext:{}}),pairingTopic:w,transportType:o}),{uri:N??A,response:F}}),q(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Zo.authenticated_session_approve_started]}});try{this.isInitialized()}catch(_){throw s.setError(xl.no_internet_connection),_}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(xl.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||ut.relay;a===ut.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),l=np(c),d={type:Ps,receiverPublicKey:c,senderPublicKey:u},f=[],h=[];for(const _ of i){if(!await ZA({cacao:_,projectId:this.client.core.projectId})){s.setError(xl.invalid_cacao);const R=Ye("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:l,error:R,encodeOpts:d}),new Error(R.message)}s.addTrace(Zo.cacaos_verified);const{p:v}=_,w=rp(v.resources),A=[tv(v.iss)],P=Yp(v.iss);if(w){const R=XA(w),D=e3(w);f.push(...R),A.push(...D)}for(const R of A)h.push(`${R}:${P}`)}const g=await this.client.core.crypto.generateSharedKey(u,c);s.addTrace(Zo.create_authenticated_session_topic);let y;if((f==null?void 0:f.length)>0){y={topic:g,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:cr(hc),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:v3([...new Set(f)],[...new Set(h)]),transportType:a},s.addTrace(Zo.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(g,{transportType:a})}catch(_){throw s.setError(xl.subscribe_authenticated_session_topic_failure),_}s.addTrace(Zo.subscribe_authenticated_session_topic_success),await this.client.session.set(g,y),s.addTrace(Zo.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Zo.publishing_authenticated_session_approve);try{await this.sendResult({topic:l,id:n,result:{cacaos:i,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(_){throw s.setError(xl.authenticated_session_approve_publish_failure),_}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:y}}),q(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===ut.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=np(o),u={type:Ps,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:i,encodeOpts:u,rpcOpts:pr.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,Ye("USER_DISCONNECTED"))}),q(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return sI(n,i)}),q(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),q(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),q(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Ye("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(rC).catch(u=>this.client.logger.warn(u)),this.getPendingSessionRequests().forEach(u=>{u.topic===i&&this.deletePendingSessionRequest(u.id,Ye("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Ui.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),q(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Jo.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Ye("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),q(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=Ui.idle,this.client.events.emit("session_request_expire",{id:r}))}),q(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),q(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),q(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,cr(pr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),q(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=ut.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),q(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||cr(pr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),q(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:u,appLink:l,tvf:d}=r,f=wo(i,s,c);let h;const g=!!l;try{const v=g?_l:yo;h=await this.client.core.crypto.encode(n,f,{encoding:v})}catch(v){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),v}let y;if(xV.includes(i)){const v=Hi(JSON.stringify(f)),w=Hi(h);y=await this.client.core.verify.register({id:w,decryptedId:v})}const _=pr[i].req;if(_.attestation=y,o&&(_.ttl=o),a&&(_.id=a),this.client.core.history.set(n,f),g){const v=Sh(l,n,h);await global.Linking.openURL(v,this.client.name)}else{const v=pr[i].req;o&&(v.ttl=o),a&&(v.id=a),v.tvf=Qr(et({},d),{correlationId:f.id}),u?(v.internal=Qr(et({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,h,v)):this.client.core.relayer.publish(n,h,v).catch(w=>this.client.logger.error(w))}return f.id}),q(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,u=dg(n,s);let l;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const g=d?_l:yo;l=await this.client.core.crypto.encode(i,u,Qr(et({},a||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),g}let f,h;try{f=await this.client.core.history.get(i,n);const g=f.request;try{this.shouldSetTVF(g.method,g.params)&&(h=this.getTVFParams(n,g.params,s))}catch(y){this.client.logger.warn("sendResult() -> getTVFParams() failed",y)}}catch(g){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),g}if(d){const g=Sh(c,i,l);await global.Linking.openURL(g,this.client.name)}else{const g=f.request.method,y=pr[g].res;y.tvf=Qr(et({},h),{correlationId:n}),o?(y.internal=Qr(et({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,l,y)):this.client.core.relayer.publish(i,l,y).catch(_=>this.client.logger.error(_))}await this.client.core.history.resolve(u)}),q(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=r,u=fg(n,s);let l;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const h=d?_l:yo;l=await this.client.core.crypto.encode(i,u,Qr(et({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),h}let f;try{f=await this.client.core.history.get(i,n)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),h}if(d){const h=Sh(c,i,l);await global.Linking.openURL(h,this.client.name)}else{const h=f.request.method,g=a||pr[h].res;this.client.core.relayer.publish(i,l,g)}await this.client.core.history.resolve(u)}),q(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;oo(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{oo(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),q(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),q(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),q(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Ui.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Ui.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Ui.idle}),q(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),q(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),q(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=Z("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),q(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),q(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:c}=i;try{const u=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),u==null||u.setError(bs.proposal_listener_not_found)),this.isValidConnect(et({},i.params));const l=a.expiryTimestamp||cr(pr.wc_sessionPropose.req.ttl),d=et({id:c,pairingTopic:n,expiryTimestamp:l},a);await this.setProposal(c,d);const f=await this.getVerifyContext({attestationId:s,hash:Hi(JSON.stringify(i)),encryptedId:o,metadata:d.proposer.metadata});u==null||u.addTrace(Fi.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:f})}catch(u){await this.sendError({id:c,topic:n,error:u,rpcOpts:pr.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),q(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(zi(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const u=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const l=await this.client.core.crypto.generateSharedKey(c,u);this.pendingSessions.set(s,{sessionTopic:l,pairingTopic:r,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(l,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:r})}else if(Wn(n)){await this.client.proposal.delete(s,Ye("USER_DISCONNECTED"));const o=Be("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),q(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:u,sessionProperties:l,scopedProperties:d,sessionConfig:f}=n.params,h=[...this.pendingSessions.values()].find(_=>_.sessionTopic===r);if(!h)return this.client.logger.error(`Pending session not found for topic ${r}`);const g=this.client.proposal.get(h.proposalId),y=Qr(et(et(et({topic:r,relay:o,expiry:c,namespaces:u,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},l&&{sessionProperties:l}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),{transportType:ut.relay});await this.client.session.set(y.topic,y),await this.setExpiry(y.topic,y.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:y.peer.metadata}),this.client.events.emit("session_connect",{session:y}),this.events.emit(Be("session_connect",h.proposalId),{session:y}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(y),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),q(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;zi(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Be("session_approve",i),{})):Wn(n)&&(await this.client.session.delete(r,Ye("USER_DISCONNECTED")),this.events.emit(Be("session_approve",i),{error:n.error}))}),q(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=Sl.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Ye("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(et({topic:r},i));try{Sl.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0})}catch(c){throw Sl.delete(o),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),q(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),q(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=Be("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);zi(n)?this.events.emit(Be("session_update",i),{}):Wn(n)&&this.events.emit(Be("session_update",i),{error:n.error})}),q(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,cr(hc)),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),q(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=Be("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);zi(n)?this.events.emit(Be("session_extend",i),{}):Wn(n)&&this.events.emit(Be("session_extend",i),{error:n.error})}),q(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),q(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=Be("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);zi(n)?this.events.emit(Be("session_ping",i),{}):Wn(n)&&this.events.emit(Be("session_ping",i),{error:n.error})},500)}),q(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(yr.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Ye("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),q(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:c,encryptedId:u,transportType:l}=r,{id:d,params:f}=a;try{await this.isValidRequest(et({topic:o},f));const h=this.client.session.get(o),g=await this.getVerifyContext({attestationId:c,hash:Hi(JSON.stringify(wo("wc_sessionRequest",f,d))),encryptedId:u,metadata:h.peer.metadata,transportType:l}),y={id:d,topic:o,params:f,verifyContext:g};await this.setPendingSessionRequest(y),l===ut.link_mode&&(n=h.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=h.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(y):(this.addSessionRequestToSessionRequestQueue(y),this.processSessionRequestQueue())}catch(h){await this.sendError({id:d,topic:o,error:h}),this.client.logger.error(h)}}),q(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=Be("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);zi(n)?this.events.emit(Be("session_request",i),{result:n.result}):Wn(n)&&this.events.emit(Be("session_request",i),{error:n.error})}),q(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=Sl.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(et({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),Sl.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),q(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),zi(n)?this.events.emit(Be("session_request",i),{result:n.result}):Wn(n)&&this.events.emit(Be("session_request",i),{error:n.error})}),q(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:u,authPayload:l,expiryTimestamp:d}=s.params,f=await this.getVerifyContext({attestationId:o,hash:Hi(JSON.stringify(s)),encryptedId:a,metadata:u.metadata,transportType:c}),h={requester:u,pairingTopic:i,id:s.id,authPayload:l,verifyContext:f,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:h,pairingTopic:i,transportType:c}),c===ut.link_mode&&(n=u.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:f})}catch(u){this.client.logger.error(u);const l=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(s.params.requester.metadata,c),h={type:Ps,receiverPublicKey:l,senderPublicKey:d};await this.sendError({id:s.id,topic:i,error:u,encodeOpts:h,rpcOpts:pr.wc_sessionAuthenticate.autoReject,appLink:f})}}),q(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),q(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Ui.idle,this.processSessionRequestQueue()},Y.toMiliseconds(this.requestQueueDelay))}),q(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Be("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Be("session_request",s.request.id),{error:n})})}),q(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Ui.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Ui.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),q(this,"emitSessionRequest",r=>{this.client.events.emit("session_request",r)}),q(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:wo("wc_sessionPropose",Qr(et({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id)})}),q(this,"isValidConnect",async r=>{if(!fn(r)){const{message:u}=Z("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(u)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=r;if(Pr(n)||await this.isValidPairingTopic(n),!nz(c)){const{message:u}=Z("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(u)}if(!Pr(i)&&Ld(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!Pr(s)&&Ld(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Pr(o)||this.validateSessionProps(o,"sessionProperties"),!Pr(a)){this.validateSessionProps(a,"scopedProperties");const u=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(l=>u.includes(l)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),q(this,"validateNamespaces",(r,n)=>{const i=rz(r,"connect()",n);if(i)throw new Error(i.message)}),q(this,"isValidApprove",async r=>{if(!fn(r))throw new Error(Z("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const c=this.client.proposal.get(n),u=sy(i,"approve()");if(u)throw new Error(u.message);const l=A3(c.requiredNamespaces,i,"approve()");if(l)throw new Error(l.message);if(!ir(s,!0)){const{message:d}=Z("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(Pr(o)||this.validateSessionProps(o,"sessionProperties"),!Pr(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(i));if(!Object.keys(a).every(f=>d.has(f)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),q(this,"isValidReject",async r=>{if(!fn(r)){const{message:s}=Z("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!sz(i)){const{message:s}=Z("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),q(this,"isValidSessionSettleRequest",r=>{if(!fn(r)){const{message:u}=Z("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(u)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!AI(n)){const{message:u}=Z("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const a=Yj(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=sy(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(oo(o)){const{message:u}=Z("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),q(this,"isValidUpdate",async r=>{if(!fn(r)){const{message:c}=Z("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=sy(i,"update()");if(o)throw new Error(o.message);const a=A3(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),q(this,"isValidExtend",async r=>{if(!fn(r)){const{message:i}=Z("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),q(this,"isValidRequest",async r=>{if(!fn(r)){const{message:c}=Z("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!E3(a,s)){const{message:c}=Z("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!oz(i)){const{message:c}=Z("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!uz(a,s,i.method)){const{message:c}=Z("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!hz(o,fy)){const{message:c}=Z("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${fy.min} and ${fy.max}`);throw new Error(c)}}),q(this,"isValidRespond",async r=>{var n;if(!fn(r)){const{message:o}=Z("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!az(s)){const{message:o}=Z("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),q(this,"isValidPing",async r=>{if(!fn(r)){const{message:i}=Z("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),q(this,"isValidEmit",async r=>{if(!fn(r)){const{message:a}=Z("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!E3(o,s)){const{message:a}=Z("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!cz(i)){const{message:a}=Z("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!lz(o,s,i.name)){const{message:a}=Z("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),q(this,"isValidDisconnect",async r=>{if(!fn(r)){const{message:i}=Z("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),q(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!ir(i,!1))throw new Error("uri is required parameter");if(!ir(s,!1))throw new Error("domain is required parameter");if(!ir(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>ru(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=ru(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),q(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||id,validation:"UNKNOWN",origin:o.url||""}};try{if(a===ut.link_mode){const l=this.getAppLinkIfEnabled(o,a);return c.verified.validation=l&&new URL(l).origin===new URL(o.url).origin?"VALID":"INVALID",c}const u=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});u&&(c.verified.origin=u.origin,c.verified.isScam=u.isScam,c.verified.validation=u.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),q(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=Z("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),q(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),q(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),q(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=Z("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),q(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,c,u,l,d,f;return!r||n!==ut.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==""&&((l=r==null?void 0:r.redirect)==null?void 0:l.universal)!==void 0&&((d=r==null?void 0:r.redirect)==null?void 0:d.universal)!==""&&((f=r==null?void 0:r.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),q(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r==null?void 0:r.redirect)==null?void 0:i.universal:void 0}),q(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=HA(r,"topic")||"",i=decodeURIComponent(HA(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:ut.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),q(this,"registerLinkModeListeners",async()=>{var r;if(gb()||Ko()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),q(this,"shouldSetTVF",(r,n)=>{if(!n||r!=="wc_sessionRequest")return!1;const{request:i}=n;return Object.keys(iC).includes(i.method)}),q(this,"getTVFParams",(r,n,i)=>{var s,o;try{const a=n.request.method,c=this.extractTxHashesFromResult(a,i);return Qr(et({correlationId:r,rpcMethods:[a],chainId:n.chainId},this.isValidContractData(n.request.params)&&{contractAddresses:[(o=(s=n.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),q(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=(r==null?void 0:r.data)||((n=r==null?void 0:r[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),q(this,"extractTxHashesFromResult",(r,n)=>{try{const i=iC[r];if(typeof n=="string")return[n];const s=n[i.key];if($a(s))return r==="solana_signAllTransactions"?s.map(o=>lB(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Z("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(yr.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(sp)?this.client.auth.authKeys.get(sp):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===ut.link_mode?_l:yo});Sb(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Hi(n)})):hg(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(qn.expired,async e=>{const{topic:r,id:n}=Y4(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Z("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,Z("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(aa.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(aa.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!ir(e,!1)){const{message:r}=Z("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=Z("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(oo(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=Z("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!ir(e,!1)){const{message:r}=Z("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=Z("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(oo(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=Z("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=Z("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(ir(e,!1)){const{message:r}=Z("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=Z("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!iz(e)){const{message:r}=Z("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=Z("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(oo(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=Z("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class FV extends rc{constructor(e,r){super(e,r,CV,Ib),this.core=e,this.logger=r}}let BV=class extends rc{constructor(e,r){super(e,r,_V,Ib),this.core=e,this.logger=r}};class jV extends rc{constructor(e,r){super(e,r,IV,Ib,n=>n.id),this.core=e,this.logger=r}}class zV extends rc{constructor(e,r){super(e,r,PV,gg,()=>sp),this.core=e,this.logger=r}}class HV extends rc{constructor(e,r){super(e,r,kV,gg),this.core=e,this.logger=r}}class qV extends rc{constructor(e,r){super(e,r,RV,gg,n=>n.id),this.core=e,this.logger=r}}var WV=Object.defineProperty,VV=(t,e,r)=>e in t?WV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hy=(t,e,r)=>VV(t,typeof e!="symbol"?e+"":e,r);class KV{constructor(e,r){this.core=e,this.logger=r,hy(this,"authKeys"),hy(this,"pairingTopics"),hy(this,"requests"),this.authKeys=new zV(this.core,this.logger),this.pairingTopics=new HV(this.core,this.logger),this.requests=new qV(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var GV=Object.defineProperty,QV=(t,e,r)=>e in t?GV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pe=(t,e,r)=>QV(t,typeof e!="symbol"?e+"":e,r);let YV=class GI extends m7{constructor(e){super(e),Pe(this,"protocol",WI),Pe(this,"version",VI),Pe(this,"name",dy.name),Pe(this,"metadata"),Pe(this,"core"),Pe(this,"logger"),Pe(this,"events",new ti.EventEmitter),Pe(this,"engine"),Pe(this,"session"),Pe(this,"proposal"),Pe(this,"pendingRequest"),Pe(this,"auth"),Pe(this,"signConfig"),Pe(this,"on",(n,i)=>this.events.on(n,i)),Pe(this,"once",(n,i)=>this.events.once(n,i)),Pe(this,"off",(n,i)=>this.events.off(n,i)),Pe(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),Pe(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),Pe(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),Pe(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),Pe(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),Pe(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),Pe(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),Pe(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),Pe(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),Pe(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),Pe(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),Pe(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),Pe(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),Pe(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),Pe(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),Pe(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),Pe(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),Pe(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),Pe(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||dy.name,this.metadata=(e==null?void 0:e.metadata)||K4(),this.signConfig=e==null?void 0:e.signConfig;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:xf(Lu({level:(e==null?void 0:e.logger)||dy.logger}));this.core=(e==null?void 0:e.core)||new AV(e),this.logger=Gr(r,this.name),this.session=new BV(this.core,this.logger),this.proposal=new FV(this.core,this.logger),this.pendingRequest=new jV(this.core,this.logger),this.engine=new LV(this),this.auth=new KV(this.core,this.logger)}static async init(e){const r=new GI(e);return await r.initialize(),r}get context(){return An(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},Y.toMiliseconds(Y.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var bv={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof mi<"u"&&mi,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof mi<"u"&&mi||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(E){return E&&DataView.prototype.isPrototypeOf(E)}if(c.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(E){return E&&l.indexOf(Object.prototype.toString.call(E))>-1};function f(E){if(typeof E!="string"&&(E=String(E)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(E)||E==="")throw new TypeError('Invalid character in header field name: "'+E+'"');return E.toLowerCase()}function h(E){return typeof E!="string"&&(E=String(E)),E}function g(E){var C={next:function(){var k=E.shift();return{done:k===void 0,value:k}}};return c.iterable&&(C[Symbol.iterator]=function(){return C}),C}function y(E){this.map={},E instanceof y?E.forEach(function(C,k){this.append(k,C)},this):Array.isArray(E)?E.forEach(function(C){if(C.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+C.length);this.append(C[0],C[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(C){this.append(C,E[C])},this)}y.prototype.append=function(E,C){E=f(E),C=h(C);var k=this.map[E];this.map[E]=k?k+", "+C:C},y.prototype.delete=function(E){delete this.map[f(E)]},y.prototype.get=function(E){return E=f(E),this.has(E)?this.map[E]:null},y.prototype.has=function(E){return this.map.hasOwnProperty(f(E))},y.prototype.set=function(E,C){this.map[f(E)]=h(C)},y.prototype.forEach=function(E,C){for(var k in this.map)this.map.hasOwnProperty(k)&&E.call(C,this.map[k],k,this)},y.prototype.keys=function(){var E=[];return this.forEach(function(C,k){E.push(k)}),g(E)},y.prototype.values=function(){var E=[];return this.forEach(function(C){E.push(C)}),g(E)},y.prototype.entries=function(){var E=[];return this.forEach(function(C,k){E.push([k,C])}),g(E)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function _(E){if(!E._noBody){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}}function v(E){return new Promise(function(C,k){E.onload=function(){C(E.result)},E.onerror=function(){k(E.error)}})}function w(E){var C=new FileReader,k=v(C);return C.readAsArrayBuffer(E),k}function A(E){var C=new FileReader,k=v(C),N=/charset=([A-Za-z0-9_-]+)/.exec(E.type),S=N?N[1]:"utf-8";return C.readAsText(E,S),k}function P(E){for(var C=new Uint8Array(E),k=new Array(C.length),N=0;N<C.length;N++)k[N]=String.fromCharCode(C[N]);return k.join("")}function R(E){if(E.slice)return E.slice(0);var C=new Uint8Array(E.byteLength);return C.set(new Uint8Array(E)),C.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(E){this.bodyUsed=this.bodyUsed,this._bodyInit=E,E?typeof E=="string"?this._bodyText=E:c.blob&&Blob.prototype.isPrototypeOf(E)?this._bodyBlob=E:c.formData&&FormData.prototype.isPrototypeOf(E)?this._bodyFormData=E:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)?this._bodyText=E.toString():c.arrayBuffer&&c.blob&&u(E)?(this._bodyArrayBuffer=R(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(E)||d(E))?this._bodyArrayBuffer=R(E):this._bodyText=E=Object.prototype.toString.call(E):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof E=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var E=_(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var E=_(this);return E||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(w);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var E=_(this);if(E)return E;if(this._bodyBlob)return A(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var M=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function L(E){var C=E.toUpperCase();return M.indexOf(C)>-1?C:E}function $(E,C){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');C=C||{};var k=C.body;if(E instanceof $){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url,this.credentials=E.credentials,C.headers||(this.headers=new y(E.headers)),this.method=E.method,this.mode=E.mode,this.signal=E.signal,!k&&E._bodyInit!=null&&(k=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new y(C.headers)),this.method=L(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal||function(){if("AbortController"in a){var m=new AbortController;return m.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&k)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(k),(this.method==="GET"||this.method==="HEAD")&&(C.cache==="no-store"||C.cache==="no-cache")){var N=/([?&])_=[^&]*/;if(N.test(this.url))this.url=this.url.replace(N,"$1_="+new Date().getTime());else{var S=/\?/;this.url+=(S.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}$.prototype.clone=function(){return new $(this,{body:this._bodyInit})};function F(E){var C=new FormData;return E.trim().split("&").forEach(function(k){if(k){var N=k.split("="),S=N.shift().replace(/\+/g," "),m=N.join("=").replace(/\+/g," ");C.append(decodeURIComponent(S),decodeURIComponent(m))}}),C}function x(E){var C=new y,k=E.replace(/\r?\n[\t ]+/g," ");return k.split("\r").map(function(N){return N.indexOf(`
`)===0?N.substr(1,N.length):N}).forEach(function(N){var S=N.split(":"),m=S.shift().trim();if(m){var T=S.join(":").trim();try{C.append(m,T)}catch(j){console.warn("Response "+j.message)}}}),C}D.call($.prototype);function p(E,C){if(!(this instanceof p))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=C.statusText===void 0?"":""+C.statusText,this.headers=new y(C.headers),this.url=C.url||"",this._initBody(E)}D.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},p.error=function(){var E=new p(null,{status:200,statusText:""});return E.ok=!1,E.status=0,E.type="error",E};var b=[301,302,303,307,308];p.redirect=function(E,C){if(b.indexOf(C)===-1)throw new RangeError("Invalid status code");return new p(null,{status:C,headers:{location:E}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(C,k){this.message=C,this.name=k;var N=Error(C);this.stack=N.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function I(E,C){return new Promise(function(k,N){var S=new $(E,C);if(S.signal&&S.signal.aborted)return N(new o.DOMException("Aborted","AbortError"));var m=new XMLHttpRequest;function T(){m.abort()}m.onload=function(){var z={statusText:m.statusText,headers:x(m.getAllResponseHeaders()||"")};S.url.indexOf("file://")===0&&(m.status<200||m.status>599)?z.status=200:z.status=m.status,z.url="responseURL"in m?m.responseURL:z.headers.get("X-Request-URL");var Q="response"in m?m.response:m.responseText;setTimeout(function(){k(new p(Q,z))},0)},m.onerror=function(){setTimeout(function(){N(new TypeError("Network request failed"))},0)},m.ontimeout=function(){setTimeout(function(){N(new TypeError("Network request timed out"))},0)},m.onabort=function(){setTimeout(function(){N(new o.DOMException("Aborted","AbortError"))},0)};function j(z){try{return z===""&&a.location.href?a.location.href:z}catch{return z}}if(m.open(S.method,j(S.url),!0),S.credentials==="include"?m.withCredentials=!0:S.credentials==="omit"&&(m.withCredentials=!1),"responseType"in m&&(c.blob?m.responseType="blob":c.arrayBuffer&&(m.responseType="arraybuffer")),C&&typeof C.headers=="object"&&!(C.headers instanceof y||a.Headers&&C.headers instanceof a.Headers)){var H=[];Object.getOwnPropertyNames(C.headers).forEach(function(z){H.push(f(z)),m.setRequestHeader(z,h(C.headers[z]))}),S.headers.forEach(function(z,Q){H.indexOf(Q)===-1&&m.setRequestHeader(Q,z)})}else S.headers.forEach(function(z,Q){m.setRequestHeader(Q,z)});S.signal&&(S.signal.addEventListener("abort",T),m.onreadystatechange=function(){m.readyState===4&&S.signal.removeEventListener("abort",T)}),m.send(typeof S._bodyInit>"u"?null:S._bodyInit)})}return I.polyfill=!0,a.fetch||(a.fetch=I,a.Headers=y,a.Request=$,a.Response=p),o.Headers=y,o.Request=$,o.Response=p,o.fetch=I,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(bv,bv.exports);var JV=bv.exports;const oC=I0(JV);var ZV=Object.defineProperty,XV=Object.defineProperties,eK=Object.getOwnPropertyDescriptors,aC=Object.getOwnPropertySymbols,tK=Object.prototype.hasOwnProperty,rK=Object.prototype.propertyIsEnumerable,cC=(t,e,r)=>e in t?ZV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uC=(t,e)=>{for(var r in e||(e={}))tK.call(e,r)&&cC(t,r,e[r]);if(aC)for(var r of aC(e))rK.call(e,r)&&cC(t,r,e[r]);return t},lC=(t,e)=>XV(t,eK(e));const nK={Accept:"application/json","Content-Type":"application/json"},iK="POST",dC={headers:nK,method:iK},fC=10;let Pi=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new ti.EventEmitter,this.isAvailable=!1,this.registering=!1,!N3(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=Ls(e),n=await(await oC(this.url,lC(uC({},dC),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!N3(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=Ls({id:1,jsonrpc:"2.0",method:"test",params:[]});await oC(e,lC(uC({},dC),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?ka(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=fg(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return SI(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>fC&&this.events.setMaxListeners(fC)}};const hC="error",sK="wss://relay.walletconnect.org",oK="wc",aK="universal_provider",xh=`${oK}@2:${aK}:`,QI="https://rpc.walletconnect.org/v1/",Nc="generic",cK=`${QI}bundler`,oi={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function uK(){}function xb(t){return t==null||typeof t!="object"&&typeof t!="function"}function Nb(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lK(t){if(xb(t))return t;if(Array.isArray(t)||Nb(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function pC(t){return typeof t=="object"&&t!==null}function YI(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function JI(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const dK="[object RegExp]",ZI="[object String]",XI="[object Number]",e8="[object Boolean]",t8="[object Arguments]",fK="[object Symbol]",hK="[object Date]",pK="[object Map]",gK="[object Set]",mK="[object Array]",yK="[object ArrayBuffer]",wK="[object Object]",vK="[object DataView]",bK="[object Uint8Array]",EK="[object Uint8ClampedArray]",AK="[object Uint16Array]",CK="[object Uint32Array]",_K="[object Int8Array]",SK="[object Int16Array]",IK="[object Int32Array]",xK="[object Float32Array]",NK="[object Float64Array]";function TK(t,e){return Vc(t,void 0,t,new Map,e)}function Vc(t,e,r,n=new Map,i=void 0){const s=i==null?void 0:i(t,e,r,n);if(s!=null)return s;if(xb(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Vc(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,c]of t)o.set(a,Vc(c,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(Vc(a,void 0,r,n,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(Nb(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Vc(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),ca(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),ca(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),ca(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,ca(o,t,r,n,i),o}if(typeof t=="object"&&PK(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),ca(o,t,r,n,i),o}return t}function ca(t,e,r=t,n,i){const s=[...Object.keys(e),...YI(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Vc(e[a],a,r,n,i))}}function PK(t){switch(JI(t)){case t8:case mK:case yK:case vK:case e8:case hK:case xK:case NK:case _K:case SK:case IK:case pK:case XI:case wK:case dK:case gK:case ZI:case fK:case bK:case EK:case AK:case CK:return!0;default:return!1}}function kK(t,e){return TK(t,(r,n,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case XI:case ZI:case e8:{const o=new t.constructor(t==null?void 0:t.valueOf());return ca(o,t),o}case t8:{const o={};return ca(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function gC(t){return kK(t)}function mC(t){return t!==null&&typeof t=="object"&&JI(t)==="[object Arguments]"}function RK(t){return Nb(t)}function OK(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function DK(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=Ev(i,o,n,new Map)}return i}function Ev(t,e,r,n){if(xb(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return lK(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...YI(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(mC(a)&&(a={...a}),mC(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=gC(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const l=[],d=Reflect.ownKeys(c);for(let f=0;f<d.length;f++){const h=d[f];l[h]=c[h]}c=l}else c=[];const u=r(c,a,o,t,e,n);u!=null?t[o]=u:Array.isArray(a)||pC(c)&&pC(a)?t[o]=Ev(c,a,r,n):c==null&&OK(a)?t[o]=Ev({},a,r,n):c==null&&RK(a)?t[o]=gC(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function MK(t,...e){return DK(t,...e,uK)}var $K=Object.defineProperty,UK=Object.defineProperties,LK=Object.getOwnPropertyDescriptors,yC=Object.getOwnPropertySymbols,FK=Object.prototype.hasOwnProperty,BK=Object.prototype.propertyIsEnumerable,wC=(t,e,r)=>e in t?$K(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nh=(t,e)=>{for(var r in e||(e={}))FK.call(e,r)&&wC(t,r,e[r]);if(yC)for(var r of yC(e))BK.call(e,r)&&wC(t,r,e[r]);return t},jK=(t,e)=>UK(t,LK(e));function Mn(t,e,r){var n;const i=ru(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${QI}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function nc(t){return t.includes(":")?t.split(":")[1]:t}function r8(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function zK(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function py(t={},e={}){const r=vC(t),n=vC(e);return MK(r,n)}function vC(t){var e,r,n,i;const s={};if(!Ld(t))return s;for(const[o,a]of Object.entries(t)){const c=Ab(o)?[o]:a.chains,u=a.methods||[],l=a.events||[],d=a.rpcMap||{},f=Hl(o);s[f]=jK(Nh(Nh({},s[f]),a),{chains:tp(c,(e=s[f])==null?void 0:e.chains),methods:tp(u,(r=s[f])==null?void 0:r.methods),events:tp(l,(n=s[f])==null?void 0:n.events),rpcMap:Nh(Nh({},d),(i=s[f])==null?void 0:i.rpcMap)})}return s}function HK(t){return t.includes(":")?t.split(":")[2]:t}function bC(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=Ab(r)?[r]:n.chains?n.chains:r8(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function gy(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const n8={},Ue=t=>n8[t],my=(t,e)=>{n8[t]=e};var qK=Object.defineProperty,WK=(t,e,r)=>e in t?qK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pc=(t,e,r)=>WK(t,typeof e!="symbol"?e+"":e,r);class VK{constructor(e){pc(this,"name","polkadot"),pc(this,"client"),pc(this,"httpProviders"),pc(this,"events"),pc(this,"namespace"),pc(this,"chainId"),this.namespace=e.namespace,this.events=Ue("events"),this.client=Ue("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(oi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=nc(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Mn(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new si(new Pi(n,Ue("disableProviderPing")))}}var KK=Object.defineProperty,GK=Object.defineProperties,QK=Object.getOwnPropertyDescriptors,EC=Object.getOwnPropertySymbols,YK=Object.prototype.hasOwnProperty,JK=Object.prototype.propertyIsEnumerable,Av=(t,e,r)=>e in t?KK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,AC=(t,e)=>{for(var r in e||(e={}))YK.call(e,r)&&Av(t,r,e[r]);if(EC)for(var r of EC(e))JK.call(e,r)&&Av(t,r,e[r]);return t},CC=(t,e)=>GK(t,QK(e)),gc=(t,e,r)=>Av(t,typeof e!="symbol"?e+"":e,r);class ZK{constructor(e){gc(this,"name","eip155"),gc(this,"client"),gc(this,"chainId"),gc(this,"namespace"),gc(this,"httpProviders"),gc(this,"events"),this.namespace=e.namespace,this.events=Ue("events"),this.client=Ue("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(oi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||Mn(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new si(new Pi(n,Ue("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(nc(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i;const s=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),a=((i=o==null?void 0:o.sessionProperties)==null?void 0:i.capabilities)||{};if(a!=null&&a[s])return a==null?void 0:a[s];const c=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:CC(AC({},o.sessionProperties||{}),{capabilities:CC(AC({},a||{}),{[s]:c})})})}catch(u){console.warn("Failed to update session with capabilities",u)}return c}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(wo("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${cK}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var XK=Object.defineProperty,eG=(t,e,r)=>e in t?XK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mc=(t,e,r)=>eG(t,typeof e!="symbol"?e+"":e,r);class tG{constructor(e){mc(this,"name","solana"),mc(this,"client"),mc(this,"httpProviders"),mc(this,"events"),mc(this,"namespace"),mc(this,"chainId"),this.namespace=e.namespace,this.events=Ue("events"),this.client=Ue("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(oi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=nc(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Mn(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new si(new Pi(n,Ue("disableProviderPing")))}}var rG=Object.defineProperty,nG=(t,e,r)=>e in t?rG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yc=(t,e,r)=>nG(t,typeof e!="symbol"?e+"":e,r);class iG{constructor(e){yc(this,"name","cosmos"),yc(this,"client"),yc(this,"httpProviders"),yc(this,"events"),yc(this,"namespace"),yc(this,"chainId"),this.namespace=e.namespace,this.events=Ue("events"),this.client=Ue("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(oi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=nc(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Mn(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new si(new Pi(n,Ue("disableProviderPing")))}}var sG=Object.defineProperty,oG=(t,e,r)=>e in t?sG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wc=(t,e,r)=>oG(t,typeof e!="symbol"?e+"":e,r);class aG{constructor(e){wc(this,"name","algorand"),wc(this,"client"),wc(this,"httpProviders"),wc(this,"events"),wc(this,"namespace"),wc(this,"chainId"),this.namespace=e.namespace,this.events=Ue("events"),this.client=Ue("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||Mn(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(oi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Mn(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new si(new Pi(n,Ue("disableProviderPing")))}}var cG=Object.defineProperty,uG=(t,e,r)=>e in t?cG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vc=(t,e,r)=>uG(t,typeof e!="symbol"?e+"":e,r);class lG{constructor(e){vc(this,"name","cip34"),vc(this,"client"),vc(this,"httpProviders"),vc(this,"events"),vc(this,"namespace"),vc(this,"chainId"),this.namespace=e.namespace,this.events=Ue("events"),this.client=Ue("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(oi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=nc(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new si(new Pi(n,Ue("disableProviderPing")))}}var dG=Object.defineProperty,fG=(t,e,r)=>e in t?dG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bc=(t,e,r)=>fG(t,typeof e!="symbol"?e+"":e,r);class hG{constructor(e){bc(this,"name","elrond"),bc(this,"client"),bc(this,"httpProviders"),bc(this,"events"),bc(this,"namespace"),bc(this,"chainId"),this.namespace=e.namespace,this.events=Ue("events"),this.client=Ue("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(oi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=nc(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Mn(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new si(new Pi(n,Ue("disableProviderPing")))}}var pG=Object.defineProperty,gG=(t,e,r)=>e in t?pG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ec=(t,e,r)=>gG(t,typeof e!="symbol"?e+"":e,r);class mG{constructor(e){Ec(this,"name","multiversx"),Ec(this,"client"),Ec(this,"httpProviders"),Ec(this,"events"),Ec(this,"namespace"),Ec(this,"chainId"),this.namespace=e.namespace,this.events=Ue("events"),this.client=Ue("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(oi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=nc(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Mn(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new si(new Pi(n,Ue("disableProviderPing")))}}var yG=Object.defineProperty,wG=(t,e,r)=>e in t?yG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ac=(t,e,r)=>wG(t,typeof e!="symbol"?e+"":e,r);class vG{constructor(e){Ac(this,"name","near"),Ac(this,"client"),Ac(this,"httpProviders"),Ac(this,"events"),Ac(this,"namespace"),Ac(this,"chainId"),this.namespace=e.namespace,this.events=Ue("events"),this.client=Ue("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Mn(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(oi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Mn(e,this.namespace);return typeof n>"u"?void 0:new si(new Pi(n,Ue("disableProviderPing")))}}var bG=Object.defineProperty,EG=(t,e,r)=>e in t?bG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cc=(t,e,r)=>EG(t,typeof e!="symbol"?e+"":e,r);class AG{constructor(e){Cc(this,"name","tezos"),Cc(this,"client"),Cc(this,"httpProviders"),Cc(this,"events"),Cc(this,"namespace"),Cc(this,"chainId"),this.namespace=e.namespace,this.events=Ue("events"),this.client=Ue("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Mn(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(oi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Mn(e,this.namespace);return typeof n>"u"?void 0:new si(new Pi(n))}}var CG=Object.defineProperty,_G=(t,e,r)=>e in t?CG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_c=(t,e,r)=>_G(t,typeof e!="symbol"?e+"":e,r);class SG{constructor(e){_c(this,"name",Nc),_c(this,"client"),_c(this,"httpProviders"),_c(this,"events"),_c(this,"namespace"),_c(this,"chainId"),this.namespace=e.namespace,this.events=Ue("events"),this.client=Ue("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(oi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=ru(i);n[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Mn(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new si(new Pi(n,Ue("disableProviderPing")))}}var IG=Object.defineProperty,xG=Object.defineProperties,NG=Object.getOwnPropertyDescriptors,_C=Object.getOwnPropertySymbols,TG=Object.prototype.hasOwnProperty,PG=Object.prototype.propertyIsEnumerable,Cv=(t,e,r)=>e in t?IG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Th=(t,e)=>{for(var r in e||(e={}))TG.call(e,r)&&Cv(t,r,e[r]);if(_C)for(var r of _C(e))PG.call(e,r)&&Cv(t,r,e[r]);return t},yy=(t,e)=>xG(t,NG(e)),Bn=(t,e,r)=>Cv(t,typeof e!="symbol"?e+"":e,r);let kG=class i8{constructor(e){Bn(this,"client"),Bn(this,"namespaces"),Bn(this,"optionalNamespaces"),Bn(this,"sessionProperties"),Bn(this,"scopedProperties"),Bn(this,"events",new G1),Bn(this,"rpcProviders",{}),Bn(this,"session"),Bn(this,"providerOpts"),Bn(this,"logger"),Bn(this,"uri"),Bn(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:xf(Lu({level:(e==null?void 0:e.logger)||hC})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new i8(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Th({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,dg(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Ye("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=bC(this.session.namespaces);this.namespaces=py(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=bC(i.namespaces);return this.namespaces=py(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e),s=this.getProvider(n);s.name===Nc?s.setDefaultChain(`${n}:${i}`,r):s.setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if($a(r)){for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await YV.init({core:this.providerOpts.core,logger:this.providerOpts.logger||hC,relayUrl:this.providerOpts.relayUrl||sK,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>Hl(r)))];my("client",this.client),my("events",this.events),my("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=zK(r,this.session),i=r8(n),s=py(this.namespaces,this.optionalNamespaces),o=yy(Th({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new ZK({namespace:o});break;case"algorand":this.rpcProviders[r]=new aG({namespace:o});break;case"solana":this.rpcProviders[r]=new tG({namespace:o});break;case"cosmos":this.rpcProviders[r]=new iG({namespace:o});break;case"polkadot":this.rpcProviders[r]=new VK({namespace:o});break;case"cip34":this.rpcProviders[r]=new lG({namespace:o});break;case"elrond":this.rpcProviders[r]=new hG({namespace:o});break;case"multiversx":this.rpcProviders[r]=new mG({namespace:o});break;case"near":this.rpcProviders[r]=new vG({namespace:o});break;case"tezos":this.rpcProviders[r]=new AG({namespace:o});break;default:this.rpcProviders[Nc]?this.rpcProviders[Nc].updateNamespace(o):this.rpcProviders[Nc]=new SG({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&$a(o)&&this.events.emit("accountsChanged",o.map(HK))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,c=Hl(o),u=gy(o)!==gy(a)?`${c}:${gy(a)}`:o;this.onChainChanged(u)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=yy(Th({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",yy(Th({},Ye("USER_DISCONNECTED")),{data:e.topic})))}),this.on(oi.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Nc]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r,optionalNamespaces:n,sessionProperties:i,scopedProperties:s}=e;r&&Object.keys(r).length&&(this.namespaces=r),n&&Object.keys(n).length&&(this.optionalNamespaces=n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>Hl(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=Hl(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);i&&(r||this.getProvider(n).setDefaultChain(i),this.namespaces[n]?this.namespaces[n].defaultChain=i:this.namespaces[`${n}:${i}`]?this.namespaces[`${n}:${i}`].defaultChain=i:this.namespaces[`${n}:${i}`]={defaultChain:i},this.events.emit("chainChanged",i),await this.persist("namespaces",this.namespaces))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${xh}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${xh}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${xh}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(xh)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}};var Cu={};const RG="https://secure.walletconnect.org/sdk",OG=(typeof process<"u"&&typeof Cu<"u"?Cu.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||RG,DG=(typeof process<"u"&&typeof Cu<"u"?Cu.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",MG=(typeof process<"u"&&typeof Cu<"u"?Cu.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",ce={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},mt={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},na=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),ar=ft({...na}),qe={state:ar,subscribeKey(t,e){return sn(ar,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=he.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){ar.message=na.message,ar.variant=na.variant,ar.svg=na.svg,ar.open=na.open,ar.autoClose=na.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:n=na.autoClose}){ar.open?(ar.open=!1,setTimeout(()=>{ar.message=t,ar.variant=r,ar.svg=e,ar.open=!0,ar.autoClose=n},150)):(ar.message=t,ar.variant=r,ar.svg=e,ar.open=!0,ar.autoClose=n)}},od={getSIWX(){return J.state.siwx},async initializeIfEnabled(){var s;const t=J.state.siwx,e=U.getActiveCaipAddress();if(!(t&&e))return;const[r,n,i]=e.split(":");if(U.checkIfSupportedNetwork(r))try{if((await t.getSessions(`${r}:${n}`,i)).length)return;await or.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),We.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((s=Re._getClient())==null?void 0:s.disconnect().catch(console.error)),xe.reset("Connect"),qe.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=J.state.siwx,e=he.getPlainAddress(U.getActiveCaipAddress()),r=U.getActiveCaipNetwork(),n=Re._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!n)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),s=i.toString();ye.getConnectorId(r.chainNamespace)===K.CONNECTOR_ID.AUTH&&xe.pushTransactionStack({view:null,goBack:!1,replace:!0});const a=await n.signMessage(s);await t.addSession({data:i,message:s,signature:a}),or.close(),We.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!or.state.open||xe.state.view==="ApproveTransaction")&&await or.open({view:"SIWXSignMessage"}),s.isSmartAccount?qe.showError("This application might not support Smart Accounts"):qe.showError("Signature declined"),We.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await Re.disconnect():or.close(),xe.reset("Connect"),We.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=J.state.siwx,e=he.getPlainAddress(U.getActiveCaipAddress()),r=U.getActiveCaipNetwork();return t&&e&&r?t.getSessions(r.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const r=xe.state.view==="ApproveTransaction",n=xe.state.view==="SIWXSignMessage";if(r||n)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){var a,c,u;const n=od.getSIWX(),i=new Set(e.map(l=>l.split(":")[0]));if(!n||i.size!==1||!i.has("eip155"))return!1;const s=await n.createMessage({chainId:((a=U.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:r,chains:[s.chainId,...e.filter(l=>l!==s.chainId)]});if(qe.showLoading("Authenticating...",{autoClose:!1}),oe.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(i)[0]),(u=o==null?void 0:o.auths)!=null&&u.length){const l=o.auths.map(d=>{const f=t.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||s.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:f,signature:d.s.s,cacao:d}});try{await n.setSessions(l),We.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:od.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),We.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:od.getSIWXEventProperties()}),await t.disconnect().catch(console.error),d}finally{qe.hide()}}return!0},getSIWXEventProperties(){var t;return{network:((t=U.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)||"",isSmartAccount:oe.state.preferredAccountType===mt.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},rt=ft({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),$G={state:rt,subscribe(t){return en(rt,()=>t(rt))},setLastNetworkInView(t){rt.lastNetworkInView=t},async fetchTransactions(t,e){var r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");rt.loading=!0;try{const n=await ue.fetchTransactions({account:t,cursor:rt.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(r=U.state.activeCaipNetwork)==null?void 0:r.caipNetworkId}),i=this.filterSpamTransactions(n.data),s=this.filterByConnectedChain(i),o=[...rt.transactions,...s];rt.loading=!1,e==="coinbase"?rt.coinbaseTransactions=this.groupTransactionsByYearAndMonth(rt.coinbaseTransactions,n.data):(rt.transactions=o,rt.transactionsByYear=this.groupTransactionsByYearAndMonth(rt.transactionsByYear,s)),rt.empty=o.length===0,rt.next=n.next?n.next:void 0}catch{We.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:J.state.projectId,cursor:rt.next,isSmartAccount:oe.state.preferredAccountType===mt.ACCOUNT_TYPES.SMART_ACCOUNT}}),qe.showError("Failed to fetch transactions"),rt.loading=!1,rt.empty=!0,rt.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(n=>{const i=new Date(n.metadata.minedAt).getFullYear(),s=new Date(n.metadata.minedAt).getMonth(),o=r[i]??{},c=(o[s]??[]).filter(u=>u.id!==n.id);r[i]={...o,[s]:[...c,n].sort((u,l)=>new Date(l.metadata.minedAt).getTime()-new Date(u.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(n=>{var i;return((i=n.nft_info)==null?void 0:i.flags.is_spam)===!0}))},filterByConnectedChain(t){var n;const e=(n=U.state.activeCaipNetwork)==null?void 0:n.caipNetworkId;return t.filter(i=>i.metadata.chain===e)},clearCursor(){rt.next=void 0},resetTransactions(){rt.transactions=[],rt.transactionsByYear={},rt.lastNetworkInView=void 0,rt.loading=!1,rt.empty=!1,rt.next=void 0}},nt=ft({wcError:!1,buffering:!1,status:"disconnected"});let Sc;const Re={state:nt,subscribeKey(t,e){return sn(nt,t,e)},_getClient(){return nt._client},setClient(t){nt._client=Pa(t)},async connectWalletConnect(){var t,e,r,n;if(he.isTelegram()||he.isSafari()&&he.isIos()){if(Sc){await Sc,Sc=void 0;return}if(!he.isPairingExpired(nt==null?void 0:nt.wcPairingExpiry)){const i=nt.wcUri;nt.wcUri=i;return}Sc=(e=(t=this._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),this.state.status="connecting",await Sc,Sc=void 0,nt.wcPairingExpiry=void 0,this.state.status="connected"}else await((n=(r=this._getClient())==null?void 0:r.connectWalletConnect)==null?void 0:n.call(r))},async connectExternal(t,e,r=!0){var n,i;await((i=(n=this._getClient())==null?void 0:n.connectExternal)==null?void 0:i.call(n,t)),r&&U.setActiveNamespace(e)},async reconnectExternal(t){var r,n;await((n=(r=this._getClient())==null?void 0:r.reconnectExternal)==null?void 0:n.call(r,t));const e=t.chain||U.state.activeChain;e&&ye.setConnectorId(t.id,e)},async setPreferredAccountType(t){var r;or.setLoading(!0,U.state.activeChain);const e=ye.getAuthConnector();e&&(await(e==null?void 0:e.provider.setPreferredAccount(t)),await this.reconnectExternal(e),or.setLoading(!1,U.state.activeChain),We.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=U.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=this._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var r;return(r=this._getClient())==null?void 0:r.parseUnits(t,e)},formatUnits(t,e){var r;return(r=this._getClient())==null?void 0:r.formatUnits(t,e)},async sendTransaction(t){var e;return(e=this._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=this._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=this._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=this._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=this._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=this._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,r;return((r=(e=this._getClient())==null?void 0:e.checkInstalled)==null?void 0:r.call(e,t))||!1},resetWcConnection(){nt.wcUri=void 0,nt.wcPairingExpiry=void 0,nt.wcLinking=void 0,nt.recentWallet=void 0,nt.status="disconnected",$G.resetTransactions(),se.deleteWalletConnectDeepLink()},resetUri(){nt.wcUri=void 0,nt.wcPairingExpiry=void 0},finalizeWcConnection(){var r,n;const{wcLinking:t,recentWallet:e}=Re.state;t&&se.setWalletConnectDeepLink(t),e&&se.setAppKitRecent(e),We.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((n=(r=xe.state.data)==null?void 0:r.wallet)==null?void 0:n.name)||"Unknown"}})},setWcBasic(t){nt.wcBasic=t},setUri(t){nt.wcUri=t,nt.wcPairingExpiry=he.getPairingExpiry()},setWcLinking(t){nt.wcLinking=t},setWcError(t){nt.wcError=t,nt.buffering=!1},setRecentWallet(t){nt.recentWallet=t},setBuffering(t){nt.buffering=t},setStatus(t){nt.status=t},async disconnect(t){try{or.setLoading(!0,t),await od.clearSessions(),await U.disconnect(t),or.setLoading(!1,t),ye.setFilterByNamespace(void 0)}catch{throw new Error("Failed to disconnect")}}},Pl=ft({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),ks={state:Pl,subscribe(t){return en(Pl,()=>t(Pl))},set(t){Object.assign(Pl,{...Pl,...t})}};function Je(t,e,r){const n=t[e.name];if(typeof n=="function")return n;const i=t[r];return typeof i=="function"?i:s=>e(t,s)}function Lo(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new GG(t.type);return`${t.name}(${mg(t.inputs,{includeName:e})})`}function mg(t,{includeName:e=!1}={}){return t?t.map(r=>UG(r,{includeName:e})).join(e?", ":","):""}function UG(t,{includeName:e}){return t.type.startsWith("tuple")?`(${mg(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function js(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function br(t){return js(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const s8="2.24.1";let kl={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${s8}`},V=class _v extends Error{constructor(e,r={}){var a;const n=(()=>{var c;return r.cause instanceof _v?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),i=r.cause instanceof _v&&r.cause.docsPath||r.docsPath,s=(a=kl.getDocsUrl)==null?void 0:a.call(kl,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...kl.version?[`Version: ${kl.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=s8}walk(e){return o8(this,e)}};function o8(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?o8(t.cause,e):e?null:t}class LG extends V{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class SC extends V{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class a8 extends V{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${mg(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class yg extends V{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class FG extends V{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class BG extends V{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${br(r)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class jG extends V{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class c8 extends V{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class zG extends V{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class u8 extends V{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}}class Xp extends V{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}}class HG extends V{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}}class qG extends V{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Lo(e.abiItem)}\`, and`,`\`${r.type}\` in \`${Lo(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class Sv extends V{constructor({abiItem:e,data:r,params:n,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${mg(n,{includeName:!0})})`,`Data:   ${r} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=n,this.size=i}}class l8 extends V{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Lo(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class WG extends V{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}}class VG extends V{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}}class KG extends V{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class GG extends V{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class d8 extends V{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}}class f8 extends V{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}class IC extends V{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}function Ju(t,{dir:e,size:r=32}={}){return typeof t=="string"?Po(t,{dir:e,size:r}):QG(t,{dir:e,size:r})}function Po(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new f8({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function QG(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new f8({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class h8 extends V{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class YG extends V{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class JG extends V{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Zu(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let i=0;i<r.length-1&&r[e==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function ki(t,{size:e}){if(br(t)>e)throw new JG({givenSize:br(t),maxSize:e})}function _u(t,e={}){const{signed:r}=e;e.size&&ki(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Ua(t,e={}){return Number(_u(t,e))}function p8(t,e={}){let r=rs(t);return e.size&&(ki(r,{size:e.size}),r=Zu(r,{dir:"right"})),new TextDecoder().decode(r)}const ZG=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zs(t,e={}){return typeof t=="number"||typeof t=="bigint"?_e(t,e):typeof t=="string"?wg(t,e):typeof t=="boolean"?g8(t,e):Or(t,e)}function g8(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(ki(r,{size:e.size}),Ju(r,{size:e.size})):r}function Or(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=ZG[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(ki(n,{size:e.size}),Ju(n,{dir:"right",size:e.size})):n}function _e(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new h8({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Ju(a,{size:n}):a}const XG=new TextEncoder;function wg(t,e={}){const r=XG.encode(t);return Or(r,e)}const eQ=new TextEncoder;function jf(t,e={}){return typeof t=="number"||typeof t=="bigint"?rQ(t,e):typeof t=="boolean"?tQ(t,e):js(t)?rs(t,e):Ca(t,e)}function tQ(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(ki(r,{size:e.size}),Ju(r,{size:e.size})):r}const vs={zero:48,nine:57,A:65,F:70,a:97,f:102};function xC(t){if(t>=vs.zero&&t<=vs.nine)return t-vs.zero;if(t>=vs.A&&t<=vs.F)return t-(vs.A-10);if(t>=vs.a&&t<=vs.f)return t-(vs.a-10)}function rs(t,e={}){let r=t;e.size&&(ki(r,{size:e.size}),r=Ju(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=xC(n.charCodeAt(a++)),u=xC(n.charCodeAt(a++));if(c===void 0||u===void 0)throw new V(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+u}return s}function rQ(t,e){const r=_e(t,e);return rs(r)}function Ca(t,e={}){const r=eQ.encode(t);return typeof e.size=="number"?(ki(r,{size:e.size}),Ju(r,{dir:"right",size:e.size})):r}function Fo(t,e){const r=e||"hex",n=l4(js(t,{strict:!1})?jf(t):t);return r==="bytes"?n:zs(n)}const nQ=t=>Fo(jf(t));function iQ(t){return nQ(t)}function sQ(t){let e=!0,r="",n=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=a,r+=a}}if(!s)throw new V("Unable to normalize signature.");return i}const oQ=t=>{const e=typeof t=="string"?t:DD(t);return sQ(e)};function m8(t){return iQ(oQ(t))}const Tb=m8;class La extends V{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class vg extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const wy=new vg(8192);function bg(t,e){if(wy.has(`${t}.${e}`))return wy.get(`${t}.${e}`);const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=Fo(Ca(r),"bytes"),i=(e?r.substring(`${e}0x`.length):r).split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return wy.set(`${t}.${e}`,s),s}function pa(t,e){if(!ns(t,{strict:!1}))throw new La({address:t});return bg(t,e)}const aQ=/^0x[a-fA-F0-9]{40}$/,vy=new vg(8192);function ns(t,e){const{strict:r=!0}=e??{},n=`${t}.${r}`;if(vy.has(n))return vy.get(n);const i=aQ.test(t)?t.toLowerCase()===t?!0:r?bg(t)===t:!0:!1;return vy.set(n,i),i}function Fa(t){return typeof t[0]=="string"?Eg(t):cQ(t)}function cQ(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function Eg(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function e0(t,e,r,{strict:n}={}){return js(t,{strict:!1})?uQ(t,e,r,{strict:n}):v8(t,e,r,{strict:n})}function y8(t,e){if(typeof e=="number"&&e>0&&e>br(t)-1)throw new d8({offset:e,position:"start",size:br(t)})}function w8(t,e,r){if(typeof e=="number"&&typeof r=="number"&&br(t)!==r-e)throw new d8({offset:r,position:"end",size:br(t)})}function v8(t,e,r,{strict:n}={}){y8(t,e);const i=t.slice(e,r);return n&&w8(i,e,r),i}function uQ(t,e,r,{strict:n}={}){y8(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&w8(i,e,r),i}const lQ=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function b8(t,e){if(t.length!==e.length)throw new jG({expectedLength:t.length,givenLength:e.length});const r=dQ({params:t,values:e}),n=kb(r);return n.length===0?"0x":n}function dQ({params:t,values:e}){const r=[];for(let n=0;n<t.length;n++)r.push(Pb({param:t[n],value:e[n]}));return r}function Pb({param:t,value:e}){const r=Rb(t.type);if(r){const[n,i]=r;return hQ(e,{length:n,param:{...t,type:i}})}if(t.type==="tuple")return wQ(e,{param:t});if(t.type==="address")return fQ(e);if(t.type==="bool")return gQ(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const n=t.type.startsWith("int"),[,,i="256"]=lQ.exec(t.type)??[];return mQ(e,{signed:n,size:Number(i)})}if(t.type.startsWith("bytes"))return pQ(e,{param:t});if(t.type==="string")return yQ(e);throw new WG(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function kb(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=br(a)}const r=[],n=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(r.push(_e(e+i,{size:32})),n.push(a),i+=br(a)):r.push(a)}return Fa([...r,...n])}function fQ(t){if(!ns(t))throw new La({address:t});return{dynamic:!1,encoded:Po(t.toLowerCase())}}function hQ(t,{length:e,param:r}){const n=e===null;if(!Array.isArray(t))throw new KG(t);if(!n&&t.length!==e)throw new FG({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=Pb({param:r,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(n||i){const o=kb(s);if(n){const a=_e(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Fa([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Fa(s.map(({encoded:o})=>o))}}function pQ(t,{param:e}){const[,r]=e.type.split("bytes"),n=br(t);if(!r){let i=t;return n%32!==0&&(i=Po(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Fa([Po(_e(n,{size:32})),i])}}if(n!==Number.parseInt(r))throw new BG({expectedSize:Number.parseInt(r),value:t});return{dynamic:!1,encoded:Po(t,{dir:"right"})}}function gQ(t){if(typeof t!="boolean")throw new V(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Po(g8(t))}}function mQ(t,{signed:e,size:r=256}){if(typeof r=="number"){const n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new h8({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:_e(t,{size:32,signed:e})}}function yQ(t){const e=wg(t),r=Math.ceil(br(e)/32),n=[];for(let i=0;i<r;i++)n.push(Po(e0(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Fa([Po(_e(br(e),{size:32})),...n])}}function wQ(t,{param:e}){let r=!1;const n=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=Pb({param:s,value:t[o]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?kb(n):Fa(n.map(({encoded:i})=>i))}}function Rb(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Ob=t=>e0(m8(t),0,4);function Db(t){const{abi:e,args:r=[],name:n}=t,i=js(n,{strict:!1}),s=e.filter(a=>i?a.type==="function"?Ob(a)===n:a.type==="event"?Tb(a)===n:!1:"name"in a&&a.name===n);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!r||r.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==r.length)continue;if(r.every((u,l)=>{const d="inputs"in a&&a.inputs[l];return d?Iv(u,d):!1})){if(o&&"inputs"in o&&o.inputs){const u=E8(a.inputs,o.inputs,r);if(u)throw new qG({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||s[0]}function Iv(t,e){const r=typeof t,n=e.type;switch(n){case"address":return ns(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>Iv(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>Iv(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function E8(t,e,r){for(const n in t){const i=t[n],s=e[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return E8(i.components,s.components,r[n]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ns(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?ns(r[n],{strict:!1}):!1)return o}}function vQ(t,{method:e}){var n,i;const r={};return t.transport.type==="fallback"&&((i=(n=t.transport).onResponse)==null||i.call(n,({method:s,response:o,status:a,transport:c})=>{a==="success"&&e===s&&(r[o]=c.request)})),s=>r[s]||t.request}function us(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const NC="/docs/contract/encodeFunctionData";function bQ(t){const{abi:e,args:r,functionName:n}=t;let i=e[0];if(n){const s=Db({abi:e,args:r,name:n});if(!s)throw new Xp(n,{docsPath:NC});i=s}if(i.type!=="function")throw new Xp(void 0,{docsPath:NC});return{abi:[i],functionName:Ob(Lo(i))}}function Xu(t){const{args:e}=t,{abi:r,functionName:n}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:bQ(t)})(),i=r[0],s=n,o="inputs"in i&&i.inputs?b8(i.inputs,e??[]):void 0;return Eg([s,o??"0x"])}const A8={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},EQ={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},AQ={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class TC extends V{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class C8 extends V{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class CQ extends V{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const _Q={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new CQ({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new C8({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new TC({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new TC({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Mb(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(_Q);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}function SQ(t,e={}){typeof e.size<"u"&&ki(t,{size:e.size});const r=Or(t,e);return _u(r,e)}function IQ(t,e={}){let r=t;if(typeof e.size<"u"&&(ki(r,{size:e.size}),r=Zu(r)),r.length>1||r[0]>1)throw new YG(r);return!!r[0]}function Rs(t,e={}){typeof e.size<"u"&&ki(t,{size:e.size});const r=Or(t,e);return Ua(r,e)}function xQ(t,e={}){let r=t;return typeof e.size<"u"&&(ki(r,{size:e.size}),r=Zu(r,{dir:"right"})),new TextDecoder().decode(r)}function Ag(t,e){const r=typeof e=="string"?rs(e):e,n=Mb(r);if(br(r)===0&&t.length>0)throw new yg;if(br(e)&&br(e)<32)throw new a8({data:typeof e=="string"?e:Or(e),params:t,size:br(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];n.setPosition(i);const[c,u]=nu(n,a,{staticPosition:0});i+=u,s.push(c)}return s}function nu(t,e,{staticPosition:r}){const n=Rb(e.type);if(n){const[i,s]=n;return TQ(t,{...e,type:s},{length:i,staticPosition:r})}if(e.type==="tuple")return OQ(t,e,{staticPosition:r});if(e.type==="address")return NQ(t);if(e.type==="bool")return PQ(t);if(e.type.startsWith("bytes"))return kQ(t,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return RQ(t,e);if(e.type==="string")return DQ(t,{staticPosition:r});throw new VG(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const PC=32,xv=32;function NQ(t){const e=t.readBytes(32);return[bg(Or(v8(e,-20))),32]}function TQ(t,e,{length:r,staticPosition:n}){if(!r){const o=Rs(t.readBytes(xv)),a=n+o,c=a+PC;t.setPosition(a);const u=Rs(t.readBytes(PC)),l=Fd(e);let d=0;const f=[];for(let h=0;h<u;++h){t.setPosition(c+(l?h*32:d));const[g,y]=nu(t,e,{staticPosition:c});d+=y,f.push(g)}return t.setPosition(n+32),[f,32]}if(Fd(e)){const o=Rs(t.readBytes(xv)),a=n+o,c=[];for(let u=0;u<r;++u){t.setPosition(a+u*32);const[l]=nu(t,e,{staticPosition:a});c.push(l)}return t.setPosition(n+32),[c,32]}let i=0;const s=[];for(let o=0;o<r;++o){const[a,c]=nu(t,e,{staticPosition:n+i});i+=c,s.push(a)}return[s,i]}function PQ(t){return[IQ(t.readBytes(32),{size:32}),32]}function kQ(t,e,{staticPosition:r}){const[n,i]=e.type.split("bytes");if(!i){const o=Rs(t.readBytes(32));t.setPosition(r+o);const a=Rs(t.readBytes(32));if(a===0)return t.setPosition(r+32),["0x",32];const c=t.readBytes(a);return t.setPosition(r+32),[Or(c),32]}return[Or(t.readBytes(Number.parseInt(i),32)),32]}function RQ(t,e){const r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256"),i=t.readBytes(32);return[n>48?SQ(i,{signed:r}):Rs(i,{signed:r}),32]}function OQ(t,e,{staticPosition:r}){const n=e.components.length===0||e.components.some(({name:o})=>!o),i=n?[]:{};let s=0;if(Fd(e)){const o=Rs(t.readBytes(xv)),a=r+o;for(let c=0;c<e.components.length;++c){const u=e.components[c];t.setPosition(a+s);const[l,d]=nu(t,u,{staticPosition:a});s+=d,i[n?c:u==null?void 0:u.name]=l}return t.setPosition(r+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,u]=nu(t,a,{staticPosition:r});i[n?o:a==null?void 0:a.name]=c,s+=u}return[i,s]}function DQ(t,{staticPosition:e}){const r=Rs(t.readBytes(32)),n=e+r;t.setPosition(n);const i=Rs(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=xQ(Zu(s));return t.setPosition(e+32),[o,32]}function Fd(t){var n;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(n=t.components)==null?void 0:n.some(Fd);const r=Rb(t.type);return!!(r&&Fd({...t,type:r[1]}))}function MQ(t){const{abi:e,data:r}=t,n=e0(r,0,4);if(n==="0x")throw new yg;const s=[...e||[],EQ,AQ].find(o=>o.type==="error"&&n===Ob(Lo(o)));if(!s)throw new c8(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Ag(s.inputs,e0(r,4)):void 0,errorName:s.name}}const Jn=(t,e,r)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,r);function _8({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((i,s)=>`${n&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?Jn(e[s]):e[s]}`).join(", ")})`}const $Q={gwei:9,wei:18},UQ={ether:-9,wei:9},LQ={ether:-18,gwei:-9};function el(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}function $b(t,e="wei"){return el(t,$Q[e])}function vn(t,e="wei"){return el(t,UQ[e])}class FQ extends V{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class BQ extends V{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function kC(t){return t.reduce((e,{slot:r,value:n})=>`${e}        ${r}: ${n}
`,"")}function jQ(t){return t.reduce((e,{address:r,...n})=>{let i=`${e}    ${r}:
`;return n.nonce&&(i+=`      nonce: ${n.nonce}
`),n.balance&&(i+=`      balance: ${n.balance}
`),n.code&&(i+=`      code: ${n.code}
`),n.state&&(i+=`      state:
`,i+=kC(n.state)),n.stateDiff&&(i+=`      stateDiff:
`,i+=kC(n.stateDiff)),i},`  State Override:
`).slice(0,-1)}function zf(t){const e=Object.entries(t).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=e.reduce((n,[i])=>Math.max(n,i.length),0);return e.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class zQ extends V{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class HQ extends V{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",zf(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class qQ extends V{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f}){var g;const h=zf({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:r==null?void 0:r.address,to:d,value:typeof f<"u"&&`${$b(f)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${vn(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${vn(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${vn(u)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class S8 extends V{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s}){let o="Transaction";n&&s!==void 0&&(o=`Transaction at block time "${n}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),r&&s!==void 0&&(o=`Transaction at block number "${r}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class I8 extends V{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class WQ extends V{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const VQ=t=>t,Ub=t=>t;class KQ extends V{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f,stateOverride:h}){var _;const g=r?us(r):void 0;let y=zf({from:g==null?void 0:g.address,to:d,value:typeof f<"u"&&`${$b(f)} ${((_=i==null?void 0:i.nativeCurrency)==null?void 0:_.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${vn(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${vn(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${vn(u)} gwei`,nonce:l});h&&(y+=`
${jQ(h)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class x8 extends V{constructor(e,{abi:r,args:n,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=Db({abi:r,args:n,name:o}),u=c?_8({abiItem:c,args:n,includeFunctionName:!1,includeName:!1}):void 0,l=c?Lo(c,{includeName:!0}):void 0,d=zf({address:i&&VQ(i),function:l,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class Nv extends V{constructor({abi:e,data:r,functionName:n,message:i}){let s,o,a,c;if(r&&r!=="0x")try{o=MQ({abi:e,data:r});const{abiItem:l,errorName:d,args:f}=o;if(d==="Error")c=f[0];else if(d==="Panic"){const[h]=f;c=A8[h]}else{const h=l?Lo(l,{includeName:!0}):void 0,g=l&&f?_8({abiItem:l,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",g&&g!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(l){s=l}else i&&(c=i);let u;s instanceof c8&&(u=s.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${n}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${n}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=r,this.reason=c,this.signature=u}}class GQ extends V{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class QQ extends V{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Lb extends V{constructor({data:e,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class ad extends V{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${Ub(o)}`,e&&`Request body: ${Jn(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class Fb extends V{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${Ub(n)}`,`Request body: ${Jn(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class RC extends V{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Ub(r)}`,`Request body: ${Jn(e)}`],name:"TimeoutError"})}}const YQ=-1;class Cn extends V{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof Fb?e.code:r??YQ}}class tl extends Cn{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Bd extends Cn{constructor(e){super(e,{code:Bd.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Bd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class jd extends Cn{constructor(e){super(e,{code:jd.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(jd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class zd extends Cn{constructor(e,{method:r}={}){super(e,{code:zd.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(zd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Hd extends Cn{constructor(e){super(e,{code:Hd.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Hd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ba extends Cn{constructor(e){super(e,{code:Ba.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Ba,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class qd extends Cn{constructor(e){super(e,{code:qd.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(qd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Wd extends Cn{constructor(e){super(e,{code:Wd.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Wd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ko extends Cn{constructor(e){super(e,{code:ko.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(ko,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Su extends Cn{constructor(e){super(e,{code:Su.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Su,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ga extends Cn{constructor(e,{method:r}={}){super(e,{code:ga.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(ga,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Iu extends Cn{constructor(e){super(e,{code:Iu.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Iu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Vd extends Cn{constructor(e){super(e,{code:Vd.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Vd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ur extends tl{constructor(e){super(e,{code:ur.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(ur,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Kd extends tl{constructor(e){super(e,{code:Kd.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Kd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Gd extends tl{constructor(e,{method:r}={}){super(e,{code:Gd.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(Gd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Qd extends tl{constructor(e){super(e,{code:Qd.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Qd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Yd extends tl{constructor(e){super(e,{code:Yd.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Yd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class is extends tl{constructor(e){super(e,{code:is.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(is,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class JQ extends Cn{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const ZQ=3;function t0(t,{abi:e,address:r,args:n,docsPath:i,functionName:s,sender:o}){const a=t instanceof Lb?t:t instanceof V?t.walk(g=>"data"in g)||t.walk():{},{code:c,data:u,details:l,message:d,shortMessage:f}=a,h=t instanceof yg?new GQ({functionName:s}):[ZQ,Ba.code].includes(c)&&(u||l||d||f)?new Nv({abi:e,data:typeof u=="object"?u.data:u,functionName:s,message:a instanceof Fb?l:f??d}):t;return new x8(h,{abi:e,args:n,contractAddress:r,docsPath:i,functionName:s,sender:o})}function XQ(t){const e=Fo(`0x${t.substring(4)}`).substring(26);return bg(`0x${e}`)}async function eY({hash:t,signature:e}){const r=js(t)?t:zs(t),{secp256k1:n}=await hn(async()=>{const{secp256k1:o}=await import("./secp256k1-Cvr5ruEd.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:l,v:d,yParity:f}=e,h=Number(f??d),g=OC(h);return new n.Signature(_u(u),_u(l)).addRecoveryBit(g)}const o=js(e)?e:zs(e),a=Ua(`0x${o.slice(130)}`),c=OC(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function OC(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function tY({hash:t,signature:e}){return XQ(await eY({hash:t,signature:e}))}function rY(t,e="hex"){const r=N8(t),n=Mb(new Uint8Array(r.length));return r.encode(n),e==="hex"?Or(n.bytes):n.bytes}function N8(t){return Array.isArray(t)?nY(t.map(e=>N8(e))):iY(t)}function nY(t){const e=t.reduce((i,s)=>i+s.length,0),r=T8(e);return{length:e<=55?1+e:1+r+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+r),r===1?i.pushUint8(e):r===2?i.pushUint16(e):r===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function iY(t){const e=typeof t=="string"?rs(t):t,r=T8(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+r),r===1?i.pushUint8(e.length):r===2?i.pushUint16(e.length):r===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function T8(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new V("Length is too large.")}function sY(t){const{chainId:e,nonce:r,to:n}=t,i=t.contractAddress??t.address,s=Fo(Eg(["0x05",rY([e?_e(e):"0x",i,r?_e(r):"0x"])]));return n==="bytes"?rs(s):s}async function P8(t){const{authorization:e,signature:r}=t;return tY({hash:sY(e),signature:r??e})}class oY extends V{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f}){var g;const h=zf({from:r==null?void 0:r.address,to:d,value:typeof f<"u"&&`${$b(f)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${vn(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${vn(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${vn(u)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class ma extends V{constructor({cause:e,message:r}={}){var i;const n=(i=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(ma,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ma,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class r0 extends V{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${vn(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(r0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Tv extends V{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${vn(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Tv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Pv extends V{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Pv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class kv extends V{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(kv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Rv extends V{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(Rv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Ov extends V{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Ov,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Dv extends V{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Dv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Mv extends V{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Mv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class $v extends V{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty($v,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class n0 extends V{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${vn(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${vn(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(n0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Cg extends V{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function Bb(t,e){const r=(t.details||"").toLowerCase(),n=t instanceof V?t.walk(i=>(i==null?void 0:i.code)===ma.code):t;return n instanceof V?new ma({cause:t,message:n.details}):ma.nodeMessage.test(r)?new ma({cause:t,message:t.details}):r0.nodeMessage.test(r)?new r0({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Tv.nodeMessage.test(r)?new Tv({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Pv.nodeMessage.test(r)?new Pv({cause:t,nonce:e==null?void 0:e.nonce}):kv.nodeMessage.test(r)?new kv({cause:t,nonce:e==null?void 0:e.nonce}):Rv.nodeMessage.test(r)?new Rv({cause:t,nonce:e==null?void 0:e.nonce}):Ov.nodeMessage.test(r)?new Ov({cause:t}):Dv.nodeMessage.test(r)?new Dv({cause:t,gas:e==null?void 0:e.gas}):Mv.nodeMessage.test(r)?new Mv({cause:t,gas:e==null?void 0:e.gas}):$v.nodeMessage.test(r)?new $v({cause:t}):n0.nodeMessage.test(r)?new n0({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Cg({cause:t})}function aY(t,{docsPath:e,...r}){const n=(()=>{const i=Bb(t,r);return i instanceof Cg?t:i})();return new oY(n,{docsPath:e,...r})}function jb(t,{format:e}){if(!e)return{};const r={};function n(s){const o=Object.keys(s);for(const a of o)a in t&&(r[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&n(s[a])}const i=e(t||{});return n(i),r}const cY={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function zb(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=uY(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(r=>Or(r)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=_e(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=_e(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=_e(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=_e(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=_e(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=_e(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=cY[t.type]),typeof t.value<"u"&&(e.value=_e(t.value)),e}function uY(t){return t.map(e=>({address:e.address,r:e.r?_e(BigInt(e.r)):e.r,s:e.s?_e(BigInt(e.s)):e.s,chainId:_e(e.chainId),nonce:_e(e.nonce),...typeof e.yParity<"u"?{yParity:_e(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:_e(e.v)}:{}}))}function DC(t){if(!(!t||t.length===0))return t.reduce((e,{slot:r,value:n})=>{if(r.length!==66)throw new IC({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new IC({size:n.length,targetSize:66,type:"hex"});return e[r]=n,e},{})}function lY(t){const{balance:e,nonce:r,state:n,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=_e(e)),r!==void 0&&(o.nonce=_e(r)),n!==void 0&&(o.state=DC(n)),i!==void 0){if(o.state)throw new BQ;o.stateDiff=DC(i)}return o}function k8(t){if(!t)return;const e={};for(const{address:r,...n}of t){if(!ns(r,{strict:!1}))throw new La({address:r});if(e[r])throw new FQ({address:r});e[r]=lY(n)}return e}const dY=2n**256n-1n;function _g(t){const{account:e,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:i,to:s}=t,o=e?us(e):void 0;if(o&&!ns(o.address))throw new La({address:o.address});if(s&&!ns(s))throw new La({address:s});if(typeof r<"u"&&(typeof n<"u"||typeof i<"u"))throw new zQ;if(n&&n>dY)throw new r0({maxFeePerGas:n});if(i&&n&&i>n)throw new n0({maxFeePerGas:n,maxPriorityFeePerGas:i})}class fY extends V{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Hb extends V{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class hY extends V{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${vn(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class R8 extends V{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}const O8={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function D8(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Ua(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Ua(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?O8[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=pY(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function pY(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function gY(t){const e=(t.transactions??[]).map(r=>typeof r=="string"?r:D8(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function Jd(t,{blockHash:e,blockNumber:r,blockTag:n,includeTransactions:i}={}){var l,d,f;const s=n??"latest",o=i??!1,a=r!==void 0?_e(r):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||s,o]},{dedupe:!!a}),!c)throw new R8({blockHash:e,blockNumber:r});return(((f=(d=(l=t.chain)==null?void 0:l.formatters)==null?void 0:d.block)==null?void 0:f.format)||gY)(c)}async function M8(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function mY(t,e){var s,o;const{block:r,chain:n=t.chain,request:i}=e||{};try{const a=((s=n==null?void 0:n.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=n==null?void 0:n.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const u=r||await Je(t,Jd,"getBlock")({}),l=await a({block:u,client:t,request:i});if(l===null)throw new Error;return l}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return _u(c)}catch{const[a,c]=await Promise.all([r?Promise.resolve(r):Je(t,Jd,"getBlock")({}),Je(t,M8,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new Hb;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function MC(t,e){var f,h;const{block:r,chain:n=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var g,y;return typeof((g=n==null?void 0:n.fees)==null?void 0:g.baseFeeMultiplier)=="function"?n.fees.baseFeeMultiplier({block:r,client:t,request:i}):((y=n==null?void 0:n.fees)==null?void 0:y.baseFeeMultiplier)??1.2})();if(o<1)throw new fY;const c=10**(((f=o.toString().split(".")[1])==null?void 0:f.length)??0),u=g=>g*BigInt(Math.ceil(o*c))/BigInt(c),l=r||await Je(t,Jd,"getBlock")({});if(typeof((h=n==null?void 0:n.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const g=await n.fees.estimateFeesPerGas({block:r,client:t,multiply:u,request:i,type:s});if(g!==null)return g}if(s==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new Hb;const g=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await mY(t,{block:l,chain:n,request:i}),y=u(l.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??y+g,maxPriorityFeePerGas:g}}return{gasPrice:(i==null?void 0:i.gasPrice)??u(await Je(t,M8,"getGasPrice")({}))}}async function yY(t,{address:e,blockTag:r="latest",blockNumber:n}){const i=await t.request({method:"eth_getTransactionCount",params:[e,n?_e(n):r]},{dedupe:!!n});return Ua(i)}function $8(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(s=>rs(s)):t.blobs,i=[];for(const s of n)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return r==="bytes"?i:i.map(s=>Or(s))}function U8(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(o=>rs(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>rs(o)):t.commitments,s=[];for(let o=0;o<n.length;o++){const a=n[o],c=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return r==="bytes"?s:s.map(o=>Or(o))}function wY(t,e){return h$(js(t,{strict:!1})?jf(t):t)}function vY(t){const{commitment:e,version:r=1}=t,n=t.to??(typeof e=="string"?"hex":"bytes"),i=wY(e);return i.set([r],0),n==="bytes"?i:Or(i)}function bY(t){const{commitments:e,version:r}=t,n=t.to,i=[];for(const s of e)i.push(vY({commitment:s,to:n,version:r}));return i}const $C=6,L8=32,qb=4096,F8=L8*qb,UC=F8*$C-1-1*qb*$C;class EY extends V{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class AY extends V{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function CY(t){const e=typeof t.data=="string"?rs(t.data):t.data,r=br(e);if(!r)throw new AY;if(r>UC)throw new EY({maxSize:UC,size:r});const n=[];let i=!0,s=0;for(;i;){const o=Mb(new Uint8Array(F8));let a=0;for(;a<qb;){const c=e.slice(s,s+(L8-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),i=!1;break}a++,s+=31}n.push(o)}return n.map(o=>Or(o.bytes))}function _Y(t){const{data:e,kzg:r,to:n}=t,i=t.blobs??CY({data:e}),s=t.commitments??$8({blobs:i,kzg:r,to:n}),o=t.proofs??U8({blobs:i,commitments:s,kzg:r,to:n}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}function SY(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new HQ({transaction:t})}async function B8(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Ua(e)}const j8=["blobVersionedHashes","chainId","fees","gas","nonce","type"],LC=new Map;async function Wb(t,e){const{account:r=t.account,blobs:n,chain:i,gas:s,kzg:o,nonce:a,nonceManager:c,parameters:u=j8,type:l}=e,d=r&&us(r),f={...e,...d?{from:d==null?void 0:d.address}:{}};let h;async function g(){return h||(h=await Je(t,Jd,"getBlock")({blockTag:"latest"}),h)}let y;async function _(){return y||(i?i.id:typeof e.chainId<"u"?e.chainId:(y=await Je(t,B8,"getChainId")({}),y))}if(u.includes("nonce")&&typeof a>"u"&&d)if(c){const v=await _();f.nonce=await c.consume({address:d.address,chainId:v,client:t})}else f.nonce=await Je(t,yY,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&n&&o){const v=$8({blobs:n,kzg:o});if(u.includes("blobVersionedHashes")){const w=bY({commitments:v,to:"hex"});f.blobVersionedHashes=w}if(u.includes("sidecars")){const w=U8({blobs:n,commitments:v,kzg:o}),A=_Y({blobs:n,commitments:v,proofs:w,to:"hex"});f.sidecars=A}}if(u.includes("chainId")&&(f.chainId=await _()),(u.includes("fees")||u.includes("type"))&&typeof l>"u")try{f.type=SY(f)}catch{let v=LC.get(t.uid);if(typeof v>"u"){const w=await g();v=typeof(w==null?void 0:w.baseFeePerGas)=="bigint",LC.set(t.uid,v)}f.type=v?"eip1559":"legacy"}if(u.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const v=await g(),{maxFeePerGas:w,maxPriorityFeePerGas:A}=await MC(t,{block:v,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<A)throw new hY({maxPriorityFeePerGas:A});f.maxPriorityFeePerGas=A,f.maxFeePerGas=w}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new Hb;if(typeof e.gasPrice>"u"){const v=await g(),{gasPrice:w}=await MC(t,{block:v,chain:i,request:f,type:"legacy"});f.gasPrice=w}}return u.includes("gas")&&typeof s>"u"&&(f.gas=await Je(t,H8,"estimateGas")({...f,account:d&&{address:d.address,type:"json-rpc"}})),_g(f),delete f.parameters,f}async function z8(t,{address:e,blockNumber:r,blockTag:n="latest"}){const i=r?_e(r):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||n]});return BigInt(s)}async function H8(t,e){var i,s,o;const{account:r=t.account}=e,n=r?us(r):void 0;try{let I=function(C){const{block:k,request:N,rpcStateOverride:S}=C;return t.request({method:"eth_estimateGas",params:S?[N,k??"latest",S]:k?[N,k]:[N]})};const{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:l,blockNumber:d,blockTag:f,data:h,gas:g,gasPrice:y,maxFeePerBlobGas:_,maxFeePerGas:v,maxPriorityFeePerGas:w,nonce:A,value:P,stateOverride:R,...D}=await Wb(t,{...e,parameters:(n==null?void 0:n.type)==="local"?void 0:["blobVersionedHashes"]}),L=(d?_e(d):void 0)||f,$=k8(R),F=await(async()=>{if(D.to)return D.to;if(c&&c.length>0)return await P8({authorization:c[0]}).catch(()=>{throw new V("`to` is required. Could not infer from `authorizationList`")})})();_g(e);const x=(o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,b=(x||zb)({...jb(D,{format:x}),from:n==null?void 0:n.address,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:l,data:h,gas:g,gasPrice:y,maxFeePerBlobGas:_,maxFeePerGas:v,maxPriorityFeePerGas:w,nonce:A,to:F,value:P});let E=BigInt(await I({block:L,request:b,rpcStateOverride:$}));if(c){const C=await z8(t,{address:b.from}),k=await Promise.all(c.map(async N=>{const{address:S}=N,m=await I({block:L,request:{authorizationList:void 0,data:h,from:n==null?void 0:n.address,to:S,value:_e(C)},rpcStateOverride:$}).catch(()=>100000n);return 2n*BigInt(m)}));E+=k.reduce((N,S)=>N+S,0n)}return E}catch(a){throw aY(a,{...e,account:n,chain:t.chain})}}function IY(t,e){if(!ns(t,{strict:!1}))throw new La({address:t});if(!ns(e,{strict:!1}))throw new La({address:e});return t.toLowerCase()===e.toLowerCase()}const FC="/docs/contract/decodeEventLog";function xY(t){const{abi:e,data:r,strict:n,topics:i}=t,s=n??!0,[o,...a]=i;if(!o)throw new zG({docsPath:FC});const c=e.length===1?e[0]:e.find(y=>y.type==="event"&&o===Tb(Lo(y)));if(!(c&&"name"in c)||c.type!=="event")throw new u8(o,{docsPath:FC});const{name:u,inputs:l}=c,d=l==null?void 0:l.some(y=>!("name"in y&&y.name));let f=d?[]:{};const h=l.filter(y=>"indexed"in y&&y.indexed);for(let y=0;y<h.length;y++){const _=h[y],v=a[y];if(!v)throw new l8({abiItem:c,param:_});f[d?y:_.name||y]=NY({param:_,value:v})}const g=l.filter(y=>!("indexed"in y&&y.indexed));if(g.length>0){if(r&&r!=="0x")try{const y=Ag(g,r);if(y)if(d)f=[...f,...y];else for(let _=0;_<g.length;_++)f[g[_].name]=y[_]}catch(y){if(s)throw y instanceof a8||y instanceof C8?new Sv({abiItem:c,data:r,params:g,size:br(r)}):y}else if(s)throw new Sv({abiItem:c,data:"0x",params:g,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function NY({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Ag([t],e)||[])[0]}function TY(t){const{abi:e,args:r,logs:n,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return n.map(o=>{var a;try{const c=e.find(l=>l.type==="event"&&o.topics[0]===Tb(l));if(!c)return null;const u=xY({...o,abi:[c],strict:i});return s&&!s.includes(u.eventName)||!PY({args:u.args,inputs:c.inputs,matchArgs:r})?null:{...u,...o}}catch(c){let u,l;if(c instanceof u8)return null;if(c instanceof Sv||c instanceof l8){if(i)return null;u=c.abiItem.name,l=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:l?[]:{},eventName:u}}}).filter(Boolean)}function PY(t){const{args:e,inputs:r,matchArgs:n}=t;if(!n)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?IY(o,a):s.type==="string"||s.type==="bytes"?Fo(jf(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(n)?n.every((s,o)=>{if(s==null)return!0;const a=r[o];return a?(Array.isArray(s)?s:[s]).some(u=>i(a,u,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof n=="object"&&!Array.isArray(n)?Object.entries(n).every(([s,o])=>{if(o==null)return!0;const a=r.find(u=>u.name===s);return a?(Array.isArray(o)?o:[o]).some(u=>i(a,u,e[s])):!1}):!1}function q8(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}const by="/docs/contract/decodeFunctionResult";function Hf(t){const{abi:e,args:r,functionName:n,data:i}=t;let s=e[0];if(n){const a=Db({abi:e,args:r,name:n});if(!a)throw new Xp(n,{docsPath:by});s=a}if(s.type!=="function")throw new Xp(void 0,{docsPath:by});if(!s.outputs)throw new HG(s.name,{docsPath:by});const o=Ag(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const Uv=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],W8=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],V8=[...W8,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],kY=[...W8,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],BC=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],jC=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],RY="0x82ad56cb",OY="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",DY="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";class Lv extends V{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class MY extends V{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class $Y extends V{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class K8 extends V{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const Ey="/docs/contract/encodeDeployData";function G8(t){const{abi:e,args:r,bytecode:n}=t;if(!r||r.length===0)return n;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new LG({docsPath:Ey});if(!("inputs"in i))throw new SC({docsPath:Ey});if(!i.inputs||i.inputs.length===0)throw new SC({docsPath:Ey});const s=b8(i.inputs,r);return Eg([n,s])}function qf({blockNumber:t,chain:e,contract:r}){var i;const n=(i=e==null?void 0:e.contracts)==null?void 0:i[r];if(!n)throw new Lv({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new Lv({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function UY(t,{docsPath:e,...r}){const n=(()=>{const i=Bb(t,r);return i instanceof Cg?t:i})();return new KQ(n,{docsPath:e,...r})}function Q8(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const Ay=new Map;function Y8({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const l=c();o();const d=l.map(({args:f})=>f);d.length!==0&&t(d).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let h=0;h<l.length;h++){const{resolve:g}=l[h];g==null||g([f[h],f])}}).catch(f=>{for(let h=0;h<l.length;h++){const{reject:g}=l[h];g==null||g(f)}})},o=()=>Ay.delete(e),a=()=>c().map(({args:l})=>l),c=()=>Ay.get(e)||[],u=l=>Ay.set(e,[...c(),l]);return{flush:o,async schedule(l){const{promise:d,resolve:f,reject:h}=Q8();return(r==null?void 0:r([...a(),l]))&&s(),c().length>0?(u({args:l,resolve:f,reject:h}),d):(u({args:l,resolve:f,reject:h}),setTimeout(s,n),d)}}}async function J8(t,e){var x,p,b,I;const{account:r=t.account,batch:n=!!((x=t.batch)!=null&&x.multicall),blockNumber:i,blockTag:s="latest",accessList:o,blobs:a,code:c,data:u,factory:l,factoryData:d,gas:f,gasPrice:h,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:_,nonce:v,to:w,value:A,stateOverride:P,...R}=e,D=r?us(r):void 0;if(c&&(l||d))throw new V("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&w)throw new V("Cannot provide both `code` & `to` as parameters.");const M=c&&u,L=l&&d&&w&&u,$=M||L,F=M?BY({code:c,data:u}):L?jY({data:u,factory:l,factoryData:d,to:w}):u;try{_g(e);const C=(i?_e(i):void 0)||s,k=k8(P),N=(I=(b=(p=t.chain)==null?void 0:p.formatters)==null?void 0:b.transactionRequest)==null?void 0:I.format,m=(N||zb)({...jb(R,{format:N}),from:D==null?void 0:D.address,accessList:o,blobs:a,data:F,gas:f,gasPrice:h,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:_,nonce:v,to:$?void 0:w,value:A});if(n&&LY({request:m})&&!k)try{return await FY(t,{...m,blockNumber:i,blockTag:s})}catch(j){if(!(j instanceof K8)&&!(j instanceof Lv))throw j}const T=await t.request({method:"eth_call",params:k?[m,C,k]:[m,C]});return T==="0x"?{data:void 0}:{data:T}}catch(E){const C=zY(E),{offchainLookup:k,offchainLookupSignature:N}=await hn(async()=>{const{offchainLookup:S,offchainLookupSignature:m}=await import("./ccip-B25PK3wT.js");return{offchainLookup:S,offchainLookupSignature:m}},[]);if(t.ccipRead!==!1&&(C==null?void 0:C.slice(0,10))===N&&w)return{data:await k(t,{data:C,to:w})};throw $&&(C==null?void 0:C.slice(0,10))==="0x101bb98d"?new QQ({factory:l}):UY(E,{...e,account:D,chain:t.chain})}}function LY({request:t}){const{data:e,to:r,...n}=t;return!(!e||e.startsWith(RY)||!r||Object.values(n).filter(i=>typeof i<"u").length>0)}async function FY(t,e){var y;const{batchSize:r=1024,wait:n=0}=typeof((y=t.batch)==null?void 0:y.multicall)=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:s="latest",data:o,multicallAddress:a,to:c}=e;let u=a;if(!u){if(!t.chain)throw new K8;u=qf({blockNumber:i,chain:t.chain,contract:"multicall3"})}const d=(i?_e(i):void 0)||s,{schedule:f}=Y8({id:`${t.uid}.${d}`,wait:n,shouldSplitBatch(_){return _.reduce((w,{data:A})=>w+(A.length-2),0)>r*2},fn:async _=>{const v=_.map(P=>({allowFailure:!0,callData:P.data,target:P.to})),w=Xu({abi:Uv,args:[v],functionName:"aggregate3"}),A=await t.request({method:"eth_call",params:[{data:w,to:u},d]});return Hf({abi:Uv,args:[v],functionName:"aggregate3",data:A||"0x"})}}),[{returnData:h,success:g}]=await f({data:o,to:c});if(!g)throw new Lb({data:h});return h==="0x"?{data:void 0}:{data:h}}function BY(t){const{code:e,data:r}=t;return G8({abi:Y6(["constructor(bytes, bytes)"]),bytecode:OY,args:[e,r]})}function jY(t){const{data:e,factory:r,factoryData:n,to:i}=t;return G8({abi:Y6(["constructor(address, bytes, address, bytes)"]),bytecode:DY,args:[i,e,r,n]})}function zY(t){var r;if(!(t instanceof V))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(r=e.data)==null?void 0:r.data:e.data}async function ja(t,e){const{abi:r,address:n,args:i,functionName:s,...o}=e,a=Xu({abi:r,args:i,functionName:s});try{const{data:c}=await Je(t,J8,"call")({...o,data:a,to:n});return Hf({abi:r,args:i,functionName:s,data:c||"0x"})}catch(c){throw t0(c,{abi:r,address:n,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}const Cy=new Map,zC=new Map;let HY=0;function i0(t,e,r){const n=++HY,i=()=>Cy.get(t)||[],s=()=>{const l=i();Cy.set(t,l.filter(d=>d.id!==n))},o=()=>{const l=i();if(!l.some(f=>f.id===n))return;const d=zC.get(t);l.length===1&&d&&d(),s()},a=i();if(Cy.set(t,[...a,{id:n,fns:e}]),a&&a.length>0)return o;const c={};for(const l in e)c[l]=(...d)=>{var h,g;const f=i();if(f.length!==0)for(const y of f)(g=(h=y.fns)[l])==null||g.call(h,...d)};const u=r(c);return typeof u=="function"&&zC.set(t,u),o}async function s0(t){return new Promise(e=>setTimeout(e,t))}function Z8(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const c=await(r==null?void 0:r(a))??n;await s0(c);const u=async()=>{i&&(await t({unpoll:s}),await s0(n),u())};u()})(),s}const qY=new Map,WY=new Map;function VY(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),r=e(t,qY),n=e(t,WY);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function KY(t,{cacheKey:e,cacheTime:r=Number.POSITIVE_INFINITY}){const n=VY(e),i=n.response.get();if(i&&r>0&&new Date().getTime()-i.created.getTime()<r)return i.data;let s=n.promise.get();s||(s=t(),n.promise.set(s));try{const o=await s;return n.response.set({created:new Date,data:o}),o}finally{n.promise.clear()}}const GY=t=>`blockNumber.${t}`;async function QY(t,{cacheTime:e=t.cacheTime}={}){const r=await KY(()=>t.request({method:"eth_blockNumber"}),{cacheKey:GY(t.uid),cacheTime:e});return BigInt(r)}async function YY(t,{filter:e}){const r="strict"in e&&e.strict,n=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof n[0]=="string")return n;const i=n.map(s=>q8(s));return!("abi"in e)||!e.abi?i:TY({abi:e.abi,logs:i,strict:r})}async function JY(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}class Vb extends V{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class _y extends V{constructor({docsPath:e,metaMessages:r,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:r,name:"AccountTypeNotSupportedError"})}}function ZY({chain:t,currentChainId:e}){if(!t)throw new $Y;if(e!==t.id)throw new MY({chain:t,currentChainId:e})}function XY(t,{docsPath:e,...r}){const n=(()=>{const i=Bb(t,r);return i instanceof Cg?t:i})();return new qQ(n,{docsPath:e,...r})}async function eJ(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const Sy=new vg(128);async function X8(t,e){var v,w,A,P;const{account:r=t.account,chain:n=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,value:g,...y}=e;if(typeof r>"u")throw new Vb({docsPath:"/docs/actions/wallet/sendTransaction"});const _=r?us(r):null;try{_g(e);const R=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await P8({authorization:s[0]}).catch(()=>{throw new V("`to` is required. Could not infer from `authorizationList`.")})})();if((_==null?void 0:_.type)==="json-rpc"||_===null){let D;n!==null&&(D=await Je(t,B8,"getChainId")({}),ZY({currentChainId:D,chain:n}));const M=(A=(w=(v=t.chain)==null?void 0:v.formatters)==null?void 0:w.transactionRequest)==null?void 0:A.format,$=(M||zb)({...jb(y,{format:M}),accessList:i,authorizationList:s,blobs:o,chainId:D,data:a,from:_==null?void 0:_.address,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,to:R,value:g}),F=Sy.get(t.uid),x=F?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:x,params:[$]},{retryCount:0})}catch(p){if(F===!1)throw p;const b=p;if(b.name==="InvalidInputRpcError"||b.name==="InvalidParamsRpcError"||b.name==="MethodNotFoundRpcError"||b.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[$]},{retryCount:0}).then(I=>(Sy.set(t.uid,!0),I)).catch(I=>{const E=I;throw E.name==="MethodNotFoundRpcError"||E.name==="MethodNotSupportedRpcError"?(Sy.set(t.uid,!1),b):E});throw b}}if((_==null?void 0:_.type)==="local"){const D=await Je(t,Wb,"prepareTransactionRequest")({account:_,accessList:i,authorizationList:s,blobs:o,chain:n,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,nonceManager:_.nonceManager,parameters:[...j8,"sidecars"],value:g,...y,to:R}),M=(P=n==null?void 0:n.serializers)==null?void 0:P.transaction,L=await _.signTransaction(D,{serializer:M});return await Je(t,eJ,"sendRawTransaction")({serializedTransaction:L})}throw(_==null?void 0:_.type)==="smart"?new _y({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new _y({docsPath:"/docs/actions/wallet/sendTransaction",type:_==null?void 0:_.type})}catch(R){throw R instanceof _y?R:XY(R,{...e,account:_,chain:e.chain||void 0})}}async function tJ(t,e){const{abi:r,account:n=t.account,address:i,args:s,dataSuffix:o,functionName:a,...c}=e;if(typeof n>"u")throw new Vb({docsPath:"/docs/contract/writeContract"});const u=n?us(n):null,l=Xu({abi:r,args:s,functionName:a});try{return await Je(t,X8,"sendTransaction")({data:`${l}${o?o.replace("0x",""):""}`,to:i,account:u,...c})}catch(d){throw t0(d,{abi:r,address:i,args:s,docsPath:"/docs/contract/writeContract",functionName:a,sender:u==null?void 0:u.address})}}const Fv=256;let Ph=Fv,kh;function ex(t=11){if(!kh||Ph+t>Fv*2){kh="",Ph=0;for(let e=0;e<Fv;e++)kh+=(256+Math.random()*256|0).toString(16).substring(1)}return kh.substring(Ph,Ph+++t)}function tx(t){const{batch:e,cacheTime:r=t.pollingInterval??4e3,ccipRead:n,key:i="base",name:s="Base Client",pollingInterval:o=4e3,type:a="base"}=t,c=t.chain,u=t.account?us(t.account):void 0,{config:l,request:d,value:f}=t.transport({chain:c,pollingInterval:o}),h={...l,...f},g={account:u,batch:e,cacheTime:r,ccipRead:n,chain:c,key:i,name:s,pollingInterval:o,request:d,transport:h,type:a,uid:ex()};function y(_){return v=>{const w=v(_);for(const P in g)delete w[P];const A={..._,...w};return Object.assign(A,{extend:y(A)})}}return Object.assign(g,{extend:y(g)})}const Rh=new vg(8192);function rJ(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(Rh.get(r))return Rh.get(r);const n=t().finally(()=>Rh.delete(r));return Rh.set(r,n),n}function o0(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const l=typeof e=="function"?e({count:a,error:u}):e;l&&await s0(l),o({count:a+1})};try{const u=await t();i(u)}catch(u){if(a<r&&await n({count:a,error:u}))return c({error:u});s(u)}};o()})}function nJ(t,e={}){return async(r,n={})=>{var d;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...n},{method:u}=r;if((d=s==null?void 0:s.exclude)!=null&&d.includes(u))throw new ga(new Error("method not supported"),{method:u});if(s!=null&&s.include&&!s.include.includes(u))throw new ga(new Error("method not supported"),{method:u});const l=i?wg(`${c}.${Jn(r)}`):void 0;return rJ(()=>o0(async()=>{try{return await t(r)}catch(f){const h=f;switch(h.code){case Bd.code:throw new Bd(h);case jd.code:throw new jd(h);case zd.code:throw new zd(h,{method:r.method});case Hd.code:throw new Hd(h);case Ba.code:throw new Ba(h);case qd.code:throw new qd(h);case Wd.code:throw new Wd(h);case ko.code:throw new ko(h);case Su.code:throw new Su(h);case ga.code:throw new ga(h,{method:r.method});case Iu.code:throw new Iu(h);case Vd.code:throw new Vd(h);case ur.code:throw new ur(h);case Kd.code:throw new Kd(h);case Gd.code:throw new Gd(h);case Qd.code:throw new Qd(h);case Yd.code:throw new Yd(h);case is.code:throw new is(h);case 5e3:throw new ur(h);default:throw f instanceof V?f:new JQ(h)}}},{delay:({count:f,error:h})=>{var g;if(h&&h instanceof ad){const y=(g=h==null?void 0:h.headers)==null?void 0:g.get("Retry-After");if(y!=null&&y.match(/\d/))return Number.parseInt(y)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>iJ(f)}),{enabled:i,id:l})}}function iJ(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Iu.code||t.code===Ba.code:t instanceof ad&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Kb({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const u=ex();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:nJ(n,{methods:e,retryCount:i,retryDelay:s,uid:u}),value:c}}function sJ(t,e={}){const{key:r="custom",methods:n,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>Kb({key:r,methods:n,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}function HC(t,e={}){const{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:s=oJ,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:u=4e3,timeout:l,...d})=>{let f=t,h=()=>{};const g=Kb({key:r,name:n,async request({method:y,params:_}){let v;const w=async(A=0)=>{const P=f[A]({...d,chain:c,retryCount:0,timeout:l});try{const R=await P.request({method:y,params:_});return h({method:y,params:_,response:R,transport:P,status:"success"}),R}catch(R){if(h({error:R,method:y,params:_,transport:P,status:"error"}),s(R)||A===f.length-1||(v??(v=f.slice(A+1).some(D=>{const{include:M,exclude:L}=D({chain:c}).config.methods||{};return M?M.includes(y):L?!L.includes(y):!0})),!v))throw R;return w(A+1)}};return w()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:y=>h=y,transports:f.map(y=>y({chain:c,retryCount:0}))});if(i){const y=typeof i=="object"?i:{};aJ({chain:c,interval:y.interval??u,onTransports:_=>f=_,ping:y.ping,sampleCount:y.sampleCount,timeout:y.timeout,transports:f,weights:y.weights})}return g}}function oJ(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Su.code||t.code===ur.code||ma.nodeMessage.test(t.message)||t.code===5e3))}function aJ({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,l=[],d=async()=>{const f=await Promise.all(o.map(async y=>{const _=y({chain:t,retryCount:0,timeout:s}),v=Date.now();let w,A;try{await(n?n({transport:_}):_.request({method:"net_listening"})),A=1}catch{A=0}finally{w=Date.now()}return{latency:w-v,success:A}}));l.push(f),l.length>i&&l.shift();const h=Math.max(...l.map(y=>Math.max(...y.map(({latency:_})=>_)))),g=o.map((y,_)=>{const v=l.map(D=>D[_].latency),A=1-v.reduce((D,M)=>D+M,0)/v.length/h,P=l.map(D=>D[_].success),R=P.reduce((D,M)=>D+M,0)/P.length;return R===0?[0,_]:[u*A+c*R,_]}).sort((y,_)=>_[0]-y[0]);r(g.map(([,y])=>o[y])),await s0(e),d()};d()}class cJ extends V{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function rx(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n?a.abort():s(e)},r)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function uJ(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const qC=uJ();function lJ(t,e={}){return{async request(r){var d;const{body:n,onRequest:i=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=r,a={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:u,signal:l}=a;try{const f=await rx(async({signal:g})=>{const y={...a,body:Array.isArray(n)?Jn(n.map(A=>({jsonrpc:"2.0",id:A.id??qC.take(),...A}))):Jn({jsonrpc:"2.0",id:n.id??qC.take(),...n}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:l||(o>0?g:null)},_=new Request(t,y),v=await(i==null?void 0:i(_,y))??{...y,url:t};return await fetch(v.url??t,v)},{errorInstance:new RC({body:n,url:t}),timeout:o,signal:!0});s&&await s(f);let h;if((d=f.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))h=await f.json();else{h=await f.text();try{h=JSON.parse(h||"{}")}catch(g){if(f.ok)throw g;h={error:h}}}if(!f.ok)throw new ad({body:n,details:Jn(h.error)||f.statusText,headers:f.headers,status:f.status,url:t});return h}catch(f){throw f instanceof ad||f instanceof RC?f:new ad({body:n,cause:f,url:t})}}}}function Iy(t,e={}){const{batch:r,fetchOptions:n,key:i="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:u,raw:l}=e;return({chain:d,retryCount:f,timeout:h})=>{const{batchSize:g=1e3,wait:y=0}=typeof r=="object"?r:{},_=e.retryCount??f,v=h??e.timeout??1e4,w=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!w)throw new cJ;const A=lJ(w,{fetchOptions:n,onRequest:a,onResponse:c,timeout:v});return Kb({key:i,methods:s,name:o,async request({method:P,params:R}){const D={method:P,params:R},{schedule:M}=Y8({id:w,wait:y,shouldSplitBatch(x){return x.length>g},fn:x=>A.request({body:x}),sort:(x,p)=>x.id-p.id}),L=async x=>r?M(x):[await A.request({body:x})],[{error:$,result:F}]=await L(D);if(l)return{error:$,result:F};if($)throw new Fb({body:D,error:$,url:w});return F},retryCount:_,retryDelay:u,timeout:v,type:"http"},{fetchOptions:n,url:w})}}function Gb(t,e){var n,i,s,o,a,c;if(!(t instanceof V))return!1;const r=t.walk(u=>u instanceof Nv);return r instanceof Nv?!!(((n=r.data)==null?void 0:n.errorName)==="ResolverNotFound"||((i=r.data)==null?void 0:i.errorName)==="ResolverWildcardNotSupported"||((s=r.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=r.data)==null?void 0:o.errorName)==="ResolverError"||((a=r.data)==null?void 0:a.errorName)==="HttpError"||(c=r.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&r.reason===A8[50]):!1}function nx(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return js(e)?e:null}function op(t){let e=new Uint8Array(32).fill(0);if(!t)return Or(e);const r=t.split(".");for(let n=r.length-1;n>=0;n-=1){const i=nx(r[n]),s=i?jf(i):Fo(Ca(r[n]),"bytes");e=Fo(Fa([e,s]),"bytes")}return Or(e)}function dJ(t){return`[${t.slice(2)}]`}function fJ(t){const e=new Uint8Array(32).fill(0);return t?nx(t)||Fo(Ca(t)):Or(e)}function Qb(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const r=new Uint8Array(Ca(e).byteLength+2);let n=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=Ca(i[s]);o.byteLength>255&&(o=Ca(dJ(fJ(i[s])))),r[n]=o.length,r.set(o,n+1),n+=o.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}async function hJ(t,{blockNumber:e,blockTag:r,coinType:n,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){let c=a;if(!c){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=qf({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const u=Xu({abi:jC,functionName:"addr",...n!=null?{args:[op(i),BigInt(n)]}:{args:[op(i)]}}),l={address:c,abi:V8,functionName:"resolve",args:[zs(Qb(i)),u],blockNumber:e,blockTag:r},d=Je(t,ja,"readContract"),f=s?await d({...l,args:[...l.args,s]}):await d(l);if(f[0]==="0x")return null;const h=Hf({abi:jC,args:n!=null?[op(i),BigInt(n)]:void 0,functionName:"addr",data:f[0]});return h==="0x"||Zu(h)==="0x00"?null:h}catch(u){if(o)throw u;if(Gb(u,"resolve"))return null;throw u}}class pJ extends V{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Rl extends V{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class Yb extends V{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class gJ extends V{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const mJ=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,yJ=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,wJ=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,vJ=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function bJ(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const r=e.headers.get("content-type");return r==null?void 0:r.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function WC(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function ix({uri:t,gatewayUrls:e}){const r=wJ.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const n=WC(e==null?void 0:e.ipfs,"https://ipfs.io"),i=WC(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(mJ),{protocol:o,subpath:a,target:c,subtarget:u=""}=(s==null?void 0:s.groups)||{},l=o==="ipns:/"||a==="ipns/",d=o==="ipfs:/"||a==="ipfs/"||yJ.test(t);if(t.startsWith("http")&&!l&&!d){let h=t;return e!=null&&e.arweave&&(h=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${n}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${i}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(vJ,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new Yb({uri:t})}function sx(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new pJ({data:t});return t.image||t.image_url||t.image_data}async function EJ({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then(i=>i.json());return await Jb({gatewayUrls:t,uri:sx(r)})}catch{throw new Yb({uri:e})}}async function Jb({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:n}=ix({uri:e,gatewayUrls:t});if(n||await bJ(r))return r;throw new Yb({uri:e})}function AJ(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[r,n,i]=e.split("/"),[s,o]=r.split(":"),[a,c]=n.split(":");if(!s||s.toLowerCase()!=="eip155")throw new Rl({reason:"Only EIP-155 supported"});if(!o)throw new Rl({reason:"Chain ID not found"});if(!c)throw new Rl({reason:"Contract address not found"});if(!i)throw new Rl({reason:"Token ID not found"});if(!a)throw new Rl({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function CJ(t,{nft:e}){if(e.namespace==="erc721")return ja(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return ja(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new gJ({namespace:e.namespace})}async function _J(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?SJ(t,{gatewayUrls:e,record:r}):Jb({uri:r,gatewayUrls:e})}async function SJ(t,{gatewayUrls:e,record:r}){const n=AJ(r),i=await CJ(t,{nft:n}),{uri:s,isOnChain:o,isEncoded:a}=ix({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const u=a?atob(s.replace("data:application/json;base64,","")):s,l=JSON.parse(u);return Jb({uri:sx(l),gatewayUrls:e})}let c=n.tokenID;return n.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),EJ({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,c)})}async function IJ(t,{blockNumber:e,blockTag:r,name:n,key:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){let c=a;if(!c){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=qf({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:V8,functionName:"resolve",args:[zs(Qb(n)),Xu({abi:BC,functionName:"text",args:[op(n),i]})],blockNumber:e,blockTag:r},l=Je(t,ja,"readContract"),d=s?await l({...u,args:[...u.args,s]}):await l(u);if(d[0]==="0x")return null;const f=Hf({abi:BC,functionName:"text",data:d[0]});return f===""?null:f}catch(u){if(o)throw u;if(Gb(u,"resolve"))return null;throw u}}async function xJ(t,{blockNumber:e,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await Je(t,IJ,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await _J(t,{record:c,gatewayUrls:n})}catch{return null}}async function NJ(t,{address:e,blockNumber:r,blockTag:n,gatewayUrls:i,strict:s,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=qf({blockNumber:r,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:a,abi:kY,functionName:"reverse",args:[zs(Qb(c))],blockNumber:r,blockTag:n},l=Je(t,ja,"readContract"),[d,f]=i?await l({...u,args:[...u.args,i]}):await l(u);return e.toLowerCase()!==f.toLowerCase()?null:d}catch(u){if(s)throw u;if(Gb(u,"reverse"))return null;throw u}}async function TJ(t){const e=vQ(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}function ox(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const PJ={"0x0":"reverted","0x1":"success"};function kJ(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>q8(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Ua(t.transactionIndex):null,status:t.status?PJ[t.status]:null,type:t.type?O8[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}class RJ extends V{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function OJ(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new RJ({value:t});let[r,n="0"]=t.split(".");const i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),e===0)Math.round(+`.${n}`)===1&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>e){const[s,o,a]=[n.slice(0,e-1),n.slice(e-1,e),n.slice(e)],c=Math.round(+`${o}.${a}`);c>9?n=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):n=`${s}${c}`,n.length>e&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,e)}else n=n.padEnd(e,"0");return BigInt(`${i?"-":""}${r}${n}`)}async function ax(t,{blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s}){var l,d,f;const o=n||"latest",a=r!==void 0?_e(r):void 0;let c=null;if(i?c=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,_e(s)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,_e(s)]},{dedupe:!!a}),!c)throw new S8({blockHash:e,blockNumber:r,blockTag:o,hash:i,index:s});return(((f=(d=(l=t.chain)==null?void 0:l.formatters)==null?void 0:d.transaction)==null?void 0:f.format)||D8)(c)}async function VC(t,{hash:e}){var i,s,o;const r=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!r)throw new I8({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||kJ)(r)}async function DJ(t,e){var _;const{allowFailure:r=!0,batchSize:n,blockNumber:i,blockTag:s,multicallAddress:o,stateOverride:a}=e,c=e.contracts,u=n??(typeof((_=t.batch)==null?void 0:_.multicall)=="object"&&t.batch.multicall.batchSize||1024);let l=o;if(!l){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");l=qf({blockNumber:i,chain:t.chain,contract:"multicall3"})}const d=[[]];let f=0,h=0;for(let v=0;v<c.length;v++){const{abi:w,address:A,args:P,functionName:R}=c[v];try{const D=Xu({abi:w,args:P,functionName:R});h+=(D.length-2)/2,u>0&&h>u&&d[f].length>0&&(f++,h=(D.length-2)/2,d[f]=[]),d[f]=[...d[f],{allowFailure:!0,callData:D,target:A}]}catch(D){const M=t0(D,{abi:w,address:A,args:P,docsPath:"/docs/contract/multicall",functionName:R});if(!r)throw M;d[f]=[...d[f],{allowFailure:!0,callData:"0x",target:A}]}}const g=await Promise.allSettled(d.map(v=>Je(t,ja,"readContract")({abi:Uv,address:l,args:[v],blockNumber:i,blockTag:s,functionName:"aggregate3",stateOverride:a}))),y=[];for(let v=0;v<g.length;v++){const w=g[v];if(w.status==="rejected"){if(!r)throw w.reason;for(let P=0;P<d[v].length;P++)y.push({status:"failure",error:w.reason,result:void 0});continue}const A=w.value;for(let P=0;P<A.length;P++){const{returnData:R,success:D}=A[P],{callData:M}=d[v][P],{abi:L,address:$,functionName:F,args:x}=c[y.length];try{if(M==="0x")throw new yg;if(!D)throw new Lb({data:R});const p=Hf({abi:L,args:x,data:R,functionName:F});y.push(r?{result:p,status:"success"}:p)}catch(p){const b=t0(p,{abi:L,address:$,args:x,docsPath:"/docs/contract/multicall",functionName:F});if(!r)throw b;y.push({error:b,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new V("multicall results mismatch");return y}function MJ(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let c;return a?(()=>{const d=Jn(["watchBlockNumber",t.uid,e,r,o]);return i0(d,{onBlockNumber:n,onError:i},f=>Z8(async()=>{var h;try{const g=await Je(t,QY,"getBlockNumber")({cacheTime:0});if(c){if(g===c)return;if(g-c>1&&r)for(let y=c+1n;y<g;y++)f.onBlockNumber(y,c),c=y}(!c||g>c)&&(f.onBlockNumber(g,c),c=g)}catch(g){(h=f.onError)==null||h.call(f,g)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=Jn(["watchBlockNumber",t.uid,e,r]);return i0(d,{onBlockNumber:n,onError:i},f=>{let h=!0,g=()=>h=!1;return(async()=>{try{const y=(()=>{if(t.transport.type==="fallback"){const v=t.transport.transports.find(w=>w.config.type==="webSocket");return v?v.value:t.transport}return t.transport})(),{unsubscribe:_}=await y.subscribe({params:["newHeads"],onData(v){var A;if(!h)return;const w=_u((A=v.result)==null?void 0:A.number);f.onBlockNumber(w,c),c=w},onError(v){var w;(w=f.onError)==null||w.call(f,v)}});g=_,h||g()}catch(y){i==null||i(y)}})(),()=>g()})})()}async function $J(t,{confirmations:e=1,hash:r,onReplaced:n,pollingInterval:i=t.pollingInterval,retryCount:s=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=Jn(["waitForTransactionReceipt",t.uid,r]);let u,l,d,f=!1;const{promise:h,resolve:g,reject:y}=Q8(),_=a?setTimeout(()=>y(new WQ({hash:r})),a):void 0,v=i0(c,{onReplaced:n,resolve:g,reject:y},w=>{const A=Je(t,MJ,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(P){const R=M=>{clearTimeout(_),A(),M(),v()};let D=P;if(!f)try{if(d){if(e>1&&(!d.blockNumber||D-d.blockNumber+1n<e))return;R(()=>w.resolve(d));return}if(u||(f=!0,await o0(async()=>{u=await Je(t,ax,"getTransaction")({hash:r}),u.blockNumber&&(D=u.blockNumber)},{delay:o,retryCount:s}),f=!1),d=await Je(t,VC,"getTransactionReceipt")({hash:r}),e>1&&(!d.blockNumber||D-d.blockNumber+1n<e))return;R(()=>w.resolve(d))}catch(M){if(M instanceof S8||M instanceof I8){if(!u){f=!1;return}try{l=u,f=!0;const L=await o0(()=>Je(t,Jd,"getBlock")({blockNumber:D,includeTransactions:!0}),{delay:o,retryCount:s,shouldRetry:({error:x})=>x instanceof R8});f=!1;const $=L.transactions.find(({from:x,nonce:p})=>x===l.from&&p===l.nonce);if(!$||(d=await Je(t,VC,"getTransactionReceipt")({hash:$.hash}),e>1&&(!d.blockNumber||D-d.blockNumber+1n<e)))return;let F="replaced";$.to===l.to&&$.value===l.value&&$.input===l.input?F="repriced":$.from===$.to&&$.value===0n&&(F="cancelled"),R(()=>{var x;(x=w.onReplaced)==null||x.call(w,{reason:F,replacedTransaction:l,transaction:$,transactionReceipt:d}),w.resolve(d)})}catch(L){R(()=>w.reject(L))}}else R(()=>w.reject(M))}}})});return h}function UJ(t,{batch:e=!0,onError:r,onTransactions:n,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket")?(()=>{const u=Jn(["watchPendingTransactions",t.uid,e,s]);return i0(u,{onTransactions:n,onError:r},l=>{let d;const f=Z8(async()=>{var h;try{if(!d)try{d=await Je(t,TJ,"createPendingTransactionFilter")({});return}catch(y){throw f(),y}const g=await Je(t,YY,"getFilterChanges")({filter:d});if(g.length===0)return;if(e)l.onTransactions(g);else for(const y of g)l.onTransactions([y])}catch(g){(h=l.onError)==null||h.call(l,g)}},{emitOnBegin:!0,interval:s});return async()=>{d&&await Je(t,JY,"uninstallFilter")({filter:d}),f()}})})():(()=>{let u=!0,l=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const h=f.result;n([h])},onError(f){r==null||r(f)}});l=d,u||l()}catch(d){r==null||r(d)}})(),()=>l()})()}async function LJ(t,{account:e=t.account,message:r}){if(!e)throw new Vb({docsPath:"/docs/actions/wallet/signMessage"});const n=us(e);if(n.signMessage)return n.signMessage({message:r});const i=typeof r=="string"?wg(r):r.raw instanceof Uint8Array?zs(r.raw):r.raw;return t.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}const xy={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return el(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},KC={async getMyTokensWithBalance(t){const e=oe.state.address,r=U.state.activeCaipNetwork;if(!e||!r)return[];if(r.chainNamespace==="eip155"){const i=await this.getEIP155Balances(e,r);if(i)return this.filterLowQualityTokens(i)}const n=await ue.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(n.balances)},async getEIP155Balances(t,e){var r,n;try{const i=xy.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),s=await Re.getCapabilities(t);if(!((n=(r=s==null?void 0:s[i])==null?void 0:r.assetDiscovery)!=null&&n.supported))return null;const o=await Re.walletGetAssets({account:t,chainFilter:[i]});return xy.isWalletGetAssetsResponse(o)?(o[i]||[]).map(c=>xy.createBalance(c,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:U.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},ke=ft({tokenBalances:[],loading:!1}),GC={state:ke,subscribe(t){return en(ke,()=>t(ke))},subscribeKey(t,e){return sn(ke,t,e)},setToken(t){t&&(ke.token=Pa(t))},setTokenAmount(t){ke.sendTokenAmount=t},setReceiverAddress(t){ke.receiverAddress=t},setReceiverProfileImageUrl(t){ke.receiverProfileImageUrl=t},setReceiverProfileName(t){ke.receiverProfileName=t},setGasPrice(t){ke.gasPrice=t},setGasPriceInUsd(t){ke.gasPriceInUSD=t},setNetworkBalanceInUsd(t){ke.networkBalanceInUSD=t},setLoading(t){ke.loading=t},sendToken(){var t;switch((t=U.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":this.sendEvmToken();return;case"solana":this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}},sendEvmToken(){var t,e,r,n,i;(t=this.state.token)!=null&&t.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(We.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:oe.state.preferredAccountType===mt.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:((e=U.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&((r=this.state.token)!=null&&r.quantity.decimals)&&(We.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:oe.state.preferredAccountType===mt.ACCOUNT_TYPES.SMART_ACCOUNT,token:(n=this.state.token)==null?void 0:n.symbol,amount:this.state.sendTokenAmount,network:((i=U.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(t){var s,o;ke.loading=!0;const e=(s=U.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,r=(o=U.state.activeCaipNetwork)==null?void 0:o.chainNamespace,n=U.state.activeCaipAddress,i=n?he.getPlainAddress(n):void 0;if(ke.lastRetry&&!he.isAllowedRetry(ke.lastRetry,30*Mt.ONE_SEC_MS))return ke.loading=!1,[];try{if(i&&e&&r){const a=await KC.getMyTokensWithBalance();return ke.tokenBalances=a,ke.lastRetry=void 0,a}}catch(a){ke.lastRetry=Date.now(),t==null||t(a),qe.showError("Token Balance Unavailable")}finally{ke.loading=!1}return[]},fetchNetworkBalance(){if(ke.tokenBalances.length===0)return;const t=KC.mapBalancesToSwapTokens(ke.tokenBalances);if(!t)return;const e=t.find(r=>r.address===U.getActiveNetworkTokenAddress());e&&(ke.networkBalanceInUSD=e?He.multiply(e.quantity.numeric,e.price).toString():"0")},isInsufficientNetworkTokenForGas(t,e){const r=e||"0";return He.bigNumber(t).eq(0)?!0:He.bigNumber(He.bigNumber(r)).gt(t)},hasInsufficientGasFunds(){let t=!0;return oe.state.preferredAccountType===mt.ACCOUNT_TYPES.SMART_ACCOUNT?t=!1:ke.networkBalanceInUSD&&(t=this.isInsufficientNetworkTokenForGas(ke.networkBalanceInUSD,ke.gasPriceInUSD)),t},async sendNativeToken(t){var s,o,a,c;xe.pushTransactionStack({view:"Account",goBack:!1});const e=t.receiverAddress,r=oe.state.address,n=Re.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),i="0x";try{await Re.sendTransaction({chainNamespace:"eip155",to:e,address:r,data:i,value:n??BigInt(0),gasPrice:t.gasPrice}),qe.showSuccess("Transaction started"),We.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:oe.state.preferredAccountType===mt.ACCOUNT_TYPES.SMART_ACCOUNT,token:((s=this.state.token)==null?void 0:s.symbol)||"",amount:t.sendTokenAmount,network:((o=U.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)||""}}),this.resetSend()}catch(u){console.error("SendController:sendERC20Token - failed to send native token",u);const l=u instanceof Error?u.message:"Unknown error";We.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:l,isSmartAccount:oe.state.preferredAccountType===mt.ACCOUNT_TYPES.SMART_ACCOUNT,token:((a=this.state.token)==null?void 0:a.symbol)||"",amount:t.sendTokenAmount,network:((c=U.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)||""}}),qe.showError("Something went wrong")}},async sendERC20Token(t){var r,n;xe.pushTransactionStack({view:"Account",goBack:!1});const e=Re.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));try{if(oe.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const i=he.getPlainAddress(t.tokenAddress);await Re.writeContract({fromAddress:oe.state.address,tokenAddress:i,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:QP.getERC20Abi(i),chainNamespace:"eip155"}),qe.showSuccess("Transaction started"),this.resetSend()}}catch(i){console.error("SendController:sendERC20Token - failed to send erc20 token",i);const s=i instanceof Error?i.message:"Unknown error";We.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:s,isSmartAccount:oe.state.preferredAccountType===mt.ACCOUNT_TYPES.SMART_ACCOUNT,token:((r=this.state.token)==null?void 0:r.symbol)||"",amount:t.sendTokenAmount,network:((n=U.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}}),qe.showError("Something went wrong")}},sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress){qe.showError("Please enter a valid amount and receiver address");return}xe.pushTransactionStack({view:"Account",goBack:!1}),Re.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),oe.fetchTokenBalance()}).catch(t=>{qe.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",t)})},resetSend(){ke.token=void 0,ke.sendTokenAmount=void 0,ke.receiverAddress=void 0,ke.receiverProfileImageUrl=void 0,ke.receiverProfileName=void 0,ke.loading=!1,ke.tokenBalances=[]}},Ny={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},Oh={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},X=ft({chains:$P(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),U={state:X,subscribe(t){return en(X,()=>{t(X)})},subscribeKey(t,e){return sn(X,t,e)},subscribeChainProp(t,e,r){let n;return en(X.chains,()=>{var s;const i=r||X.activeChain;if(i){const o=(s=X.chains.get(i))==null?void 0:s[t];n!==o&&(n=o,e(o))}})},initialize(t,e,r){const{chainId:n,namespace:i}=se.getActiveNetworkProps(),s=e==null?void 0:e.find(u=>u.id.toString()===(n==null?void 0:n.toString())),a=t.find(u=>(u==null?void 0:u.namespace)===i)||(t==null?void 0:t[0]),c=new Set([...(e==null?void 0:e.map(u=>u.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(X.noAdapters=!0),X.noAdapters||(X.activeChain=a==null?void 0:a.namespace,X.activeCaipNetwork=s,this.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:s}),X.activeChain&&ks.set({activeChain:a==null?void 0:a.namespace})),c.forEach(u=>{const l=e==null?void 0:e.filter(d=>d.chainNamespace===u);U.state.chains.set(u,{namespace:u,networkState:ft({...Oh,caipNetwork:l==null?void 0:l[0]}),accountState:ft(Ny),caipNetworks:l??[],...r}),this.setRequestedCaipNetworks(l??[],u)})},removeAdapter(t){var e,r;if(X.activeChain===t){const n=Array.from(X.chains.entries()).find(([i])=>i!==t);if(n){const i=(r=(e=n[1])==null?void 0:e.caipNetworks)==null?void 0:r[0];i&&this.setActiveCaipNetwork(i)}}X.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:r},n){X.chains.set(t.namespace,{namespace:t.namespace,networkState:{...Oh,caipNetwork:n[0]},accountState:Ny,caipNetworks:n,connectionControllerClient:r,networkControllerClient:e}),this.setRequestedCaipNetworks((n==null?void 0:n.filter(i=>i.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var r;const e=X.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];(r=e.caipNetworks)!=null&&r.find(i=>i.id===t.id)||n.push(t),X.chains.set(t.chainNamespace,{...e,caipNetworks:n}),this.setRequestedCaipNetworks(n,t.chainNamespace)}},removeNetwork(t,e){var n,i,s;const r=X.chains.get(t);if(r){const o=((n=X.activeCaipNetwork)==null?void 0:n.id)===e,a=[...((i=r.caipNetworks)==null?void 0:i.filter(c=>c.id!==e))||[]];o&&((s=r==null?void 0:r.caipNetworks)!=null&&s[0])&&this.setActiveCaipNetwork(r.caipNetworks[0]),X.chains.set(t,{...r,caipNetworks:a}),this.setRequestedCaipNetworks(a||[],t)}},setAdapterNetworkState(t,e){const r=X.chains.get(t);r&&(r.networkState={...r.networkState||Oh,...e},X.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const n=X.chains.get(t);if(n){const i={...n.accountState||Ny,...e};X.chains.set(t,{...n,accountState:i}),(X.chains.size===1||X.activeChain===t)&&(e.caipAddress&&(X.activeCaipAddress=e.caipAddress),oe.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const r=X.chains.get(t);if(r){const n={...r.networkState||Oh,...e};X.chains.set(t,{...r,networkState:n})}},setAccountProp(t,e,r,n=!0){this.setChainAccountData(r,{[t]:e},n),t==="status"&&e==="disconnected"&&r&&ye.removeConnectorId(r)},setActiveNamespace(t){var n,i;X.activeChain=t;const e=t?X.chains.get(t):void 0,r=(n=e==null?void 0:e.networkState)==null?void 0:n.caipNetwork;r!=null&&r.id&&t&&(X.activeCaipAddress=(i=e==null?void 0:e.accountState)==null?void 0:i.caipAddress,X.activeCaipNetwork=r,this.setChainNetworkData(t,{caipNetwork:r}),se.setActiveCaipNetworkId(r==null?void 0:r.caipNetworkId),ks.set({activeChain:t,selectedNetworkId:r==null?void 0:r.caipNetworkId}))},setActiveCaipNetwork(t){var n,i,s;if(!t)return;X.activeChain!==t.chainNamespace&&this.setIsSwitchingNamespace(!0);const e=X.chains.get(t.chainNamespace);X.activeChain=t.chainNamespace,X.activeCaipNetwork=t,this.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(n=e==null?void 0:e.accountState)!=null&&n.address?X.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(i=e==null?void 0:e.accountState)==null?void 0:i.address}`:X.activeCaipAddress=void 0,this.setAccountProp("caipAddress",X.activeCaipAddress,t.chainNamespace),e&&oe.replaceState(e.accountState),GC.resetSend(),ks.set({activeChain:X.activeChain,selectedNetworkId:(s=X.activeCaipNetwork)==null?void 0:s.caipNetworkId}),se.setActiveCaipNetworkId(t.caipNetworkId),!this.checkIfSupportedNetwork(t.chainNamespace)&&!J.state.allowUnsupportedChain&&!Re.state.wcBasic&&this.showUnsupportedChainUI()},addCaipNetwork(t){var r;if(!t)return;const e=X.chains.get(t.chainNamespace);e&&((r=e==null?void 0:e.caipNetworks)==null||r.push(t))},async switchActiveNamespace(t){var i;if(!t)return;const e=t!==U.state.activeChain,r=(i=U.getNetworkData(t))==null?void 0:i.caipNetwork,n=U.getCaipNetworkByNamespace(t,r==null?void 0:r.id);e&&n&&await U.switchActiveNetwork(n)},async switchActiveNetwork(t){var i;const e=U.state.chains.get(U.state.activeChain);!((i=e==null?void 0:e.caipNetworks)!=null&&i.some(s=>{var o;return s.id===((o=X.activeCaipNetwork)==null?void 0:o.id)}))&&xe.goBack();const n=this.getNetworkControllerClient(t.chainNamespace);n&&(await n.switchCaipNetwork(t),We.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||X.activeChain,r=X.chains.get(e);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(t){const e=t||X.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=X.chains.get(e);if(!(r!=null&&r.connectionControllerClient))throw new Error("ConnectionController client not set");return r.connectionControllerClient},getAccountProp(t,e){var i;let r=X.activeChain;if(e&&(r=e),!r)return;const n=(i=X.chains.get(r))==null?void 0:i.accountState;if(n)return n[t]},getNetworkProp(t,e){var n;const r=(n=X.chains.get(e))==null?void 0:n.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=X.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=(e==null?void 0:e.networkState)||{};return he.sortRequestedNetworks(r,n)},getAllRequestedCaipNetworks(){const t=[];return X.chains.forEach(e=>{const r=this.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){this.setAdapterNetworkState(e,{requestedCaipNetworks:t})},getAllApprovedCaipNetworkIds(){const t=[];return X.chains.forEach(e=>{const r=this.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(){return X.activeCaipNetwork},getActiveCaipAddress(){return X.activeCaipAddress},getApprovedCaipNetworkIds(t){var n;const e=X.chains.get(t);return((n=e==null?void 0:e.networkState)==null?void 0:n.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=this.getNetworkControllerClient(),r=await(e==null?void 0:e.getApprovedCaipNetworksData());this.setAdapterNetworkState(t,{approvedCaipNetworkIds:r==null?void 0:r.approvedCaipNetworkIds,supportsAllNetworks:r==null?void 0:r.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const r=e||X.activeCaipNetwork,n=this.getRequestedCaipNetworks(t);return n.length?n==null?void 0:n.some(i=>i.id===(r==null?void 0:r.id)):!0},checkIfSupportedChainId(t){if(!X.activeChain)return!0;const e=this.getRequestedCaipNetworks(X.activeChain);return e==null?void 0:e.some(r=>r.id===t)},setSmartAccountEnabledNetworks(t,e){this.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var n;const t=Pd.caipNetworkIdToNumber((n=X.activeCaipNetwork)==null?void 0:n.caipNetworkId),e=X.activeChain;if(!e||!t)return!1;const r=this.getNetworkProp("smartAccountEnabledNetworks",e);return!!(r!=null&&r.includes(Number(t)))},getActiveNetworkTokenAddress(){var n,i;const t=((n=X.activeCaipNetwork)==null?void 0:n.chainNamespace)||"eip155",e=((i=X.activeCaipNetwork)==null?void 0:i.id)||1,r=Mt.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`},showUnsupportedChainUI(){or.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=X.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&Mt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){this.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");X.activeCaipAddress=void 0,this.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),ye.removeConnectorId(e)},async disconnect(t){const e=o9(t);try{GC.resetSend();const r=await Promise.allSettled(e.map(async([i,s])=>{var o;try{const{caipAddress:a}=this.getAccountData(i)||{};a&&((o=s.connectionControllerClient)!=null&&o.disconnect)&&await s.connectionControllerClient.disconnect(i),this.resetAccount(i),this.resetNetwork(i)}catch(a){throw new Error(`Failed to disconnect chain ${i}: ${a.message}`)}}));Re.resetWcConnection();const n=r.filter(i=>i.status==="rejected");if(n.length>0)throw new Error(n.map(i=>i.reason.message).join(", "));se.deleteConnectedSocialProvider(),t?ye.removeConnectorId(t):ye.resetConnectorIds(),We.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(r){console.error(r.message||"Failed to disconnect chains"),We.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:r.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){X.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var r,n;const t=[];let e;if(X.chains.forEach(i=>{K.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(s=>s===i.namespace)&&i.namespace&&t.push(i.namespace)}),t.length>0){const i=t[0];return e=i?(n=(r=X.chains.get(i))==null?void 0:r.caipNetworks)==null?void 0:n[0]:void 0,e}},getAccountData(t){var e;return t?(e=U.state.chains.get(t))==null?void 0:e.accountState:oe.state},getNetworkData(t){var r;const e=t||X.activeChain;if(e)return(r=U.state.chains.get(e))==null?void 0:r.networkState},getCaipNetworkByNamespace(t,e){var i,s,o;if(!t)return;const r=U.state.chains.get(t),n=(i=r==null?void 0:r.caipNetworks)==null?void 0:i.find(a=>a.id===e);return n||((s=r==null?void 0:r.networkState)==null?void 0:s.caipNetwork)||((o=r==null?void 0:r.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=ye.state.filterByNamespace;return(t?[X.chains.get(t)]:Array.from(X.chains.values())).flatMap(r=>(r==null?void 0:r.caipNetworks)||[]).map(r=>r.caipNetworkId)}},FJ={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},cx=he.getBlockchainApiUrl(),In=ft({clientId:null,api:new q0({baseUrl:cx,clientId:null}),supportedChains:{http:[],ws:[]}}),ue={state:In,async get(t){const{st:e,sv:r}=ue.getSdkProperties(),n=J.state.projectId,i={...t.params||{},st:e,sv:r,projectId:n};return In.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=J.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{In.supportedChains.http.length||await ue.getSupportedNetworks()}catch{return!1}return In.supportedChains.http.includes(t)},async getSupportedNetworks(){const t=await ue.get({path:"v1/supported-chains"});return In.supportedChains=t,t},async fetchIdentity({address:t,caipNetworkId:e}){if(!await ue.isNetworkSupported(e))return{avatar:"",name:""};const n=se.getIdentityFromCacheForAddress(t);if(n)return n;const i=await ue.get({path:`/v1/identity/${t}`,params:{sender:U.state.activeCaipAddress?he.getPlainAddress(U.state.activeCaipAddress):void 0}});return se.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,onramp:r,signal:n,cache:i,chainId:s}){var a;return await ue.isNetworkSupported((a=U.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?ue.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:r,chainId:s},signal:n,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:n,gasPrice:i}){var o;return await ue.isNetworkSupported((o=U.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?ue.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:n,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var r;return await ue.isNetworkSupported((r=U.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?ue.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var r;return await ue.isNetworkSupported((r=U.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?In.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:J.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var n;return await ue.isNetworkSupported((n=U.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?ue.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var i;const{st:e,sv:r}=ue.getSdkProperties();if(!await ue.isNetworkSupported((i=U.state.activeCaipNetwork)==null?void 0:i.caipNetworkId))throw new Error("Network not supported for Gas Price");return ue.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:n}){var s;if(!await ue.isNetworkSupported((s=U.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Swaps");return In.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Mt.CONVERT_SLIPPAGE_TOLERANCE},projectId:J.state.projectId,from:e,to:r,userAddress:n}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){var o;const{st:n,sv:i}=ue.getSdkProperties();if(!await ue.isNetworkSupported((o=U.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return ue.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:n,sv:i}})},async getBalance(t,e,r){var u;const{st:n,sv:i}=ue.getSdkProperties();if(!await ue.isNetworkSupported((u=U.state.activeCaipNetwork)==null?void 0:u.caipNetworkId))return qe.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=se.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await ue.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:n,sv:i}});return se.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var r;return await ue.isNetworkSupported((r=U.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?ue.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var r;return await ue.isNetworkSupported((r=U.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?ue.get({path:`/v1/profile/reverse/${t}`,params:{sender:oe.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var r;return await ue.isNetworkSupported((r=U.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?ue.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:n}){var s;return await ue.isNetworkSupported((s=U.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?In.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:n,paymentAmount:i}){var a;return await ue.isNetworkSupported((a=U.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await In.api.post({path:"/v1/generators/onrampurl",params:{projectId:J.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:i}})).url:""},async getOnrampOptions(){var e;if(!await ue.isNetworkSupported((e=U.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await ue.get({path:"/v1/onramp/options"})}catch{return FJ}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}){var i;try{return await ue.isNetworkSupported((i=U.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?await In.api.post({path:"/v1/onramp/quote",params:{projectId:J.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}}):null}catch{return{coinbaseFee:{amount:r,currency:e.id},networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var r;return await ue.isNetworkSupported((r=U.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?ue.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){var i;return await ue.isNetworkSupported((i=U.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?In.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:J.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){In.clientId=t,In.api=new q0({baseUrl:cx,clientId:t})}},Wl={async getTokenList(){var n;const t=U.state.activeCaipNetwork,e=await ue.fetchSwapTokens({chainId:t==null?void 0:t.caipNetworkId});return((n=e==null?void 0:e.tokens)==null?void 0:n.map(i=>({...i,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=U.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const r=(e=await(Re==null?void 0:Re.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:r,fast:r,instant:r};case"eip155":default:return await ue.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:r,sourceTokenDecimals:n}){const i=await ue.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(i!=null&&i.allowance&&r&&n){const s=Re.parseUnits(r,n)||0;return BigInt(i.allowance)>=s}return!1},async getMyTokensWithBalance(t){const e=oe.state.address,r=U.state.activeCaipNetwork;if(!e||!r)return[];const i=(await ue.getBalance(e,r.caipNetworkId,t)).balances.filter(s=>s.quantity.decimals!=="0");return oe.setTokenBalance(i,U.state.activeChain),this.mapBalancesToSwapTokens(i)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:U.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},Es={getGasPriceInEther(t,e){const r=e*t;return Number(r)/1e18},getGasPriceInUSD(t,e,r){const n=Es.getGasPriceInEther(e,r);return He.bigNumber(t).times(n).toNumber()},getPriceImpact({sourceTokenAmount:t,sourceTokenPriceInUSD:e,toTokenPriceInUSD:r,toTokenAmount:n}){const i=He.bigNumber(t).times(e),s=He.bigNumber(n).times(r);return i.minus(s).div(i).times(100).toNumber()},getMaxSlippage(t,e){const r=He.bigNumber(t).div(100);return He.multiply(e,r).toNumber()},getProviderFee(t,e=.0085){return He.bigNumber(t).times(e).toString()},isInsufficientNetworkTokenForGas(t,e){const r=e||"0";return He.bigNumber(t).eq(0)?!0:He.bigNumber(He.bigNumber(r)).gt(t)},isInsufficientSourceTokenForSwap(t,e,r){var s,o;const n=(o=(s=r==null?void 0:r.find(a=>a.address===e))==null?void 0:s.quantity)==null?void 0:o.numeric;return He.bigNumber(n||"0").lt(t)},getToTokenAmount({sourceToken:t,toToken:e,sourceTokenPrice:r,toTokenPrice:n,sourceTokenAmount:i}){if(i==="0"||!t||!e)return"0";const s=t.decimals,o=r,a=e.decimals,c=n;if(c<=0)return"0";const u=He.bigNumber(i).times(.0085),d=He.bigNumber(i).minus(u).times(He.bigNumber(10).pow(s)),f=He.bigNumber(o).div(c),h=s-a;return d.times(f).div(He.bigNumber(10).pow(h)).div(He.bigNumber(10).pow(a)).toFixed(a).toString()}},QC=15e4,BJ=6,ln={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:Mt.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},B=ft(ln),ap={state:B,subscribe(t){return en(B,()=>t(B))},subscribeKey(t,e){return sn(B,t,e)},getParams(){var c,u,l,d,f,h,g,y;const t=U.state.activeCaipAddress,e=U.state.activeChain,r=he.getPlainAddress(t),n=U.getActiveNetworkTokenAddress(),i=ye.getConnectorId(e);if(!r)throw new Error("No address found to swap the tokens from.");const s=!((c=B.toToken)!=null&&c.address)||!((u=B.toToken)!=null&&u.decimals),o=!((l=B.sourceToken)!=null&&l.address)||!((d=B.sourceToken)!=null&&d.decimals)||!He.bigNumber(B.sourceTokenAmount).gt(0),a=!B.sourceTokenAmount;return{networkAddress:n,fromAddress:r,fromCaipAddress:t,sourceTokenAddress:(f=B.sourceToken)==null?void 0:f.address,toTokenAddress:(h=B.toToken)==null?void 0:h.address,toTokenAmount:B.toTokenAmount,toTokenDecimals:(g=B.toToken)==null?void 0:g.decimals,sourceTokenAmount:B.sourceTokenAmount,sourceTokenDecimals:(y=B.sourceToken)==null?void 0:y.decimals,invalidToToken:s,invalidSourceToken:o,invalidSourceTokenAmount:a,availableToSwap:t&&!s&&!o&&!a,isAuthConnector:i===K.CONNECTOR_ID.AUTH}},setSourceToken(t){if(!t){B.sourceToken=t,B.sourceTokenAmount="",B.sourceTokenPriceInUSD=0;return}B.sourceToken=t,this.setTokenPrice(t.address,"sourceToken")},setSourceTokenAmount(t){B.sourceTokenAmount=t},setToToken(t){if(!t){B.toToken=t,B.toTokenAmount="",B.toTokenPriceInUSD=0;return}B.toToken=t,this.setTokenPrice(t.address,"toToken")},setToTokenAmount(t){B.toTokenAmount=t?He.formatNumberToLocalString(t,BJ):""},async setTokenPrice(t,e){let r=B.tokensPriceMap[t]||0;r||(B.loadingPrices=!0,r=await this.getAddressPrice(t)),e==="sourceToken"?B.sourceTokenPriceInUSD=r:e==="toToken"&&(B.toTokenPriceInUSD=r),B.loadingPrices&&(B.loadingPrices=!1),this.getParams().availableToSwap&&this.swapTokens()},switchTokens(){if(B.initializing||!B.initialized)return;const t=B.toToken?{...B.toToken}:void 0,e=B.sourceToken?{...B.sourceToken}:void 0,r=t&&B.toTokenAmount===""?"1":B.toTokenAmount;this.setSourceToken(t),this.setToToken(e),this.setSourceTokenAmount(r),this.setToTokenAmount(""),this.swapTokens()},resetState(){B.myTokensWithBalance=ln.myTokensWithBalance,B.tokensPriceMap=ln.tokensPriceMap,B.initialized=ln.initialized,B.sourceToken=ln.sourceToken,B.sourceTokenAmount=ln.sourceTokenAmount,B.sourceTokenPriceInUSD=ln.sourceTokenPriceInUSD,B.toToken=ln.toToken,B.toTokenAmount=ln.toTokenAmount,B.toTokenPriceInUSD=ln.toTokenPriceInUSD,B.networkPrice=ln.networkPrice,B.networkTokenSymbol=ln.networkTokenSymbol,B.networkBalanceInUSD=ln.networkBalanceInUSD,B.inputError=ln.inputError},resetValues(){var r;const{networkAddress:t}=this.getParams(),e=(r=B.tokens)==null?void 0:r.find(n=>n.address===t);this.setSourceToken(e),this.setToToken(void 0)},getApprovalLoadingState(){return B.loadingApprovalTransaction},clearError(){B.transactionError=void 0},async initializeState(){if(!B.initializing){if(B.initializing=!0,!B.initialized)try{await this.fetchTokens(),B.initialized=!0}catch{B.initialized=!1,qe.showError("Failed to initialize swap"),xe.goBack()}B.initializing=!1}},async fetchTokens(){var r;const{networkAddress:t}=this.getParams();await this.getTokenList(),await this.getNetworkTokenPrice(),await this.getMyTokensWithBalance();const e=(r=B.tokens)==null?void 0:r.find(n=>n.address===t);e&&(B.networkTokenSymbol=e.symbol,this.setSourceToken(e),this.setSourceTokenAmount("1"))},async getTokenList(){const t=await Wl.getTokenList();B.tokens=t,B.popularTokens=t.sort((e,r)=>e.symbol<r.symbol?-1:e.symbol>r.symbol?1:0),B.suggestedTokens=t.filter(e=>!!Mt.SWAP_SUGGESTED_TOKENS.includes(e.symbol),{})},async getAddressPrice(t){var c,u;const e=B.tokensPriceMap[t];if(e)return e;const r=await ue.fetchTokenPrice({addresses:[t]}),n=(r==null?void 0:r.fungibles)||[],i=[...B.tokens||[],...B.myTokensWithBalance||[]],s=(c=i==null?void 0:i.find(l=>l.address===t))==null?void 0:c.symbol,o=((u=n.find(l=>l.symbol.toLowerCase()===(s==null?void 0:s.toLowerCase())))==null?void 0:u.price)||0,a=parseFloat(o.toString());return B.tokensPriceMap[t]=a,a},async getNetworkTokenPrice(){var i;const{networkAddress:t}=this.getParams(),r=(i=(await ue.fetchTokenPrice({addresses:[t]}).catch(()=>(qe.showError("Failed to fetch network token price"),{fungibles:[]}))).fungibles)==null?void 0:i[0],n=(r==null?void 0:r.price.toString())||"0";B.tokensPriceMap[t]=parseFloat(n),B.networkTokenSymbol=(r==null?void 0:r.symbol)||"",B.networkPrice=n},async getMyTokensWithBalance(t){const e=await Wl.getMyTokensWithBalance(t);e&&(await this.getInitialGasPrice(),this.setBalances(e))},setBalances(t){const{networkAddress:e}=this.getParams(),r=U.state.activeCaipNetwork;if(!r)return;const n=t.find(i=>i.address===e);t.forEach(i=>{B.tokensPriceMap[i.address]=i.price||0}),B.myTokensWithBalance=t.filter(i=>i.address.startsWith(r.caipNetworkId)),B.networkBalanceInUSD=n?He.multiply(n.quantity.numeric,n.price).toString():"0"},async getInitialGasPrice(){var e,r;const t=await Wl.fetchGasPrice();if(!t)return{gasPrice:null,gasPriceInUSD:null};switch((r=(e=U.state)==null?void 0:e.activeCaipNetwork)==null?void 0:r.chainNamespace){case"solana":return B.gasFee=t.standard??"0",B.gasPriceInUSD=He.multiply(t.standard,B.networkPrice).div(1e9).toNumber(),{gasPrice:BigInt(B.gasFee),gasPriceInUSD:Number(B.gasPriceInUSD)};case"eip155":default:const n=t.standard??"0",i=BigInt(n),s=BigInt(QC),o=Es.getGasPriceInUSD(B.networkPrice,s,i);return B.gasFee=n,B.gasPriceInUSD=o,{gasPrice:i,gasPriceInUSD:o}}},async swapTokens(){var s,o;const t=oe.state.address,e=B.sourceToken,r=B.toToken,n=He.bigNumber(B.sourceTokenAmount).gt(0);if(n||this.setToTokenAmount(""),!r||!e||B.loadingPrices||!n)return;B.loadingQuote=!0;const i=He.bigNumber(B.sourceTokenAmount).times(10**e.decimals).round(0);try{const a=await ue.fetchSwapQuote({userAddress:t,from:e.address,to:r.address,gasPrice:B.gasFee,amount:i.toString()});B.loadingQuote=!1;const c=(o=(s=a==null?void 0:a.quotes)==null?void 0:s[0])==null?void 0:o.toAmount;if(!c){Ea.open({shortMessage:"Incorrect amount",longMessage:"Please enter a valid amount"},"error");return}const u=He.bigNumber(c).div(10**r.decimals).toString();this.setToTokenAmount(u),this.hasInsufficientToken(B.sourceTokenAmount,e.address)?B.inputError="Insufficient balance":(B.inputError=void 0,this.setTransactionDetails())}catch{B.loadingQuote=!1,B.inputError="Insufficient balance"}},async getTransaction(){const{fromCaipAddress:t,availableToSwap:e}=this.getParams(),r=B.sourceToken,n=B.toToken;if(!(!t||!e||!r||!n||B.loadingQuote))try{B.loadingBuildTransaction=!0;const i=await Wl.fetchSwapAllowance({userAddress:t,tokenAddress:r.address,sourceTokenAmount:B.sourceTokenAmount,sourceTokenDecimals:r.decimals});let s;return i?s=await this.createSwapTransaction():s=await this.createAllowanceTransaction(),B.loadingBuildTransaction=!1,B.fetchError=!1,s}catch{xe.goBack(),qe.showError("Failed to check allowance"),B.loadingBuildTransaction=!1,B.approvalTransaction=void 0,B.swapTransaction=void 0,B.fetchError=!0;return}},async createAllowanceTransaction(){const{fromCaipAddress:t,fromAddress:e,sourceTokenAddress:r,toTokenAddress:n}=this.getParams();if(!(!t||!n)){if(!r)throw new Error("createAllowanceTransaction - No source token address found.");try{const i=await ue.generateApproveCalldata({from:r,to:n,userAddress:t}),s=await Re.estimateGas({chainNamespace:K.CHAIN.EVM,address:e,to:he.getPlainAddress(i.tx.to),data:i.tx.data}),o={data:i.tx.data,to:he.getPlainAddress(i.tx.from),gas:s,gasPrice:BigInt(i.tx.eip155.gasPrice),value:BigInt(i.tx.value),toAmount:B.toTokenAmount};return B.swapTransaction=void 0,B.approvalTransaction={data:o.data,to:o.to,gas:o.gas??BigInt(0),gasPrice:o.gasPrice,value:o.value,toAmount:o.toAmount},{data:o.data,to:o.to,gas:o.gas??BigInt(0),gasPrice:o.gasPrice,value:o.value,toAmount:o.toAmount}}catch{xe.goBack(),qe.showError("Failed to create approval transaction"),B.approvalTransaction=void 0,B.swapTransaction=void 0,B.fetchError=!0;return}}},async createSwapTransaction(){var o;const{networkAddress:t,fromCaipAddress:e,sourceTokenAmount:r}=this.getParams(),n=B.sourceToken,i=B.toToken;if(!e||!r||!n||!i)return;const s=(o=Re.parseUnits(r,n.decimals))==null?void 0:o.toString();try{const a=await ue.generateSwapCalldata({userAddress:e,from:n.address,to:i.address,amount:s}),c=n.address===t,u=BigInt(a.tx.eip155.gas),l=BigInt(a.tx.eip155.gasPrice),d={data:a.tx.data,to:he.getPlainAddress(a.tx.to),gas:u,gasPrice:l,value:BigInt(c?s??"0":"0"),toAmount:B.toTokenAmount};return B.gasPriceInUSD=Es.getGasPriceInUSD(B.networkPrice,u,l),B.approvalTransaction=void 0,B.swapTransaction=d,d}catch{xe.goBack(),qe.showError("Failed to create transaction"),B.approvalTransaction=void 0,B.swapTransaction=void 0,B.fetchError=!0;return}},async sendTransactionForApproval(t){var i,s,o;const{fromAddress:e,isAuthConnector:r}=this.getParams();B.loadingApprovalTransaction=!0;const n="Approve limit increase in your wallet";r?xe.pushTransactionStack({view:null,goBack:!0,onSuccess(){qe.showLoading(n)}}):qe.showLoading(n);try{await Re.sendTransaction({address:e,to:t.to,data:t.data,gas:t.gas,gasPrice:BigInt(t.gasPrice),value:t.value,chainNamespace:"eip155"}),await this.swapTokens(),await this.getTransaction(),B.approvalTransaction=void 0,B.loadingApprovalTransaction=!1}catch(a){const c=a;B.transactionError=c==null?void 0:c.shortMessage,B.loadingApprovalTransaction=!1,qe.showError((c==null?void 0:c.shortMessage)||"Transaction error"),We.sendEvent({type:"track",event:"SWAP_APPROVAL_ERROR",properties:{message:(c==null?void 0:c.shortMessage)||(c==null?void 0:c.message)||"Unknown",network:((i=U.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||"",swapFromToken:((s=this.state.sourceToken)==null?void 0:s.symbol)||"",swapToToken:((o=this.state.toToken)==null?void 0:o.symbol)||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:oe.state.preferredAccountType===mt.ACCOUNT_TYPES.SMART_ACCOUNT}})}},async sendTransactionForSwap(t){var o,a,c,u,l,d,f,h,g,y,_,v;if(!t)return;const{fromAddress:e,toTokenAmount:r,isAuthConnector:n}=this.getParams();B.loadingTransaction=!0;const i=`Swapping ${(o=B.sourceToken)==null?void 0:o.symbol} to ${He.formatNumberToLocalString(r,3)} ${(a=B.toToken)==null?void 0:a.symbol}`,s=`Swapped ${(c=B.sourceToken)==null?void 0:c.symbol} to ${He.formatNumberToLocalString(r,3)} ${(u=B.toToken)==null?void 0:u.symbol}`;n?xe.pushTransactionStack({view:"Account",goBack:!1,onSuccess(){qe.showLoading(i),ap.resetState()}}):qe.showLoading("Confirm transaction in your wallet");try{const w=[(l=B.sourceToken)==null?void 0:l.address,(d=B.toToken)==null?void 0:d.address].join(","),A=await Re.sendTransaction({address:e,to:t.to,data:t.data,gas:t.gas,gasPrice:BigInt(t.gasPrice),value:t.value,chainNamespace:"eip155"});return B.loadingTransaction=!1,qe.showSuccess(s),We.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:((f=U.state.activeCaipNetwork)==null?void 0:f.caipNetworkId)||"",swapFromToken:((h=this.state.sourceToken)==null?void 0:h.symbol)||"",swapToToken:((g=this.state.toToken)==null?void 0:g.symbol)||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:oe.state.preferredAccountType===mt.ACCOUNT_TYPES.SMART_ACCOUNT}}),ap.resetState(),n||xe.replace("Account"),ap.getMyTokensWithBalance(w),A}catch(w){const A=w;B.transactionError=A==null?void 0:A.shortMessage,B.loadingTransaction=!1,qe.showError((A==null?void 0:A.shortMessage)||"Transaction error"),We.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:(A==null?void 0:A.shortMessage)||(A==null?void 0:A.message)||"Unknown",network:((y=U.state.activeCaipNetwork)==null?void 0:y.caipNetworkId)||"",swapFromToken:((_=this.state.sourceToken)==null?void 0:_.symbol)||"",swapToToken:((v=this.state.toToken)==null?void 0:v.symbol)||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:oe.state.preferredAccountType===mt.ACCOUNT_TYPES.SMART_ACCOUNT}});return}},hasInsufficientToken(t,e){const r=Es.isInsufficientSourceTokenForSwap(t,e,B.myTokensWithBalance);let n=!0;return oe.state.preferredAccountType===mt.ACCOUNT_TYPES.SMART_ACCOUNT?n=!1:n=Es.isInsufficientNetworkTokenForGas(B.networkBalanceInUSD,B.gasPriceInUSD),n||r},setTransactionDetails(){const{toTokenAddress:t,toTokenDecimals:e}=this.getParams();!t||!e||(B.gasPriceInUSD=Es.getGasPriceInUSD(B.networkPrice,BigInt(B.gasFee),BigInt(QC)),B.priceImpact=Es.getPriceImpact({sourceTokenAmount:B.sourceTokenAmount,sourceTokenPriceInUSD:B.sourceTokenPriceInUSD,toTokenPriceInUSD:B.toTokenPriceInUSD,toTokenAmount:B.toTokenAmount}),B.maxSlippage=Es.getMaxSlippage(B.slippage,B.toTokenAmount),B.providerFee=Es.getProviderFee(B.sourceTokenAmount))}},Li=ft({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),oe={state:Li,replaceState(t){t&&Object.assign(Li,Pa(t))},subscribe(t){return U.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,r){let n;return U.subscribeChainProp("accountState",i=>{if(i){const s=i[t];n!==s&&(n=s,e(s))}},r)},setStatus(t,e){U.setAccountProp("status",t,e)},getCaipAddress(t){return U.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const r=t?he.getPlainAddress(t):void 0;e===U.state.activeChain&&(U.state.activeCaipAddress=t),U.setAccountProp("caipAddress",t,e),U.setAccountProp("address",r,e)},setBalance(t,e,r){U.setAccountProp("balance",t,r),U.setAccountProp("balanceSymbol",e,r)},setProfileName(t,e){U.setAccountProp("profileName",t,e)},setProfileImage(t,e){U.setAccountProp("profileImage",t,e)},setUser(t,e){U.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){U.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){U.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){U.setAccountProp("currentTab",t,U.state.activeChain)},setTokenBalance(t,e){t&&U.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){U.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){U.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,r){const n=U.getAccountProp("addressLabels",r)||new Map;n.set(t,e),U.setAccountProp("addressLabels",n,r)},removeAddressLabel(t,e){const r=U.getAccountProp("addressLabels",e)||new Map;r.delete(t),U.setAccountProp("addressLabels",r,e)},setConnectedWalletInfo(t,e){U.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){U.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&U.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){U.setAccountProp("socialWindow",t?Pa(t):void 0,e)},setFarcasterUrl(t,e){U.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var s,o;Li.balanceLoading=!0;const e=(s=U.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,r=(o=U.state.activeCaipNetwork)==null?void 0:o.chainNamespace,n=U.state.activeCaipAddress,i=n?he.getPlainAddress(n):void 0;if(Li.lastRetry&&!he.isAllowedRetry(Li.lastRetry,30*Mt.ONE_SEC_MS))return Li.balanceLoading=!1,[];try{if(i&&e&&r){const a=await ue.getBalance(i,e),c=a.balances.filter(u=>u.quantity.decimals!=="0");return this.setTokenBalance(c,r),ap.setBalances(Wl.mapBalancesToSwapTokens(a.balances)),Li.lastRetry=void 0,Li.balanceLoading=!1,c}}catch(a){Li.lastRetry=Date.now(),t==null||t(a),qe.showError("Token Balance Unavailable")}finally{Li.balanceLoading=!1}return[]},resetAccount(t){U.resetAccount(t)}},un=ft({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),or={state:un,subscribe(t){return en(un,()=>t(un))},subscribeKey(t,e){return sn(un,t,e)},async open(t){var i;const e=oe.state.status==="connected";Re.state.wcBasic?be.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await be.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t!=null&&t.namespace?(await U.switchActiveNamespace(t.namespace),or.setLoading(!0,t.namespace)):or.setLoading(!0),ye.setFilterByNamespace(t==null?void 0:t.namespace);const r=(i=U.getAccountData(t==null?void 0:t.namespace))==null?void 0:i.caipAddress;U.state.noAdapters&&!r?he.isMobile()?xe.reset("AllWallets"):xe.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?xe.reset(t.view):r?xe.reset("Account"):xe.reset("Connect"),un.open=!0,ks.set({open:!0}),We.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!r}})},close(){const t=J.state.enableEmbedded,e=!!U.state.activeCaipAddress;un.open&&We.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),un.open=!1,or.clearLoading(),t?e?xe.replace("Account"):xe.push("Connect"):ks.set({open:!1}),Re.resetUri()},setLoading(t,e){e&&un.loadingNamespaceMap.set(e,t),un.loading=t,ks.set({loading:t})},clearLoading(){un.loadingNamespaceMap.clear(),un.loading=!1},shake(){un.shake||(un.shake=!0,setTimeout(()=>{un.shake=!1},500))}},YC=2147483648,jJ={convertEVMChainIdToCoinType(t){if(t>=YC)throw new Error("Invalid chainId");return(YC|t)>>>0}},jn=ft({suggestions:[],loading:!1}),ux={state:jn,subscribe(t){return en(jn,()=>t(jn))},subscribeKey(t,e){return sn(jn,t,e)},async resolveName(t){var e,r;try{return await ue.lookupEnsName(t)}catch(n){const i=n;throw new Error(((r=(e=i==null?void 0:i.reasons)==null?void 0:e[0])==null?void 0:r.description)||"Error resolving name")}},async isNameRegistered(t){try{return await ue.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{jn.loading=!0,jn.suggestions=[];const e=await ue.getEnsNameSuggestions(t);return jn.suggestions=e.suggestions.map(r=>({...r,name:r.name}))||[],jn.suggestions}catch(e){const r=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{jn.loading=!1}},async getNamesForAddress(t){try{if(!U.state.activeCaipNetwork)return[];const r=se.getEnsFromCacheForAddress(t);if(r)return r;const n=await ue.reverseLookupEnsName({address:t});return se.updateEnsCache({address:t,ens:n,timestamp:Date.now()}),n}catch(e){const r=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){const e=U.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const r=oe.state.address,n=ye.getAuthConnector();if(!r||!n)throw new Error("Address or auth connector not found");jn.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});xe.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){jn.loading=!1}});const s=await Re.signMessage(i),o=e.id;if(!o)throw new Error("Network not found");const a=jJ.convertEVMChainIdToCoinType(Number(o));await ue.registerEnsName({coinType:a,address:r,signature:s,message:i}),oe.setProfileName(t,e.chainNamespace),xe.replace("RegisterAccountNameSuccess")}catch(i){const s=this.parseEnsApiError(i,`Error registering name ${t}`);throw xe.replace("RegisterAccountName"),new Error(s)}finally{jn.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var n,i;const r=t;return((i=(n=r==null?void 0:r.reasons)==null?void 0:n[0])==null?void 0:i.description)||e}},lt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},vo={ConnectorExplorerIds:{[K.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[K.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[K.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[K.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[K.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[lt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[lt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[lt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[lt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[lt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[lt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[lt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[lt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[lt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[lt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[lt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[K.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[K.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[K.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[K.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[K.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[K.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[K.CONNECTOR_ID.INJECTED]:"Browser Wallet",[K.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[K.CONNECTOR_ID.COINBASE]:"Coinbase",[K.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[K.CONNECTOR_ID.LEDGER]:"Ledger",[K.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[K.CONNECTOR_ID.INJECTED]:"INJECTED",[K.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[K.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[K.CONNECTOR_ID.AUTH]:"AUTH"}},lx={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,n])=>{e[`${lt.EIP155}:${r}`]=n}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},Kc={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${zJ()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function zJ(){return typeof window<"u"}const HJ={createLogger(t,e="error"){const r=Lu({level:e}),{logger:n}=Y1({opts:r});return n.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},n}},qJ="rpc.walletconnect.org";function WJ(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const Ty=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],bo={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===qJ}catch{r=!1}if(r){const n=new URL(t);return n.searchParams.has("projectId")||n.searchParams.set("projectId",e),n.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:K.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${K.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){var i,s,o;const n=(o=(s=(i=t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null?void 0:o[0];return Ty.includes(e)?WJ(e,r):n||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){var f,h,g,y,_;const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=(f=t.rpcUrls.default.http)==null?void 0:f[0],a=this.getDefaultRpcUrl(t,s,r),c=((y=(g=(h=t==null?void 0:t.rpcUrls)==null?void 0:h.chainDefault)==null?void 0:g.http)==null?void 0:y[0])||o,u=((_=n==null?void 0:n[s])==null?void 0:_.map(v=>v.url))||[],l=[...u,a],d=[...u];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:vo.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:l},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){return t.map(i=>bo.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:n,projectId:r}))},getViemTransport(t,e,r){const n=[];if(r==null||r.forEach(i=>{n.push(Iy(i.url,i.config))}),Ty.includes(t.caipNetworkId)){const i=this.getDefaultRpcUrl(t,t.caipNetworkId,e);n.push(Iy(i,{fetchOptions:{headers:{"Content-Type":"text/plain"}}}))}return HC(n)},extendWagmiTransports(t,e,r){if(Ty.includes(t.caipNetworkId)){const n=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return HC([r,Iy(n)])}return r}},a0={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},zn=ft({providers:{...a0},providerIds:{...a0}}),Qe={state:zn,subscribeKey(t,e){return sn(zn,t,e)},subscribeProviders(t){return en(zn.providers,()=>t(zn.providers))},setProvider(t,e){e&&(zn.providers[t]=Pa(e))},getProvider(t){return zn.providers[t]},setProviderId(t,e){e&&(zn.providerIds[t]=e)},getProviderId(t){if(t)return zn.providerIds[t]},reset(){zn.providers={...a0},zn.providerIds={...a0}},resetChain(t){zn.providers[t]=void 0,zn.providerIds[t]=void 0}},JC={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},Nr={set(t,e){Pn.isClient&&localStorage.setItem(`${ce.STORAGE_KEY}${t}`,e)},get(t){return Pn.isClient?localStorage.getItem(`${ce.STORAGE_KEY}${t}`):null},delete(t,e){Pn.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${ce.STORAGE_KEY}${t}`))}},Dh=30*1e3,Pn={checkIfAllowedToTriggerEmail(){const t=Nr.get(ce.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Dh){const r=Math.ceil((Dh-e)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){const t=Nr.get(ce.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Dh)return Math.ceil((Dh-e)/1e3)}return 0},checkIfRequestExists(t){return mt.NOT_SAFE_RPC_METHODS.includes(t.method)||mt.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(JC.transactionHash))||(t==null?void 0:t.match(JC.signedMessage)))?ce.RPC_RESPONSE_TYPE_TX:ce.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return mt.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var $e;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})($e||($e={}));var Bv;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Bv||(Bv={}));const ee=$e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),lo=t=>{switch(typeof t){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return isNaN(t)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(t)?ee.array:t===null?ee.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ee.promise:typeof Map<"u"&&t instanceof Map?ee.map:typeof Set<"u"&&t instanceof Set?ee.set:typeof Date<"u"&&t instanceof Date?ee.date:ee.object;default:return ee.unknown}},G=$e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),VJ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class _i extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,$e.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}_i.create=t=>new _i(t);const Zd=(t,e)=>{let r;switch(t.code){case G.invalid_type:t.received===ee.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case G.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,$e.jsonStringifyReplacer)}`;break;case G.unrecognized_keys:r=`Unrecognized key(s) in object: ${$e.joinValues(t.keys,", ")}`;break;case G.invalid_union:r="Invalid input";break;case G.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${$e.joinValues(t.options)}`;break;case G.invalid_enum_value:r=`Invalid enum value. Expected ${$e.joinValues(t.options)}, received '${t.received}'`;break;case G.invalid_arguments:r="Invalid function arguments";break;case G.invalid_return_type:r="Invalid function return type";break;case G.invalid_date:r="Invalid date";break;case G.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:$e.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case G.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case G.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case G.custom:r="Invalid input";break;case G.invalid_intersection_types:r="Intersection results could not be merged";break;case G.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case G.not_finite:r="Number must be finite";break;default:r=e.defaultError,$e.assertNever(t)}return{message:r}};let dx=Zd;function KJ(t){dx=t}function c0(){return dx}const u0=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};let a="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},GJ=[];function ne(t,e){const r=u0({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,c0(),Zd].filter(n=>!!n)});t.common.issues.push(r)}class Kr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return me;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return Kr.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return me;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const me=Object.freeze({status:"aborted"}),fx=t=>({status:"dirty",value:t}),tn=t=>({status:"valid",value:t}),jv=t=>t.status==="aborted",zv=t=>t.status==="dirty",Xd=t=>t.status==="valid",l0=t=>typeof Promise<"u"&&t instanceof Promise;var de;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(de||(de={}));class ss{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ZC=(t,e)=>{if(Xd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new _i(t.common.issues);return this._error=r,this._error}}};function we(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}class Ae{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return lo(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:lo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Kr,ctx:{common:e.parent.common,data:e.data,parsedType:lo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(l0(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lo(e)},s=this._parseSync({data:e,path:i.path,parent:i});return ZC(i,s)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lo(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(l0(i)?i:Promise.resolve(i));return ZC(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:G.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Ni({schema:this,typeName:pe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Os.create(this,this._def)}nullable(){return qa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Si.create(this,this._def)}promise(){return Nu.create(this,this._def)}or(e){return nf.create([this,e],this._def)}and(e){return sf.create(this,e,this._def)}transform(e){return new Ni({...we(this._def),schema:this,typeName:pe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new lf({...we(this._def),innerType:this,defaultValue:r,typeName:pe.ZodDefault})}brand(){return new px({typeName:pe.ZodBranded,type:this,...we(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new p0({...we(this._def),innerType:this,catchValue:r,typeName:pe.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Wf.create(this,e)}readonly(){return m0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const QJ=/^c[^\s-]{8,}$/i,YJ=/^[a-z][a-z0-9]*$/,JJ=/^[0-9A-HJKMNP-TV-Z]{26}$/,ZJ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,XJ=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Py;const tZ=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,rZ=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,nZ=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function iZ(t,e){return!!((e==="v4"||!e)&&tZ.test(t)||(e==="v6"||!e)&&rZ.test(t))}class Ei extends Ae{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ee.string){const s=this._getOrReturnCtx(e);return ne(s,{code:G.invalid_type,expected:ee.string,received:s.parsedType}),me}const n=new Kr;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:G.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:G.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?ne(i,{code:G.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&ne(i,{code:G.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")XJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"email",code:G.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")Py||(Py=new RegExp(eZ,"u")),Py.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"emoji",code:G.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")ZJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"uuid",code:G.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")QJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"cuid",code:G.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")YJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"cuid2",code:G.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")JJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"ulid",code:G.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ne(i,{validation:"url",code:G.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"regex",code:G.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ne(i,{code:G.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ne(i,{code:G.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ne(i,{code:G.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?nZ(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{code:G.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?iZ(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"ip",code:G.invalid_string,message:s.message}),n.dirty()):$e.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:G.invalid_string,...de.errToObj(n)})}_addCheck(e){return new Ei({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...de.errToObj(e)})}url(e){return this._addCheck({kind:"url",...de.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...de.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...de.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...de.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...de.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...de.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...de.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...de.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...de.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...de.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...de.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...de.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...de.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...de.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...de.errToObj(r)})}nonempty(e){return this.min(1,de.errToObj(e))}trim(){return new Ei({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ei({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ei({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ei.create=t=>{var e;return new Ei({checks:[],typeName:pe.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...we(t)})};function sZ(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Bo extends Ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ee.number){const s=this._getOrReturnCtx(e);return ne(s,{code:G.invalid_type,expected:ee.number,received:s.parsedType}),me}let n;const i=new Kr;for(const s of this._def.checks)s.kind==="int"?$e.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{code:G.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),ne(n,{code:G.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),ne(n,{code:G.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?sZ(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),ne(n,{code:G.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{code:G.not_finite,message:s.message}),i.dirty()):$e.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,de.toString(r))}gt(e,r){return this.setLimit("min",e,!1,de.toString(r))}lte(e,r){return this.setLimit("max",e,!0,de.toString(r))}lt(e,r){return this.setLimit("max",e,!1,de.toString(r))}setLimit(e,r,n,i){return new Bo({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:de.toString(i)}]})}_addCheck(e){return new Bo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:de.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:de.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&$e.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Bo.create=t=>new Bo({checks:[],typeName:pe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...we(t)});class jo extends Ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ee.bigint){const s=this._getOrReturnCtx(e);return ne(s,{code:G.invalid_type,expected:ee.bigint,received:s.parsedType}),me}let n;const i=new Kr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),ne(n,{code:G.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),ne(n,{code:G.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ne(n,{code:G.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):$e.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,de.toString(r))}gt(e,r){return this.setLimit("min",e,!1,de.toString(r))}lte(e,r){return this.setLimit("max",e,!0,de.toString(r))}lt(e,r){return this.setLimit("max",e,!1,de.toString(r))}setLimit(e,r,n,i){return new jo({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:de.toString(i)}]})}_addCheck(e){return new jo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}jo.create=t=>{var e;return new jo({checks:[],typeName:pe.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...we(t)})};class ef extends Ae{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ee.boolean){const n=this._getOrReturnCtx(e);return ne(n,{code:G.invalid_type,expected:ee.boolean,received:n.parsedType}),me}return tn(e.data)}}ef.create=t=>new ef({typeName:pe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...we(t)});class za extends Ae{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ee.date){const s=this._getOrReturnCtx(e);return ne(s,{code:G.invalid_type,expected:ee.date,received:s.parsedType}),me}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ne(s,{code:G.invalid_date}),me}const n=new Kr;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:G.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:G.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):$e.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new za({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:de.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:de.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}za.create=t=>new za({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:pe.ZodDate,...we(t)});class d0 extends Ae{_parse(e){if(this._getType(e)!==ee.symbol){const n=this._getOrReturnCtx(e);return ne(n,{code:G.invalid_type,expected:ee.symbol,received:n.parsedType}),me}return tn(e.data)}}d0.create=t=>new d0({typeName:pe.ZodSymbol,...we(t)});class tf extends Ae{_parse(e){if(this._getType(e)!==ee.undefined){const n=this._getOrReturnCtx(e);return ne(n,{code:G.invalid_type,expected:ee.undefined,received:n.parsedType}),me}return tn(e.data)}}tf.create=t=>new tf({typeName:pe.ZodUndefined,...we(t)});class rf extends Ae{_parse(e){if(this._getType(e)!==ee.null){const n=this._getOrReturnCtx(e);return ne(n,{code:G.invalid_type,expected:ee.null,received:n.parsedType}),me}return tn(e.data)}}rf.create=t=>new rf({typeName:pe.ZodNull,...we(t)});class xu extends Ae{constructor(){super(...arguments),this._any=!0}_parse(e){return tn(e.data)}}xu.create=t=>new xu({typeName:pe.ZodAny,...we(t)});class _a extends Ae{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tn(e.data)}}_a.create=t=>new _a({typeName:pe.ZodUnknown,...we(t)});class Hs extends Ae{_parse(e){const r=this._getOrReturnCtx(e);return ne(r,{code:G.invalid_type,expected:ee.never,received:r.parsedType}),me}}Hs.create=t=>new Hs({typeName:pe.ZodNever,...we(t)});class f0 extends Ae{_parse(e){if(this._getType(e)!==ee.undefined){const n=this._getOrReturnCtx(e);return ne(n,{code:G.invalid_type,expected:ee.void,received:n.parsedType}),me}return tn(e.data)}}f0.create=t=>new f0({typeName:pe.ZodVoid,...we(t)});class Si extends Ae{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==ee.array)return ne(r,{code:G.invalid_type,expected:ee.array,received:r.parsedType}),me;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(ne(r,{code:o?G.too_big:G.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(ne(r,{code:G.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(ne(r,{code:G.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new ss(r,o,r.path,a)))).then(o=>Kr.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new ss(r,o,r.path,a)));return Kr.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Si({...this._def,minLength:{value:e,message:de.toString(r)}})}max(e,r){return new Si({...this._def,maxLength:{value:e,message:de.toString(r)}})}length(e,r){return new Si({...this._def,exactLength:{value:e,message:de.toString(r)}})}nonempty(e){return this.min(1,e)}}Si.create=(t,e)=>new Si({type:t,minLength:null,maxLength:null,exactLength:null,typeName:pe.ZodArray,...we(e)});function Tc(t){if(t instanceof Et){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Os.create(Tc(n))}return new Et({...t._def,shape:()=>e})}else return t instanceof Si?new Si({...t._def,type:Tc(t.element)}):t instanceof Os?Os.create(Tc(t.unwrap())):t instanceof qa?qa.create(Tc(t.unwrap())):t instanceof os?os.create(t.items.map(e=>Tc(e))):t}class Et extends Ae{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=$e.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==ee.object){const u=this._getOrReturnCtx(e);return ne(u,{code:G.invalid_type,expected:ee.object,received:u.parsedType}),me}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Hs&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const l=s[u],d=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new ss(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Hs){const u=this._def.unknownKeys;if(u==="passthrough")for(const l of a)c.push({key:{status:"valid",value:l},value:{status:"valid",value:i.data[l]}});else if(u==="strict")a.length>0&&(ne(i,{code:G.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const l of a){const d=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new ss(i,d,i.path,l)),alwaysSet:l in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const l of c){const d=await l.key;u.push({key:d,value:await l.value,alwaysSet:l.alwaysSet})}return u}).then(u=>Kr.mergeObjectSync(n,u)):Kr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return de.errToObj,new Et({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=de.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Et({...this._def,unknownKeys:"strip"})}passthrough(){return new Et({...this._def,unknownKeys:"passthrough"})}extend(e){return new Et({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Et({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:pe.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Et({...this._def,catchall:e})}pick(e){const r={};return $e.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Et({...this._def,shape:()=>r})}omit(e){const r={};return $e.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Et({...this._def,shape:()=>r})}deepPartial(){return Tc(this)}partial(e){const r={};return $e.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new Et({...this._def,shape:()=>r})}required(e){const r={};return $e.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Os;)s=s._def.innerType;r[n]=s}}),new Et({...this._def,shape:()=>r})}keyof(){return hx($e.objectKeys(this.shape))}}Et.create=(t,e)=>new Et({shape:()=>t,unknownKeys:"strip",catchall:Hs.create(),typeName:pe.ZodObject,...we(e)});Et.strictCreate=(t,e)=>new Et({shape:()=>t,unknownKeys:"strict",catchall:Hs.create(),typeName:pe.ZodObject,...we(e)});Et.lazycreate=(t,e)=>new Et({shape:t,unknownKeys:"strip",catchall:Hs.create(),typeName:pe.ZodObject,...we(e)});class nf extends Ae{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new _i(a.ctx.common.issues));return ne(r,{code:G.invalid_union,unionErrors:o}),me}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},l=c._parseSync({data:r.data,path:r.path,parent:u});if(l.status==="valid")return l;l.status==="dirty"&&!s&&(s={result:l,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new _i(c));return ne(r,{code:G.invalid_union,unionErrors:a}),me}}get options(){return this._def.options}}nf.create=(t,e)=>new nf({options:t,typeName:pe.ZodUnion,...we(e)});const cp=t=>t instanceof af?cp(t.schema):t instanceof Ni?cp(t.innerType()):t instanceof cf?[t.value]:t instanceof zo?t.options:t instanceof uf?Object.keys(t.enum):t instanceof lf?cp(t._def.innerType):t instanceof tf?[void 0]:t instanceof rf?[null]:null;class Sg extends Ae{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.object)return ne(r,{code:G.invalid_type,expected:ee.object,received:r.parsedType}),me;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(ne(r,{code:G.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const o=cp(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new Sg({typeName:pe.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...we(n)})}}function Hv(t,e){const r=lo(t),n=lo(e);if(t===e)return{valid:!0,data:t};if(r===ee.object&&n===ee.object){const i=$e.objectKeys(e),s=$e.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=Hv(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===ee.array&&n===ee.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=Hv(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===ee.date&&n===ee.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class sf extends Ae{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(jv(s)||jv(o))return me;const a=Hv(s.value,o.value);return a.valid?((zv(s)||zv(o))&&r.dirty(),{status:r.value,value:a.data}):(ne(n,{code:G.invalid_intersection_types}),me)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}sf.create=(t,e,r)=>new sf({left:t,right:e,typeName:pe.ZodIntersection,...we(r)});class os extends Ae{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.array)return ne(n,{code:G.invalid_type,expected:ee.array,received:n.parsedType}),me;if(n.data.length<this._def.items.length)return ne(n,{code:G.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),me;!this._def.rest&&n.data.length>this._def.items.length&&(ne(n,{code:G.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new ss(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>Kr.mergeArray(r,o)):Kr.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new os({...this._def,rest:e})}}os.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new os({items:t,typeName:pe.ZodTuple,rest:null,...we(e)})};class of extends Ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.object)return ne(n,{code:G.invalid_type,expected:ee.object,received:n.parsedType}),me;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in n.data)i.push({key:s._parse(new ss(n,a,n.path,a)),value:o._parse(new ss(n,n.data[a],n.path,a))});return n.common.async?Kr.mergeObjectAsync(r,i):Kr.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Ae?new of({keyType:e,valueType:r,typeName:pe.ZodRecord,...we(n)}):new of({keyType:Ei.create(),valueType:e,typeName:pe.ZodRecord,...we(r)})}}class h0 extends Ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.map)return ne(n,{code:G.invalid_type,expected:ee.map,received:n.parsedType}),me;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,c],u)=>({key:i._parse(new ss(n,a,n.path,[u,"key"])),value:s._parse(new ss(n,c,n.path,[u,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,l=await c.value;if(u.status==="aborted"||l.status==="aborted")return me;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,l=c.value;if(u.status==="aborted"||l.status==="aborted")return me;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}}}}h0.create=(t,e,r)=>new h0({valueType:e,keyType:t,typeName:pe.ZodMap,...we(r)});class Ha extends Ae{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.set)return ne(n,{code:G.invalid_type,expected:ee.set,received:n.parsedType}),me;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(ne(n,{code:G.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(ne(n,{code:G.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const l of c){if(l.status==="aborted")return me;l.status==="dirty"&&r.dirty(),u.add(l.value)}return{status:r.value,value:u}}const a=[...n.data.values()].map((c,u)=>s._parse(new ss(n,c,n.path,u)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new Ha({...this._def,minSize:{value:e,message:de.toString(r)}})}max(e,r){return new Ha({...this._def,maxSize:{value:e,message:de.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ha.create=(t,e)=>new Ha({valueType:t,minSize:null,maxSize:null,typeName:pe.ZodSet,...we(e)});class iu extends Ae{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.function)return ne(r,{code:G.invalid_type,expected:ee.function,received:r.parsedType}),me;function n(a,c){return u0({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,c0(),Zd].filter(u=>!!u),issueData:{code:G.invalid_arguments,argumentsError:c}})}function i(a,c){return u0({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,c0(),Zd].filter(u=>!!u),issueData:{code:G.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Nu){const a=this;return tn(async function(...c){const u=new _i([]),l=await a._def.args.parseAsync(c,s).catch(h=>{throw u.addIssue(n(c,h)),u}),d=await Reflect.apply(o,this,l);return await a._def.returns._def.type.parseAsync(d,s).catch(h=>{throw u.addIssue(i(d,h)),u})})}else{const a=this;return tn(function(...c){const u=a._def.args.safeParse(c,s);if(!u.success)throw new _i([n(c,u.error)]);const l=Reflect.apply(o,this,u.data),d=a._def.returns.safeParse(l,s);if(!d.success)throw new _i([i(l,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new iu({...this._def,args:os.create(e).rest(_a.create())})}returns(e){return new iu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new iu({args:e||os.create([]).rest(_a.create()),returns:r||_a.create(),typeName:pe.ZodFunction,...we(n)})}}class af extends Ae{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}af.create=(t,e)=>new af({getter:t,typeName:pe.ZodLazy,...we(e)});class cf extends Ae{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return ne(r,{received:r.data,code:G.invalid_literal,expected:this._def.value}),me}return{status:"valid",value:e.data}}get value(){return this._def.value}}cf.create=(t,e)=>new cf({value:t,typeName:pe.ZodLiteral,...we(e)});function hx(t,e){return new zo({values:t,typeName:pe.ZodEnum,...we(e)})}class zo extends Ae{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return ne(r,{expected:$e.joinValues(n),received:r.parsedType,code:G.invalid_type}),me}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return ne(r,{received:r.data,code:G.invalid_enum_value,options:n}),me}return tn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return zo.create(e)}exclude(e){return zo.create(this.options.filter(r=>!e.includes(r)))}}zo.create=hx;class uf extends Ae{_parse(e){const r=$e.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ee.string&&n.parsedType!==ee.number){const i=$e.objectValues(r);return ne(n,{expected:$e.joinValues(i),received:n.parsedType,code:G.invalid_type}),me}if(r.indexOf(e.data)===-1){const i=$e.objectValues(r);return ne(n,{received:n.data,code:G.invalid_enum_value,options:i}),me}return tn(e.data)}get enum(){return this._def.values}}uf.create=(t,e)=>new uf({values:t,typeName:pe.ZodNativeEnum,...we(e)});class Nu extends Ae{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.promise&&r.common.async===!1)return ne(r,{code:G.invalid_type,expected:ee.promise,received:r.parsedType}),me;const n=r.parsedType===ee.promise?r.data:Promise.resolve(r.data);return tn(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Nu.create=(t,e)=>new Nu({type:t,typeName:pe.ZodPromise,...we(e)});class Ni extends Ae{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{ne(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?me:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?me:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Xd(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Xd(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);$e.assertNever(i)}}Ni.create=(t,e,r)=>new Ni({schema:t,typeName:pe.ZodEffects,effect:e,...we(r)});Ni.createWithPreprocess=(t,e,r)=>new Ni({schema:e,effect:{type:"preprocess",transform:t},typeName:pe.ZodEffects,...we(r)});class Os extends Ae{_parse(e){return this._getType(e)===ee.undefined?tn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Os.create=(t,e)=>new Os({innerType:t,typeName:pe.ZodOptional,...we(e)});class qa extends Ae{_parse(e){return this._getType(e)===ee.null?tn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qa.create=(t,e)=>new qa({innerType:t,typeName:pe.ZodNullable,...we(e)});class lf extends Ae{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===ee.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}lf.create=(t,e)=>new lf({innerType:t,typeName:pe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...we(e)});class p0 extends Ae{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return l0(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new _i(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new _i(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}p0.create=(t,e)=>new p0({innerType:t,typeName:pe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...we(e)});class g0 extends Ae{_parse(e){if(this._getType(e)!==ee.nan){const n=this._getOrReturnCtx(e);return ne(n,{code:G.invalid_type,expected:ee.nan,received:n.parsedType}),me}return{status:"valid",value:e.data}}}g0.create=t=>new g0({typeName:pe.ZodNaN,...we(t)});const oZ=Symbol("zod_brand");class px extends Ae{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Wf extends Ae{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?me:s.status==="dirty"?(r.dirty(),fx(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?me:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Wf({in:e,out:r,typeName:pe.ZodPipeline})}}class m0 extends Ae{_parse(e){const r=this._def.innerType._parse(e);return Xd(r)&&(r.value=Object.freeze(r.value)),r}}m0.create=(t,e)=>new m0({innerType:t,typeName:pe.ZodReadonly,...we(e)});const gx=(t,e={},r)=>t?xu.create().superRefine((n,i)=>{var s,o;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:c})}}):xu.create(),aZ={object:Et.lazycreate};var pe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(pe||(pe={}));const cZ=(t,e={message:`Input not instance of ${t.name}`})=>gx(r=>r instanceof t,e),mx=Ei.create,yx=Bo.create,uZ=g0.create,lZ=jo.create,wx=ef.create,dZ=za.create,fZ=d0.create,hZ=tf.create,pZ=rf.create,gZ=xu.create,mZ=_a.create,yZ=Hs.create,wZ=f0.create,vZ=Si.create,bZ=Et.create,EZ=Et.strictCreate,AZ=nf.create,CZ=Sg.create,_Z=sf.create,SZ=os.create,IZ=of.create,xZ=h0.create,NZ=Ha.create,TZ=iu.create,PZ=af.create,kZ=cf.create,RZ=zo.create,OZ=uf.create,DZ=Nu.create,XC=Ni.create,MZ=Os.create,$Z=qa.create,UZ=Ni.createWithPreprocess,LZ=Wf.create,FZ=()=>mx().optional(),BZ=()=>yx().optional(),jZ=()=>wx().optional(),zZ={string:t=>Ei.create({...t,coerce:!0}),number:t=>Bo.create({...t,coerce:!0}),boolean:t=>ef.create({...t,coerce:!0}),bigint:t=>jo.create({...t,coerce:!0}),date:t=>za.create({...t,coerce:!0})},HZ=me;var O=Object.freeze({__proto__:null,defaultErrorMap:Zd,setErrorMap:KJ,getErrorMap:c0,makeIssue:u0,EMPTY_PATH:GJ,addIssueToContext:ne,ParseStatus:Kr,INVALID:me,DIRTY:fx,OK:tn,isAborted:jv,isDirty:zv,isValid:Xd,isAsync:l0,get util(){return $e},get objectUtil(){return Bv},ZodParsedType:ee,getParsedType:lo,ZodType:Ae,ZodString:Ei,ZodNumber:Bo,ZodBigInt:jo,ZodBoolean:ef,ZodDate:za,ZodSymbol:d0,ZodUndefined:tf,ZodNull:rf,ZodAny:xu,ZodUnknown:_a,ZodNever:Hs,ZodVoid:f0,ZodArray:Si,ZodObject:Et,ZodUnion:nf,ZodDiscriminatedUnion:Sg,ZodIntersection:sf,ZodTuple:os,ZodRecord:of,ZodMap:h0,ZodSet:Ha,ZodFunction:iu,ZodLazy:af,ZodLiteral:cf,ZodEnum:zo,ZodNativeEnum:uf,ZodPromise:Nu,ZodEffects:Ni,ZodTransformer:Ni,ZodOptional:Os,ZodNullable:qa,ZodDefault:lf,ZodCatch:p0,ZodNaN:g0,BRAND:oZ,ZodBranded:px,ZodPipeline:Wf,ZodReadonly:m0,custom:gx,Schema:Ae,ZodSchema:Ae,late:aZ,get ZodFirstPartyTypeKind(){return pe},coerce:zZ,any:gZ,array:vZ,bigint:lZ,boolean:wx,date:dZ,discriminatedUnion:CZ,effect:XC,enum:RZ,function:TZ,instanceof:cZ,intersection:_Z,lazy:PZ,literal:kZ,map:xZ,nan:uZ,nativeEnum:OZ,never:yZ,null:pZ,nullable:$Z,number:yx,object:bZ,oboolean:jZ,onumber:BZ,optional:MZ,ostring:FZ,pipeline:LZ,preprocess:UZ,promise:DZ,record:IZ,set:NZ,strictObject:EZ,string:mx,symbol:fZ,transformer:XC,tuple:SZ,undefined:hZ,union:AZ,unknown:mZ,void:wZ,NEVER:HZ,ZodIssueCode:G,quotelessJson:VJ,ZodError:_i});const Pt=O.object({message:O.string()});function te(t){return O.literal(ce[t])}O.object({accessList:O.array(O.string()),blockHash:O.string().nullable(),blockNumber:O.string().nullable(),chainId:O.string().or(O.number()),from:O.string(),gas:O.string(),hash:O.string(),input:O.string().nullable(),maxFeePerGas:O.string(),maxPriorityFeePerGas:O.string(),nonce:O.string(),r:O.string(),s:O.string(),to:O.string(),transactionIndex:O.string().nullable(),type:O.string(),v:O.string(),value:O.string()});const qZ=O.object({chainId:O.string().or(O.number())}),WZ=O.object({email:O.string().email()}),VZ=O.object({otp:O.string()}),KZ=O.object({uri:O.string()}),GZ=O.object({chainId:O.optional(O.string().or(O.number())),preferredAccountType:O.optional(O.string())}),QZ=O.object({provider:O.enum(["google","github","apple","facebook","x","discord"])}),YZ=O.object({email:O.string().email()}),JZ=O.object({otp:O.string()}),ZZ=O.object({otp:O.string()}),XZ=O.object({themeMode:O.optional(O.enum(["light","dark"])),themeVariables:O.optional(O.record(O.string(),O.string().or(O.number()))),w3mThemeVariables:O.optional(O.record(O.string(),O.string()))}),eX=O.object({metadata:O.object({name:O.string(),description:O.string(),url:O.string(),icons:O.array(O.string())}).optional(),sdkVersion:O.string().optional(),sdkType:O.string().optional(),projectId:O.string()}),tX=O.object({type:O.string()}),rX=O.object({action:O.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),nX=O.object({url:O.string()}),iX=O.object({userName:O.string()}),sX=O.object({email:O.string().optional().nullable(),address:O.string(),chainId:O.string().or(O.number()),accounts:O.array(O.object({address:O.string(),type:O.enum([mt.ACCOUNT_TYPES.EOA,mt.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:O.string().optional().nullable()}),oX=O.object({action:O.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),aX=O.object({email:O.string().email().optional().nullable(),address:O.string(),chainId:O.string().or(O.number()),smartAccountDeployed:O.optional(O.boolean()),accounts:O.array(O.object({address:O.string(),type:O.enum([mt.ACCOUNT_TYPES.EOA,mt.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:O.optional(O.string())}),cX=O.object({uri:O.string()}),uX=O.object({isConnected:O.boolean()}),lX=O.object({chainId:O.string().or(O.number())}),dX=O.object({chainId:O.string().or(O.number())}),fX=O.object({newEmail:O.string().email()}),hX=O.object({smartAccountEnabledNetworks:O.array(O.number())});O.object({address:O.string(),isDeployed:O.boolean()});const pX=O.object({version:O.string().optional()}),gX=O.object({type:O.string(),address:O.string()}),mX=O.any(),yX=O.object({method:O.literal("eth_accounts")}),wX=O.object({method:O.literal("eth_blockNumber")}),vX=O.object({method:O.literal("eth_call"),params:O.array(O.any())}),bX=O.object({method:O.literal("eth_chainId")}),EX=O.object({method:O.literal("eth_estimateGas"),params:O.array(O.any())}),AX=O.object({method:O.literal("eth_feeHistory"),params:O.array(O.any())}),CX=O.object({method:O.literal("eth_gasPrice")}),_X=O.object({method:O.literal("eth_getAccount"),params:O.array(O.any())}),SX=O.object({method:O.literal("eth_getBalance"),params:O.array(O.any())}),IX=O.object({method:O.literal("eth_getBlockByHash"),params:O.array(O.any())}),xX=O.object({method:O.literal("eth_getBlockByNumber"),params:O.array(O.any())}),NX=O.object({method:O.literal("eth_getBlockReceipts"),params:O.array(O.any())}),TX=O.object({method:O.literal("eth_getBlockTransactionCountByHash"),params:O.array(O.any())}),PX=O.object({method:O.literal("eth_getBlockTransactionCountByNumber"),params:O.array(O.any())}),kX=O.object({method:O.literal("eth_getCode"),params:O.array(O.any())}),RX=O.object({method:O.literal("eth_getFilterChanges"),params:O.array(O.any())}),OX=O.object({method:O.literal("eth_getFilterLogs"),params:O.array(O.any())}),DX=O.object({method:O.literal("eth_getLogs"),params:O.array(O.any())}),MX=O.object({method:O.literal("eth_getProof"),params:O.array(O.any())}),$X=O.object({method:O.literal("eth_getStorageAt"),params:O.array(O.any())}),UX=O.object({method:O.literal("eth_getTransactionByBlockHashAndIndex"),params:O.array(O.any())}),LX=O.object({method:O.literal("eth_getTransactionByBlockNumberAndIndex"),params:O.array(O.any())}),FX=O.object({method:O.literal("eth_getTransactionByHash"),params:O.array(O.any())}),BX=O.object({method:O.literal("eth_getTransactionCount"),params:O.array(O.any())}),jX=O.object({method:O.literal("eth_getTransactionReceipt"),params:O.array(O.any())}),zX=O.object({method:O.literal("eth_getUncleCountByBlockHash"),params:O.array(O.any())}),HX=O.object({method:O.literal("eth_getUncleCountByBlockNumber"),params:O.array(O.any())}),qX=O.object({method:O.literal("eth_maxPriorityFeePerGas")}),WX=O.object({method:O.literal("eth_newBlockFilter")}),VX=O.object({method:O.literal("eth_newFilter"),params:O.array(O.any())}),KX=O.object({method:O.literal("eth_newPendingTransactionFilter")}),GX=O.object({method:O.literal("eth_sendRawTransaction"),params:O.array(O.any())}),QX=O.object({method:O.literal("eth_syncing"),params:O.array(O.any())}),YX=O.object({method:O.literal("eth_uninstallFilter"),params:O.array(O.any())}),e_=O.object({method:O.literal("personal_sign"),params:O.array(O.any())}),JX=O.object({method:O.literal("eth_signTypedData_v4"),params:O.array(O.any())}),ZX=O.object({method:O.literal("eth_sendTransaction"),params:O.array(O.any())}),XX=O.object({method:O.literal("solana_signMessage"),params:O.object({message:O.string(),pubkey:O.string()})}),eee=O.object({method:O.literal("solana_signTransaction"),params:O.object({transaction:O.string()})}),tee=O.object({method:O.literal("solana_signAllTransactions"),params:O.object({transactions:O.array(O.string())})}),ree=O.object({method:O.literal("solana_signAndSendTransaction"),params:O.object({transaction:O.string(),options:O.object({skipPreflight:O.boolean().optional(),preflightCommitment:O.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:O.number().optional(),minContextSlot:O.number().optional()}).optional()})}),nee=O.object({method:O.literal("wallet_sendCalls"),params:O.array(O.object({chainId:O.string().or(O.number()).optional(),from:O.string().optional(),version:O.string().optional(),capabilities:O.any().optional(),calls:O.array(O.object({to:O.string().startsWith("0x"),data:O.string().startsWith("0x").optional(),value:O.string().optional()}))}))}),iee=O.object({method:O.literal("wallet_getCallsStatus"),params:O.array(O.string())}),see=O.object({method:O.literal("wallet_getCapabilities")}),oee=O.object({method:O.literal("wallet_grantPermissions"),params:O.array(O.any())}),aee=O.object({method:O.literal("wallet_revokePermissions"),params:O.any()}),cee=O.object({method:O.literal("wallet_getAssets"),params:O.any()}),t_=O.object({token:O.string()}),re=O.object({id:O.string().optional()}),Ol={appEvent:re.extend({type:te("APP_SWITCH_NETWORK"),payload:qZ}).or(re.extend({type:te("APP_CONNECT_EMAIL"),payload:WZ})).or(re.extend({type:te("APP_CONNECT_DEVICE")})).or(re.extend({type:te("APP_CONNECT_OTP"),payload:VZ})).or(re.extend({type:te("APP_CONNECT_SOCIAL"),payload:KZ})).or(re.extend({type:te("APP_GET_FARCASTER_URI")})).or(re.extend({type:te("APP_CONNECT_FARCASTER")})).or(re.extend({type:te("APP_GET_USER"),payload:O.optional(GZ)})).or(re.extend({type:te("APP_GET_SOCIAL_REDIRECT_URI"),payload:QZ})).or(re.extend({type:te("APP_SIGN_OUT")})).or(re.extend({type:te("APP_IS_CONNECTED"),payload:O.optional(t_)})).or(re.extend({type:te("APP_GET_CHAIN_ID")})).or(re.extend({type:te("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(re.extend({type:te("APP_INIT_SMART_ACCOUNT")})).or(re.extend({type:te("APP_SET_PREFERRED_ACCOUNT"),payload:tX})).or(re.extend({type:te("APP_RPC_REQUEST"),payload:e_.or(cee).or(yX).or(wX).or(vX).or(bX).or(EX).or(AX).or(CX).or(_X).or(SX).or(IX).or(xX).or(NX).or(TX).or(PX).or(kX).or(RX).or(OX).or(DX).or(MX).or($X).or(UX).or(LX).or(FX).or(BX).or(jX).or(zX).or(HX).or(qX).or(WX).or(VX).or(KX).or(GX).or(QX).or(YX).or(e_).or(JX).or(ZX).or(XX).or(eee).or(tee).or(ree).or(iee).or(nee).or(see).or(oee).or(aee)})).or(re.extend({type:te("APP_UPDATE_EMAIL"),payload:YZ})).or(re.extend({type:te("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:JZ})).or(re.extend({type:te("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:ZZ})).or(re.extend({type:te("APP_SYNC_THEME"),payload:XZ})).or(re.extend({type:te("APP_SYNC_DAPP_DATA"),payload:eX})).or(re.extend({type:te("APP_RELOAD")})),frameEvent:re.extend({type:te("FRAME_SWITCH_NETWORK_ERROR"),payload:Pt}).or(re.extend({type:te("FRAME_SWITCH_NETWORK_SUCCESS"),payload:dX})).or(re.extend({type:te("FRAME_CONNECT_EMAIL_SUCCESS"),payload:rX})).or(re.extend({type:te("FRAME_CONNECT_EMAIL_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:nX})).or(re.extend({type:te("FRAME_GET_FARCASTER_URI_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:iX})).or(re.extend({type:te("FRAME_CONNECT_FARCASTER_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_CONNECT_OTP_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_CONNECT_OTP_SUCCESS")})).or(re.extend({type:te("FRAME_CONNECT_DEVICE_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_CONNECT_DEVICE_SUCCESS")})).or(re.extend({type:te("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:sX})).or(re.extend({type:te("FRAME_CONNECT_SOCIAL_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_GET_USER_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_GET_USER_SUCCESS"),payload:aX})).or(re.extend({type:te("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:cX})).or(re.extend({type:te("FRAME_SIGN_OUT_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_SIGN_OUT_SUCCESS")})).or(re.extend({type:te("FRAME_IS_CONNECTED_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_IS_CONNECTED_SUCCESS"),payload:uX})).or(re.extend({type:te("FRAME_GET_CHAIN_ID_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_GET_CHAIN_ID_SUCCESS"),payload:lX})).or(re.extend({type:te("FRAME_RPC_REQUEST_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_RPC_REQUEST_SUCCESS"),payload:mX})).or(re.extend({type:te("FRAME_SESSION_UPDATE"),payload:t_})).or(re.extend({type:te("FRAME_UPDATE_EMAIL_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_UPDATE_EMAIL_SUCCESS"),payload:oX})).or(re.extend({type:te("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(re.extend({type:te("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:fX})).or(re.extend({type:te("FRAME_SYNC_THEME_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_SYNC_THEME_SUCCESS")})).or(re.extend({type:te("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(re.extend({type:te("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:hX})).or(re.extend({type:te("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:gX})).or(re.extend({type:te("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_READY"),payload:pX})).or(re.extend({type:te("FRAME_RELOAD_ERROR"),payload:Pt})).or(re.extend({type:te("FRAME_RELOAD_SUCCESS")}))};function ky(t,e={}){var r;return typeof(e==null?void 0:e.type)=="string"&&((r=e==null?void 0:e.type)==null?void 0:r.includes(t))}class uee{constructor({projectId:e,isAppClient:r=!1,chainId:n="eip155:1",enableLogger:i=!0}){if(this.iframe=null,this.rpcUrl=K.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const s=document.getElementById("w3m-iframe");this.iframe&&!s&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(s,o,a)=>{function c({data:u}){if(!ky(ce.FRAME_EVENT_KEY,u))return;const l=Ol.frameEvent.parse(u);l.id===s&&(o(l),window.removeEventListener("message",c))}Pn.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:s=>{Pn.isClient&&window.addEventListener("message",({data:o})=>{if(!ky(ce.FRAME_EVENT_KEY,o))return;const a=Ol.frameEvent.parse(o);s(a)})},onAppEvent:s=>{Pn.isClient&&window.addEventListener("message",({data:o})=>{if(!ky(ce.APP_EVENT_KEY,o))return;const a=Ol.appEvent.parse(o);s(a)})},postAppEvent:s=>{var o;if(Pn.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");Ol.appEvent.parse(s),this.iframe.contentWindow.postMessage(s,"*")}},postFrameEvent:s=>{if(Pn.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");Ol.frameEvent.parse(s),parent.postMessage(s,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),r&&(this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),Pn.isClient)){const s=document.createElement("iframe");s.id="w3m-iframe",s.src=`${OG}?projectId=${e}&chainId=${n}&version=${MG}&enableLogger=${i}`,s.name="w3m-secure-iframe",s.style.position="fixed",s.style.zIndex="999999",s.style.display="none",s.style.animationDelay="0s, 50ms",s.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",s.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=s,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&((a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(r=>({[r]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${r}&projectId=${this.projectId}`,chainId:r}}));return Object.assign({},...e)}}class lee{constructor(e){var s;const r=Lu({level:DG}),{logger:n,chunkLoggerController:i}=Y1({opts:r});this.logger=Gr(n,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&((s=this.chunkLoggerController)!=null&&s.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class dee{constructor({projectId:e,chainId:r,enableLogger:n=!0,onTimeout:i}){this.openRpcRequests=[],n&&(this.w3mLogger=new lee(e)),this.w3mFrame=new uee({projectId:e,isAppClient:!0,chainId:r,enableLogger:n}),this.onTimeout=i,this.getLoginEmailUsed()&&this.w3mFrame.initFrame(),this.initPromise=new Promise(s=>{this.w3mFrame.events.onFrameEvent(o=>{o.type===ce.FRAME_READY&&(this.initPromise=void 0,s())})})}async init(){this.w3mFrame.initFrame(),this.initPromise&&await this.initPromise}getLoginEmailUsed(){return!!Nr.get(ce.EMAIL_LOGIN_USED_KEY)}getEmail(){return Nr.get(ce.EMAIL)}getUsername(){return Nr.get(ce.SOCIAL_USERNAME)}async reload(){var e;try{this.w3mFrame.initFrame(),await this.appEvent({type:ce.APP_RELOAD})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error reloading iframe"),r}}async connectEmail(e){var r;try{Pn.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();const n=await this.appEvent({type:ce.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){var e;try{return this.appEvent({type:ce.APP_CONNECT_DEVICE})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting device"),r}}async connectOtp(e){var r;try{return this.appEvent({type:ce.APP_CONNECT_OTP,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const r=await this.appEvent({type:ce.APP_IS_CONNECTED});return r.isConnected||this.deleteAuthLoginCache(),r}catch(r){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error checking connection"),r}}async getChainId(){var e;try{const r=await this.appEvent({type:ce.APP_GET_CHAIN_ID});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting chain id"),r}}async getSocialRedirectUri(e){var r;try{return this.w3mFrame.initFrame(),this.appEvent({type:ce.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(e){var r;try{const n=await this.appEvent({type:ce.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(e){var r;try{return this.appEvent({type:ce.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(e){var r;try{const n=await this.appEvent({type:ce.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(n.newEmail),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(e){var r;try{return this.appEvent({type:ce.APP_SYNC_THEME,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(e){var r;try{return this.appEvent({type:ce.APP_SYNC_DAPP_DATA,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){var e;try{const r=await this.appEvent({type:ce.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(r.smartAccountEnabledNetworks),r}catch(r){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting smart account enabled networks"),r}}async setPreferredAccount(e){var r;try{return this.appEvent({type:ce.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error setting preferred account"),n}}async connect(e){var r;try{const n=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.appEvent({type:ce.APP_GET_USER,payload:{...e,chainId:n}});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting"),n}}async getUser(e){var r;try{const n=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.appEvent({type:ce.APP_GET_USER,payload:{...e,chainId:n}});return this.user=i,i}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting"),n}}async connectSocial(e){var r;try{this.w3mFrame.initFrame();const n=await this.appEvent({type:ce.APP_CONNECT_SOCIAL,payload:{uri:e}});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting social"),n}}async getFarcasterUri(){var e;try{return this.w3mFrame.initFrame(),await this.appEvent({type:ce.APP_GET_FARCASTER_URI})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting farcaster uri"),r}}async connectFarcaster(){var e;try{const r=await this.appEvent({type:ce.APP_CONNECT_FARCASTER});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting farcaster"),r}}async switchNetwork(e){var r;try{const n=await this.appEvent({type:ce.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error switching network"),n}}async disconnect(){var e;try{const r=await this.appEvent({type:ce.APP_SIGN_OUT});return this.deleteAuthLoginCache(),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error disconnecting"),r}}async request(e){var r,n,i,s;try{if(mt.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(r=this.rpcRequestHandler)==null||r.call(this,e);const o=await this.appEvent({type:ce.APP_RPC_REQUEST,payload:e});return(n=this.rpcSuccessHandler)==null||n.call(this,o,e),o}catch(o){throw(i=this.rpcErrorHandler)==null||i.call(this,o,e),(s=this.w3mLogger)==null||s.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===ce.FRAME_IS_CONNECTED_SUCCESS&&r.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===ce.FRAME_IS_CONNECTED_ERROR&&e(),r.type===ce.FRAME_IS_CONNECTED_SUCCESS&&!r.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===ce.FRAME_GET_USER_SUCCESS&&e(r.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===ce.FRAME_CONNECT_SOCIAL_SUCCESS&&e(r.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===ce.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(r.payload):r.type===ce.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:mt.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===ce.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(r.payload.smartAccountEnabledNetworks):r.type===ce.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:r,method:n})=>{mt.SAFE_RPC_METHODS.includes(n)||r.abort()}),this.openRpcRequests=[]}catch(r){(e=this.w3mLogger)==null||e.logger.error({error:r},"Error aborting RPC request")}}async appEvent(e){await this.w3mFrame.frameLoadPromise;let r;function n(a){return a.replace("@w3m-app/","")}const i=new AbortController,s=n(e.type);return[ce.APP_CONNECT_EMAIL,ce.APP_CONNECT_DEVICE,ce.APP_CONNECT_OTP,ce.APP_CONNECT_SOCIAL,ce.APP_GET_SOCIAL_REDIRECT_URI].map(n).includes(s)&&(r=setTimeout(()=>{var a;(a=this.onTimeout)==null||a.call(this),i.abort()},3e4)),new Promise((a,c)=>{var d,f,h;const u=Math.random().toString(36).substring(7);if((h=(d=this.w3mLogger)==null?void 0:(f=d.logger).info)==null||h.call(f,{event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u}),s==="RPC_REQUEST"){const g=e;this.openRpcRequests=[...this.openRpcRequests,{...g.payload,abortController:i}]}i.signal.addEventListener("abort",()=>{s==="RPC_REQUEST"?c(new Error("Request was aborted")):s!=="GET_FARCASTER_URI"&&c(new Error("Something went wrong"))});function l(g,y){var _,v,w;g.id===u&&((v=y==null?void 0:(_=y.logger).info)==null||v.call(_,{framEvent:g,id:u},"Received frame response"),g.type===`@w3m-frame/${s}_SUCCESS`?(r&&clearTimeout(r),"payload"in g&&a(g.payload),a(void 0)):g.type===`@w3m-frame/${s}_ERROR`&&(r&&clearTimeout(r),"payload"in g&&c(new Error(((w=g.payload)==null?void 0:w.message)||"An error occurred")),c(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(u,g=>l(g,this.w3mLogger),i.signal)})}setNewLastEmailLoginTime(){Nr.set(ce.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){Nr.set(ce.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&Nr.set(ce.EMAIL,e),Nr.set(ce.EMAIL_LOGIN_USED_KEY,"true"),Nr.delete(ce.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){Nr.delete(ce.EMAIL_LOGIN_USED_KEY),Nr.delete(ce.EMAIL),Nr.delete(ce.LAST_USED_CHAIN_KEY),Nr.delete(ce.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&Nr.set(ce.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=Nr.get(ce.LAST_USED_CHAIN_KEY)??void 0,r=Number(e);return isNaN(r)?e:r}persistSmartAccountEnabledNetworks(e){Nr.set(ce.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class su{constructor(){}static getInstance({projectId:e,chainId:r,enableLogger:n,onTimeout:i}){return su.instance||(su.instance=new dee({projectId:e,chainId:r,enableLogger:n,onTimeout:i})),su.instance}}var r_={};const fee={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof r_<"u"?r_.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},qv={filterOutDuplicatesByRDNS(t){const e=J.state.enableEIP6963?ye.state.connectors:[],r=se.getRecentWallets(),n=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),i=r.map(a=>a.rdns).filter(Boolean),s=n.concat(i);if(s.includes("io.metamask.mobile")&&he.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!s.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=ye.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),r=se.getRecentWallets(),n=e.map(a=>a.explorerId),i=r.map(a=>a.id),s=n.concat(i);return t.filter(a=>!s.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=ye.state,r=e.filter(s=>s.type==="ANNOUNCED").reduce((s,o)=>{var a;return(a=o.info)!=null&&a.rdns&&(s[o.info.rdns]=!0),s},{});return t.map(s=>({...s,installed:!!s.rdns&&!!r[s.rdns??""]})).sort((s,o)=>Number(o.installed)-Number(s.installed))},getConnectOrderMethod(t,e){var c;const r=(t==null?void 0:t.connectMethodsOrder)||((c=J.state.features)==null?void 0:c.connectMethodsOrder),n=e||ye.state.connectors;if(r)return r;const{injected:i,announced:s}=up.getConnectorsByType(n,be.state.recommended,be.state.featured),o=i.filter(up.showConnector),a=s.filter(up.showConnector);return o.length||a.length?["wallet","email","social"]:fee.DEFAULT_CONNECT_METHOD_ORDER}},up={getConnectorsByType(t,e,r){const{customWallets:n}=J.state,i=se.getRecentWallets(),s=qv.filterOutDuplicateWallets(e),o=qv.filterOutDuplicateWallets(r),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),u=t.filter(d=>d.type==="INJECTED"),l=t.filter(d=>d.type==="EXTERNAL");return{custom:n,recent:i,external:l,multiChain:a,announced:c,injected:u,recommended:s,featured:o}},showConnector(t){var e,r;if(t.type==="INJECTED"){if(!he.isMobile()&&t.name==="Browser Wallet")return!1;const n=(e=t.info)==null?void 0:e.rdns;if(!n&&!Re.checkInstalled()||n&&be.state.excludedRDNS&&be.state.excludedRDNS.includes(n))return!1}if(t.type==="ANNOUNCED"){const n=(r=t.info)==null?void 0:r.rdns;if(n&&be.state.excludedRDNS.includes(n))return!1}return!0},getIsConnectedWithWC(){return Array.from(U.state.chains.values()).some(r=>ye.getConnectorId(r.namespace)===K.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:n,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=(u=>(u=J.state.features)==null?void 0:u.connectorTypeOrder)()??[]}){const l=up.getIsConnectedWithWC(),h=[{type:"walletConnect",isEnabled:J.state.enableWalletConnect&&!l},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(v=>v.isEnabled),g=new Set(h.map(v=>v.type)),y=c.filter(v=>g.has(v)).map(v=>({type:v,isEnabled:!0})),_=h.filter(({type:v})=>!y.some(({type:A})=>A===v));return Array.from(new Set([...y,..._].map(({type:v})=>v)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const lp=globalThis,Zb=lp.ShadowRoot&&(lp.ShadyCSS===void 0||lp.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Xb=Symbol(),n_=new WeakMap;let vx=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==Xb)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(Zb&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=n_.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&n_.set(r,e))}return e}toString(){return this.cssText}};const Hn=t=>new vx(typeof t=="string"?t:t+"",void 0,Xb),ou=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new vx(r,t,Xb)},hee=(t,e)=>{if(Zb)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const n=document.createElement("style"),i=lp.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},i_=Zb?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return Hn(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:pee,defineProperty:gee,getOwnPropertyDescriptor:mee,getOwnPropertyNames:yee,getOwnPropertySymbols:wee,getPrototypeOf:vee}=Object,Ro=globalThis,s_=Ro.trustedTypes,bee=s_?s_.emptyScript:"",Ry=Ro.reactiveElementPolyfillSupport,cd=(t,e)=>t,Wv={toAttribute(t,e){switch(e){case Boolean:t=t?bee:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},bx=(t,e)=>!pee(t,e),o_={attribute:!0,type:String,converter:Wv,reflect:!1,hasChanged:bx};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Ro.litPropertyMetadata??(Ro.litPropertyMetadata=new WeakMap);let Pc=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=o_){if(r.state&&(r.attribute=!1),this._$Ei(),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&gee(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){const{get:i,set:s}=mee(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get(){return i==null?void 0:i.call(this)},set(o){const a=i==null?void 0:i.call(this);s.call(this,o),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??o_}static _$Ei(){if(this.hasOwnProperty(cd("elementProperties")))return;const e=vee(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(cd("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(cd("properties"))){const r=this.properties,n=[...yee(r),...wee(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(i_(i))}else e!==void 0&&r.push(i_(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return hee(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostConnected)==null?void 0:n.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$EC(e,r){var s;const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(i!==void 0&&n.reflect===!0){const o=(((s=n.converter)==null?void 0:s.toAttribute)!==void 0?n.converter:Wv).toAttribute(r,n.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,r){var s;const n=this.constructor,i=n._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const o=n.getPropertyOptions(i),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((s=o.converter)==null?void 0:s.fromAttribute)!==void 0?o.converter:Wv;this._$Em=i,this[i]=a.fromAttribute(r,o.type),this._$Em=null}}requestUpdate(e,r,n){if(e!==void 0){if(n??(n=this.constructor.getPropertyOptions(e)),!(n.hasChanged??bx)(this[e],r))return;this.P(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,r,n){this._$AL.has(e)||this._$AL.set(e,r),n.reflect===!0&&this._$Em!==e&&(this._$Ej??(this._$Ej=new Set)).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i)o.wrapped!==!0||this._$AL.has(s)||this[s]===void 0||this.P(s,this[s],o)}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(n=this._$EO)==null||n.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(r)):this._$EU()}catch(i){throw e=!1,this._$EU(),i}e&&this._$AE(r)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach(n=>{var i;return(i=n.hostUpdated)==null?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(r=>this._$EC(r,this[r]))),this._$EU()}updated(e){}firstUpdated(e){}};Pc.elementStyles=[],Pc.shadowRootOptions={mode:"open"},Pc[cd("elementProperties")]=new Map,Pc[cd("finalized")]=new Map,Ry==null||Ry({ReactiveElement:Pc}),(Ro.reactiveElementVersions??(Ro.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ud=globalThis,y0=ud.trustedTypes,a_=y0?y0.createPolicy("lit-html",{createHTML:t=>t}):void 0,Ex="$lit$",fo=`lit$${Math.random().toFixed(9).slice(2)}$`,Ax="?"+fo,Eee=`<${Ax}>`,Wa=document,df=()=>Wa.createComment(""),ff=t=>t===null||typeof t!="object"&&typeof t!="function",e2=Array.isArray,Aee=t=>e2(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",Oy=`[ 	
\f\r]`,Dl=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,c_=/-->/g,u_=/>/g,Xo=RegExp(`>|${Oy}(?:([^\\s"'>=/]+)(${Oy}*=${Oy}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),l_=/'/g,d_=/"/g,Cx=/^(?:script|style|textarea|title)$/i,_x=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),Ane=_x(1),Cne=_x(2),Tu=Symbol.for("lit-noChange"),wr=Symbol.for("lit-nothing"),f_=new WeakMap,ya=Wa.createTreeWalker(Wa,129);function Sx(t,e){if(!e2(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return a_!==void 0?a_.createHTML(e):e}const Cee=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=Dl;for(let a=0;a<r;a++){const c=t[a];let u,l,d=-1,f=0;for(;f<c.length&&(o.lastIndex=f,l=o.exec(c),l!==null);)f=o.lastIndex,o===Dl?l[1]==="!--"?o=c_:l[1]!==void 0?o=u_:l[2]!==void 0?(Cx.test(l[2])&&(i=RegExp("</"+l[2],"g")),o=Xo):l[3]!==void 0&&(o=Xo):o===Xo?l[0]===">"?(o=i??Dl,d=-1):l[1]===void 0?d=-2:(d=o.lastIndex-l[2].length,u=l[1],o=l[3]===void 0?Xo:l[3]==='"'?d_:l_):o===d_||o===l_?o=Xo:o===c_||o===u_?o=Dl:(o=Xo,i=void 0);const h=o===Xo&&t[a+1].startsWith("/>")?" ":"";s+=o===Dl?c+Eee:d>=0?(n.push(u),c.slice(0,d)+Ex+c.slice(d)+fo+h):c+fo+(d===-2?a:h)}return[Sx(t,s+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};class hf{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[u,l]=Cee(e,r);if(this.el=hf.createElement(u,n),ya.currentNode=this.el.content,r===2||r===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(i=ya.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const d of i.getAttributeNames())if(d.endsWith(Ex)){const f=l[o++],h=i.getAttribute(d).split(fo),g=/([.?@])?(.*)/.exec(f);c.push({type:1,index:s,name:g[2],strings:h,ctor:g[1]==="."?See:g[1]==="?"?Iee:g[1]==="@"?xee:Ig}),i.removeAttribute(d)}else d.startsWith(fo)&&(c.push({type:6,index:s}),i.removeAttribute(d));if(Cx.test(i.tagName)){const d=i.textContent.split(fo),f=d.length-1;if(f>0){i.textContent=y0?y0.emptyScript:"";for(let h=0;h<f;h++)i.append(d[h],df()),ya.nextNode(),c.push({type:2,index:++s});i.append(d[f],df())}}}else if(i.nodeType===8)if(i.data===Ax)c.push({type:2,index:s});else{let d=-1;for(;(d=i.data.indexOf(fo,d+1))!==-1;)c.push({type:7,index:s}),d+=fo.length-1}s++}}static createElement(e,r){const n=Wa.createElement("template");return n.innerHTML=e,n}}function Pu(t,e,r=t,n){var o,a;if(e===Tu)return e;let i=n!==void 0?(o=r._$Co)==null?void 0:o[n]:r._$Cl;const s=ff(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,r,n)),n!==void 0?(r._$Co??(r._$Co=[]))[n]=i:r._$Cl=i),i!==void 0&&(e=Pu(t,i._$AS(t,e.values),i,n)),e}class _ee{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,i=((e==null?void 0:e.creationScope)??Wa).importNode(r,!0);ya.currentNode=i;let s=ya.nextNode(),o=0,a=0,c=n[0];for(;c!==void 0;){if(o===c.index){let u;c.type===2?u=new Vf(s,s.nextSibling,this,e):c.type===1?u=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(u=new Nee(s,this,e)),this._$AV.push(u),c=n[++a]}o!==(c==null?void 0:c.index)&&(s=ya.nextNode(),o++)}return ya.currentNode=Wa,i}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class Vf{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,r,n,i){this.type=2,this._$AH=wr,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=Pu(this,e,r),ff(e)?e===wr||e==null||e===""?(this._$AH!==wr&&this._$AR(),this._$AH=wr):e!==this._$AH&&e!==Tu&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Aee(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==wr&&ff(this._$AH)?this._$AA.nextSibling.data=e:this.T(Wa.createTextNode(e)),this._$AH=e}$(e){var s;const{values:r,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=hf.createElement(Sx(n.h,n.h[0]),this.options)),n);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(r);else{const o=new _ee(i,this),a=o.u(this.options);o.p(r),this.T(a),this._$AH=o}}_$AC(e){let r=f_.get(e.strings);return r===void 0&&f_.set(e.strings,r=new hf(e)),r}k(e){e2(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new Vf(this.O(df()),this.O(df()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}}class Ig{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,s){this.type=1,this._$AH=wr,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=wr}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=Pu(this,e,r,0),o=!ff(e)||e!==this._$AH&&e!==Tu,o&&(this._$AH=e);else{const a=e;let c,u;for(e=s[0],c=0;c<s.length-1;c++)u=Pu(this,a[n+c],r,c),u===Tu&&(u=this._$AH[c]),o||(o=!ff(u)||u!==this._$AH[c]),u===wr?e=wr:e!==wr&&(e+=(u??"")+s[c+1]),this._$AH[c]=u}o&&!i&&this.j(e)}j(e){e===wr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class See extends Ig{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===wr?void 0:e}}class Iee extends Ig{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==wr)}}class xee extends Ig{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){if((e=Pu(this,e,r,0)??wr)===Tu)return;const n=this._$AH,i=e===wr&&n!==wr||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==wr&&(n===wr||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,e):this._$AH.handleEvent(e)}}class Nee{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){Pu(this,e)}}const Dy=ud.litHtmlPolyfillSupport;Dy==null||Dy(hf,Vf),(ud.litHtmlVersions??(ud.litHtmlVersions=[])).push("3.2.1");const Tee=(t,e,r)=>{const n=(r==null?void 0:r.renderBefore)??e;let i=n._$litPart$;if(i===void 0){const s=(r==null?void 0:r.renderBefore)??null;n._$litPart$=i=new Vf(e.insertBefore(df(),s),s,void 0,r??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class dp extends Pc{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const e=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=e.firstChild),e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Tee(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Tu}}var x_;dp._$litElement$=!0,dp.finalized=!0,(x_=globalThis.litElementHydrateSupport)==null||x_.call(globalThis,{LitElement:dp});const My=globalThis.litElementPolyfillSupport;My==null||My({LitElement:dp});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.1.1");let ld,Oo,Do;function _ne(t,e){ld=document.createElement("style"),Oo=document.createElement("style"),Do=document.createElement("style"),ld.textContent=au(t).core.cssText,Oo.textContent=au(t).dark.cssText,Do.textContent=au(t).light.cssText,document.head.appendChild(ld),document.head.appendChild(Oo),document.head.appendChild(Do),Ix(e)}function Ix(t){Oo&&Do&&(t==="light"?(Oo.removeAttribute("media"),Do.media="enabled"):(Do.removeAttribute("media"),Oo.media="enabled"))}function Pee(t){ld&&Oo&&Do&&(ld.textContent=au(t).core.cssText,Oo.textContent=au(t).dark.cssText,Do.textContent=au(t).light.cssText)}function au(t){return{core:ou`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Hn(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Hn((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Hn((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${Hn((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${Hn((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:ou`
      :root {
        --w3m-color-mix: ${Hn((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${Hn(xs(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Hn(xs(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:ou`
      :root {
        --w3m-color-mix: ${Hn((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${Hn(xs(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Hn(xs(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Sne=ou`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Ine=ou`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,xne=ou`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Mh={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603},xx=ox({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Nx=ox({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}});function Kf(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const h_=Kf({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),p_=Kf({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Kf({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Kf({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Kf({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const xg={getMethodsByChainNamespace(t){switch(t){case"solana":return["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"];case"eip155":return["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];case"bip122":return["sendTransfer","signMessage","signPsbt","getAccountAddresses"];default:return[]}},createNamespaces(t){return t.reduce((e,r)=>{const{id:n,chainNamespace:i,rpcUrls:s}=r,o=s.default.http[0],a=this.getMethodsByChainNamespace(i);e[i]||(e[i]={methods:a,events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}});const c=`${i}:${n}`,u=e[i];switch(u.chains.push(c),c){case h_.caipNetworkId:u.chains.push(h_.deprecatedCaipNetworkId);break;case p_.caipNetworkId:u.chains.push(p_.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&o&&(u.rpcMap[n]=o),e},{})},resolveReownName:async t=>{var n;const e=await ux.resolveName(t);return((n=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:n.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],n=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null}};class t2{constructor({provider:e,caipNetworks:r,namespace:n}){this.id=K.CONNECTOR_ID.WALLET_CONNECT,this.name=vo.ConnectorNamesMap[K.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=vo.ConnectorImageIds[K.CONNECTOR_ID.WALLET_CONNECT],this.caipNetworks=r,this.provider=e,this.chain=n}get chains(){return this.caipNetworks}async connectWalletConnect(){return await this.authenticate()||await this.provider.connect({optionalNamespaces:xg.createNamespaces(this.caipNetworks)}),{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return od.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:kee})}}const kee=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class Tx{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,e&&this.construct(e)}construct(e){this.caipNetworks=e.networks,this.projectId=e.projectId,this.namespace=e.namespace}get connectors(){return this.availableConnectors}get networks(){return this.caipNetworks||[]}setAuthProvider(e){this.addConnector({id:K.CONNECTOR_ID.AUTH,type:"AUTH",name:K.CONNECTOR_NAMES.AUTH,provider:e,imageId:vo.ConnectorImageIds[K.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,r){oe.setStatus(e,r)}on(e,r){var n;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(n=this.eventListeners.get(e))==null||n.add(r)}off(e,r){const n=this.eventListeners.get(e);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const n=this.eventListeners.get(e);n&&n.forEach(i=>i(r))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:r,providerType:n}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(n==="WALLET_CONNECT"){i.setDefaultChain(r.caipNetworkId);return}if(i&&n==="AUTH"){const s=i;await s.switchNetwork(r.caipNetworkId);const o=await s.getUser({chainId:r.caipNetworkId,preferredAccountType:J.state.defaultAccountTypes[r.chainNamespace]});this.emit("switchNetwork",o)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r instanceof t2);if(!e)throw new Error("WalletConnectConnector not found");return e}}class Ree extends Tx{setUniversalProvider(e){this.addConnector(new t2({provider:e,caipNetworks:this.caipNetworks||[],namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var i,s,o,a;const r=this.provider,n=((a=(o=(s=(i=r==null?void 0:r.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,u]=c.split(":");return u}).filter((c,u,l)=>l.indexOf(c)===u))||[];return Promise.resolve({accounts:n.map(c=>he.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var s,o,a,c,u;if(!(e.caipNetwork&&Mt.BALANCE_SUPPORTED_CHAINS.includes((s=e.caipNetwork)==null?void 0:s.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(oe.state.balanceLoading&&e.chainId===((c=U.state.activeCaipNetwork)==null?void 0:c.id))return{balance:oe.state.balance||"0.00",symbol:oe.state.balanceSymbol||""};const i=(await oe.fetchTokenBalance()).find(l=>{var d,f;return l.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&l.symbol===((f=e.caipNetwork)==null?void 0:f.nativeCurrency.symbol)});return{balance:(i==null?void 0:i.quantity.numeric)||"0.00",symbol:(i==null?void 0:i.symbol)||((u=e.caipNetwork)==null?void 0:u.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:r,message:n,address:i}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return((o=U.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===K.CHAIN.SOLANA?s=(await r.request({method:"solana_signMessage",params:{message:f4.encode(new TextEncoder().encode(n)),pubkey:i}},(a=U.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:s=await r.request({method:"personal_sign",params:[n,i]},(c=U.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var i,s,o,a,c,u;const{caipNetwork:r}=e,n=this.getWalletConnectConnector();if(r.chainNamespace===K.CHAIN.EVM)try{await((i=n.provider)==null?void 0:i.request({method:"wallet_switchEthereumChain",params:[{chainId:zs(r.id)}]}))}catch(l){if(l.code===Mh.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||l.code===Mh.ERROR_INVALID_CHAIN_ID||l.code===Mh.ERROR_CODE_DEFAULT||((o=(s=l==null?void 0:l.data)==null?void 0:s.originalError)==null?void 0:o.code)===Mh.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((u=n.provider)==null?void 0:u.request({method:"wallet_addEthereumChain",params:[{chainId:zs(r.id),rpcUrls:[(a=r==null?void 0:r.rpcUrls.chainDefault)==null?void 0:a.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[(c=r.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(n=>n.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class Oee{constructor(e){var r;this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=n=>{var i,s;if(n){const o=(i=U.getNetworkData(n))==null?void 0:i.caipNetwork;return o||((s=U.getRequestedCaipNetworks(n).filter(a=>a.chainNamespace===n))==null?void 0:s[0])}return U.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>U.getRequestedCaipNetworks(n),this.getActiveChainNamespace=()=>U.state.activeChain,this.setRequestedCaipNetworks=(n,i)=>{U.setRequestedCaipNetworks(n,i)},this.getApprovedCaipNetworkIds=()=>U.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>U.state.activeChain===n||!n?U.state.activeCaipAddress:U.getAccountProp("caipAddress",n),this.setClientId=n=>{ue.setClientId(n)},this.getProvider=n=>Qe.getProvider(n),this.getProviderType=n=>Qe.getProviderId(n),this.getPreferredAccountType=()=>oe.state.preferredAccountType,this.setCaipAddress=(n,i)=>{oe.setCaipAddress(n,i)},this.setBalance=(n,i,s)=>{oe.setBalance(n,i,s)},this.setProfileName=(n,i)=>{oe.setProfileName(n,i)},this.setProfileImage=(n,i)=>{oe.setProfileImage(n,i)},this.setUser=(n,i)=>{oe.setUser(n,i),J.state.enableEmbedded&&or.close()},this.resetAccount=n=>{oe.resetAccount(n)},this.setCaipNetwork=n=>{U.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,i)=>{U.setChainNetworkData(i,{caipNetwork:n})},this.setAllAccounts=(n,i)=>{oe.setAllAccounts(n,i),J.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,i)=>{oe.setStatus(n,i),ye.isConnected()?se.setConnectionStatus("connected"):se.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>U.getAccountProp("address",n),this.setConnectors=n=>{const i=[...ye.getConnectors(),...n];ye.setConnectors(i)},this.fetchIdentity=n=>ue.fetchIdentity(n),this.getReownName=n=>ux.getNamesForAddress(n),this.getConnectors=()=>ye.getConnectors(),this.getConnectorImage=n=>q5.getConnectorImage(n),this.setConnectedWalletInfo=(n,i)=>{const s=Qe.getProviderId(i),o=n?{...n,type:s}:void 0;oe.setConnectedWalletInfo(o,i)},this.getIsConnectedState=()=>!!U.state.activeCaipAddress,this.addAddressLabel=(n,i,s)=>{oe.addAddressLabel(n,i,s)},this.removeAddressLabel=(n,i)=>{oe.removeAddressLabel(n,i)},this.getAddress=n=>U.state.activeChain===n||!n?oe.state.address:U.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>U.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{U.resetNetwork(n)},this.addConnector=n=>{ye.addConnector(n)},this.resetWcConnection=()=>{Re.resetWcConnection()},this.setAddressExplorerUrl=(n,i)=>{oe.setAddressExplorerUrl(n,i)},this.setSmartAccountDeployed=(n,i)=>{oe.setSmartAccountDeployed(n,i)},this.setSmartAccountEnabledNetworks=(n,i)=>{U.setSmartAccountEnabledNetworks(n,i)},this.setPreferredAccountType=(n,i)=>{oe.setPreferredAccountType(n,i)},this.setEIP6963Enabled=n=>{J.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=[...new Set((r=this.caipNetworks)==null?void 0:r.map(n=>n.chainNamespace))],this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e),this.sendInitializeEvent(e)}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),await this.syncExistingConnection(),ks.set({initialized:!0})}sendInitializeEvent(e){var n;const{...r}=e;delete r.adapters,We.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(i=>i.id),siweConfig:{options:((n=e.siweConfig)==null?void 0:n.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&zr.setThemeMode(e.themeMode),e.themeVariables&&zr.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");U.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&U.setActiveCaipNetwork(r)}initializeConnectionController(e){Re.setWcBasic(e.basic??!1)}initializeConnectorController(){ye.initialize(this.chainNamespaces)}initializeOptionsController(e){var i;J.setDebug(e.debug!==!1),J.setEnableWalletConnect(e.enableWalletConnect!==!1),J.setEnableWalletGuide(e.enableWalletGuide!==!1),J.setEnableWallets(e.enableWallets!==!1),J.setEIP6963Enabled(e.enableEIP6963!==!1),J.setEnableAuthLogger(e.enableAuthLogger!==!1),J.setCustomRpcUrls(e.customRpcUrls),J.setSdkVersion(e.sdkVersion),J.setProjectId(e.projectId),J.setEnableEmbedded(e.enableEmbedded),J.setAllWallets(e.allWallets),J.setIncludeWalletIds(e.includeWalletIds),J.setExcludeWalletIds(e.excludeWalletIds),J.setFeaturedWalletIds(e.featuredWalletIds),J.setTokens(e.tokens),J.setTermsConditionsUrl(e.termsConditionsUrl),J.setPrivacyPolicyUrl(e.privacyPolicyUrl),J.setCustomWallets(e.customWallets),J.setFeatures(e.features),J.setAllowUnsupportedChain(e.allowUnsupportedChain),J.setDefaultAccountTypes(e.defaultAccountTypes);const r=this.getDefaultMetaData();if(!e.metadata&&r&&(e.metadata=r),J.setMetadata(e.metadata),J.setDisableAppend(e.disableAppend),J.setEnableEmbedded(e.enableEmbedded),J.setSIWX(e.siwx),!e.projectId){Ea.open(Kc.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((i=e.adapters)==null?void 0:i.find(s=>s.namespace===K.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");J.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,r,n,i;return typeof window<"u"&&typeof document<"u"?{name:((r=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:r.textContent)||"",description:((n=document.querySelector('meta[property="og:description"]'))==null?void 0:n.content)||"",url:window.location.origin,icons:[((i=document.querySelector('link[rel~="icon"]'))==null?void 0:i.href)||""]}:null}getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:K.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const n=this.getUnsupportedNetwork(`${r}:${e}`);U.setActiveCaipNetwork(n)}}getDefaultNetwork(){var r,n;const e=se.getActiveCaipNetworkId();if(e){const i=(r=this.caipNetworks)==null?void 0:r.find(s=>s.caipNetworkId===e);return i||(this.defaultCaipNetwork?this.defaultCaipNetwork:this.getUnsupportedNetwork(e))}return this.defaultCaipNetwork?this.defaultCaipNetwork:(n=this.caipNetworks)==null?void 0:n[0]}extendCaipNetwork(e,r){return bo.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return bo.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(i=>{var s;return i.id===((s=e.defaultNetwork)==null?void 0:s.id)});return r?bo.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var s;const e=U.state.activeChain,r=this.getAdapter(e),n=(s=this.getCaipNetwork(e))==null?void 0:s.id;if(!r)throw new Error("Adapter not found");const i=await r.connectWalletConnect(n);this.close(),this.setClientId((i==null?void 0:i.clientId)||null),se.setConnectedNamespaces([...U.state.chains.keys()]),this.chainNamespaces.forEach(o=>{ye.setConnectorId(lt.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:r,type:n,provider:i,chain:s,caipNetwork:o})=>{var h,g,y,_,v,w,A;const a=U.state.activeChain,c=s||a,u=this.getAdapter(c);if(s&&s!==a&&!o){const P=(h=this.caipNetworks)==null?void 0:h.find(R=>R.chainNamespace===s);P&&this.setCaipNetwork(P)}if(!u)throw new Error("Adapter not found");const l=this.getCaipNetwork(c),d=await u.connect({id:e,info:r,type:n,provider:i,chainId:(o==null?void 0:o.id)||(l==null?void 0:l.id),rpcUrl:((_=(y=(g=o==null?void 0:o.rpcUrls)==null?void 0:g.default)==null?void 0:y.http)==null?void 0:_[0])||((A=(w=(v=l==null?void 0:l.rpcUrls)==null?void 0:v.default)==null?void 0:w.http)==null?void 0:A[0])});if(!d)return;se.addConnectedNamespace(c),this.syncProvider({...d,chainNamespace:c}),await this.syncAccount({...d,chainNamespace:c});const{accounts:f}=await u.getAccounts({namespace:c,id:e});this.setAllAccounts(f,c)},reconnectExternal:async({id:e,info:r,type:n,provider:i})=>{var a;const s=U.state.activeChain,o=this.getAdapter(s);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:r,type:n,provider:i,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),se.addConnectedNamespace(s))},disconnect:async e=>{const r=e||U.state.activeChain,n=this.getAdapter(r),i=Qe.getProvider(r),s=Qe.getProviderId(r);await(n==null?void 0:n.disconnect({provider:i,providerType:s})),se.removeConnectedNamespace(r),Qe.resetChain(r),this.setUser(void 0,r),this.setStatus("disconnected",r)},checkInstalled:e=>e?e.some(r=>{var n;return!!((n=window.ethereum)!=null&&n[String(r)])}):!!window.ethereum,signMessage:async e=>{const r=this.getAdapter(U.state.activeChain),n=await(r==null?void 0:r.signMessage({message:e,address:oe.state.address,provider:Qe.getProvider(U.state.activeChain)}));return(n==null?void 0:n.signature)||""},sendTransaction:async e=>{if(e.chainNamespace===K.CHAIN.EVM){const r=this.getAdapter(U.state.activeChain),n=Qe.getProvider(U.state.activeChain),i=await(r==null?void 0:r.sendTransaction({...e,provider:n}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===K.CHAIN.EVM){const r=this.getAdapter(U.state.activeChain),n=Qe.getProvider(U.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error("CaipNetwork is undefined");const s=await(r==null?void 0:r.estimateGas({...e,provider:n,caipNetwork:i}));return(s==null?void 0:s.gas)||0n}return 0n},getEnsAvatar:async()=>{var n;const e=this.getAdapter(U.state.activeChain),r=await(e==null?void 0:e.getProfile({address:oe.state.address,chainId:Number((n=this.getCaipNetwork())==null?void 0:n.id)}));return(r==null?void 0:r.profileImage)||!1},getEnsAddress:async e=>{const r=this.getAdapter(U.state.activeChain),n=this.getCaipNetwork();if(!n)return!1;const i=await(r==null?void 0:r.getEnsAddress({name:e,caipNetwork:n}));return(i==null?void 0:i.address)||!1},writeContract:async e=>{const r=this.getAdapter(U.state.activeChain),n=this.getCaipNetwork(),i=this.getCaipAddress(),s=Qe.getProvider(U.state.activeChain);if(!n||!i)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(r==null?void 0:r.writeContract({...e,caipNetwork:n,provider:s,caipAddress:i}));return o==null?void 0:o.hash},parseUnits:(e,r)=>{const n=this.getAdapter(U.state.activeChain);return(n==null?void 0:n.parseUnits({value:e,decimals:r}))??0n},formatUnits:(e,r)=>{const n=this.getAdapter(U.state.activeChain);return(n==null?void 0:n.formatUnits({value:e,decimals:r}))??"0"},getCapabilities:async e=>{const r=this.getAdapter(U.state.activeChain);return await(r==null?void 0:r.getCapabilities(e))},grantPermissions:async e=>{const r=this.getAdapter(U.state.activeChain);return await(r==null?void 0:r.grantPermissions(e))},revokePermissions:async e=>{const r=this.getAdapter(U.state.activeChain);return r!=null&&r.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{const r=this.getAdapter(U.state.activeChain);return await(r==null?void 0:r.walletGetAssets(e))??{}}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Re.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var r,n,i,s,o;if(Qe.getProviderId(U.state.activeChain)===lt.CONNECTOR_TYPE_WALLET_CONNECT){const a=(n=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:n.namespaces;return{supportsAllNetworks:((o=(s=(i=this.universalProvider)==null?void 0:i.session)==null?void 0:s.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=Qe.getProvider(r),s=Qe.getProviderId(r);if(e.chainNamespace===U.state.activeChain){const o=this.getAdapter(r);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:i,providerType:s}))}else if(this.setCaipNetwork(e),s===lt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(r);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const n=r.chains||[],i=r.accounts.map(s=>{const{chainId:o,chainNamespace:a}=Gs.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...n,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{var s;const i=e==null?void 0:e.find(o=>o.namespace===n);return i?(r[n]=i,r[n].namespace=n,r[n].construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.caipNetworks})):r[n]=new Ree({namespace:n,networks:this.caipNetworks}),r},{})}async initChainAdapter(e){var r;this.onConnectors(e),this.listenAdapter(e),(r=this.chainAdapters)==null||r[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const r=this.getAdapter(e);r==null||r.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const n=se.getConnectionStatus();n==="connected"?this.setStatus("connecting",e):n==="disconnected"?(se.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),r.on("switchNetwork",({address:i,chainId:s})=>{var u;const o=(u=this.caipNetworks)==null?void 0:u.find(l=>l.id===s||l.caipNetworkId===s),a=U.state.activeChain===e,c=U.getAccountProp("address",e);if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:s,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),r.on("disconnect",this.disconnect.bind(this,e)),r.on("pendingTransactions",()=>{const i=oe.state.address,s=U.state.activeCaipNetwork;!i||!(s!=null&&s.id)||this.updateNativeBalance(i,s.id,s.chainNamespace)}),r.on("accountChanged",({address:i,chainId:s})=>{var a,c;const o=U.state.activeChain===e;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:e}):o&&((a=U.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:i,chainId:(c=U.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(i,s,e)})}async createUniversalProviderForAdapter(e){var r,n,i;await this.getUniversalProvider(),this.universalProvider&&((i=(n=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:n.setUniversalProvider)==null||i.call(n,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const r=ye.getConnectorId(e);switch(this.setStatus("connecting",e),r){case K.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case K.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var o,a,c;const r=this.getAdapter(e),n=ye.getConnectorId(e),i=this.getCaipNetwork(e),s=ye.getConnectors(e).find(u=>u.id===n);try{if(!r||!s)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(i!=null&&i.id))throw new Error("CaipNetwork not found");const u=await(r==null?void 0:r.syncConnection({namespace:e,id:s.id,chainId:i.id,rpcUrl:(c=(a=(o=i==null?void 0:i.rpcUrls)==null?void 0:o.default)==null?void 0:a.http)==null?void 0:c[0]}));if(u){const l=await(r==null?void 0:r.getAccounts({namespace:e,id:s.id}));l&&l.accounts.length>0?this.setAllAccounts(l.accounts,e):this.setAllAccounts([he.createAccount(e,u.address,"eoa")],e),this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async r=>{var a,c,u,l,d;const n=this.getAdapter(r),i=((l=(u=(c=(a=this.universalProvider)==null?void 0:a.session)==null?void 0:c.namespaces)==null?void 0:u[r])==null?void 0:l.accounts)||[],s=(d=U.state.activeCaipNetwork)==null?void 0:d.id,o=i.find(f=>{const{chainId:h}=Gs.parseCaipAddress(f);return h===(s==null?void 0:s.toString())})||i[0];if(o){const f=Gs.validateCaipAddress(o),{chainId:h,address:g}=Gs.parseCaipAddress(f);if(Qe.setProviderId(r,lt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&U.state.activeCaipNetwork&&(n==null?void 0:n.namespace)!==K.CHAIN.EVM){const y=n==null?void 0:n.getWalletConnectProvider({caipNetworks:this.caipNetworks,provider:this.universalProvider,activeCaipNetwork:U.state.activeCaipNetwork});Qe.setProvider(r,y)}else Qe.setProvider(r,this.universalProvider);ye.setConnectorId(K.CONNECTOR_ID.WALLET_CONNECT,r),se.addConnectedNamespace(r),this.syncWalletConnectAccounts(r),await this.syncAccount({address:g,chainId:h,chainNamespace:r})}else this.setStatus("disconnected",r);await U.setApprovedCaipNetworksData(r)});await Promise.all(e)}syncWalletConnectAccounts(e){var n,i,s,o,a;const r=(a=(o=(s=(i=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:u}=Gs.parseCaipAddress(c);return u}).filter((c,u,l)=>l.indexOf(c)===u);r&&this.setAllAccounts(r.map(c=>he.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:r,id:n,chainNamespace:i}){Qe.setProviderId(i,e),Qe.setProvider(i,r),ye.setConnectorId(n,i)}async syncAccount(e){var d,f,h,g,y,_;const r=e.chainNamespace===U.state.activeChain,n=U.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=se.getActiveNetworkProps(),c=s||a,u=((d=U.state.activeCaipNetwork)==null?void 0:d.name)===K.UNSUPPORTED_NETWORK_NAME,l=U.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(u&&!l)&&c){let v=(f=this.caipNetworks)==null?void 0:f.find(P=>P.id.toString()===c.toString()),w=(h=this.caipNetworks)==null?void 0:h.find(P=>P.chainNamespace===o);if(!l&&!v&&!w){const P=this.getApprovedCaipNetworkIds()||[],R=P.find(M=>{var L;return((L=Gs.parseCaipNetworkId(M))==null?void 0:L.chainId)===c.toString()}),D=P.find(M=>{var L;return((L=Gs.parseCaipNetworkId(M))==null?void 0:L.chainNamespace)===o});v=(g=this.caipNetworks)==null?void 0:g.find(M=>M.caipNetworkId===R),w=(y=this.caipNetworks)==null?void 0:y.find(M=>M.caipNetworkId===D||"deprecatedCaipNetworkId"in M&&M.deprecatedCaipNetworkId===D)}const A=v||w;(A==null?void 0:A.chainNamespace)===U.state.activeChain?!J.state.allowUnsupportedChain&&((_=U.state.activeCaipNetwork)==null?void 0:_.name)===K.UNSUPPORTED_NETWORK_NAME?U.showUnsupportedChainUI():this.setCaipNetwork(A):r||n&&this.setCaipNetworkOfNamespace(n,o),this.syncConnectedWalletInfo(o),lx.isLowerCaseMatch(i,oe.state.address)||this.syncAccountInfo(i,A==null?void 0:A.id,o),r?await this.syncBalance({address:i,chainId:A==null?void 0:A.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:n==null?void 0:n.id,chainNamespace:o})}}async syncAccountInfo(e,r,n){const i=this.getCaipAddress(n),s=r||(i==null?void 0:i.split(":")[1]);if(!s)return;const o=`${n}:${s}:${e}`;this.setCaipAddress(o,n),await this.syncIdentity({address:e,chainId:s,chainNamespace:n})}async syncReownName(e,r){try{const n=await this.getReownName(e);if(n[0]){const i=n[0];this.setProfileName(i.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){var i;const r=ye.getConnectorId(e),n=Qe.getProviderId(e);if(n===lt.CONNECTOR_TYPE_ANNOUNCED||n===lt.CONNECTOR_TYPE_INJECTED){if(r){const s=this.getConnectors().find(o=>o.id===r);if(s){const{info:o,name:a,imageUrl:c}=s,u=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:u,...o},e)}}}else if(n===lt.CONNECTOR_TYPE_WALLET_CONNECT){const s=Qe.getProvider(e);s!=null&&s.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:(i=s.session.peer.metadata.icons)==null?void 0:i[0]},e)}else if(r)if(r===K.CONNECTOR_ID.COINBASE){const s=this.getConnectors().find(o=>o.id===K.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(s)},e)}else this.setConnectedWalletInfo({name:r},e)}async syncBalance(e){!Pd.getNetworksByNamespace(this.caipNetworks,e.chainNamespace).find(n=>{var i;return n.id.toString()===((i=e.chainId)==null?void 0:i.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,r,n){const i=this.getAdapter(n);if(i){const s=await i.getBalance({address:e,chainId:r,caipNetwork:this.getCaipNetwork(n),tokens:this.options.tokens});this.setBalance(s.balance,s.symbol,n)}}async initializeUniversalAdapter(){var n,i,s,o,a,c,u,l,d,f;const e=HJ.createLogger((h,...g)=>{h&&this.handleAlertError(h),console.error(...g)}),r={projectId:(n=this.options)==null?void 0:n.projectId,metadata:{name:(i=this.options)!=null&&i.metadata?(s=this.options)==null?void 0:s.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(u=this.options)==null?void 0:u.metadata.url:"",icons:(l=this.options)!=null&&l.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};J.setManualWCControl(!!((f=this.options)!=null&&f.manualWCControl)),this.universalProvider=this.options.universalProvider??await kG.init(r),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{Re.setUri(e)}),this.universalProvider.on("connect",Re.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),Re.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{var i;const r=(i=this.caipNetworks)==null?void 0:i.find(s=>s.id==e),n=this.getCaipNetwork();if(!r){this.setUnsupportedNetwork(e);return}(n==null?void 0:n.id)!==(r==null?void 0:r.id)&&this.setCaipNetwork(r)}),this.universalProvider.on("session_event",e=>{if(xg.isSessionEventData(e)){const{name:r,data:n}=e.params.event;r==="accountsChanged"&&Array.isArray(n)&&he.isCaipAddress(n[0])&&this.syncAccount(Gs.parseCaipAddress(n[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&he.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch{throw new Error("AppKit:getUniversalProvider - Cannot create provider")}return this.universalProvider}handleAlertError(e){const r=Object.entries(Kc.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[n,i]=r??[],{message:s,alertErrorKey:o}=i??{};if(n&&s&&!this.reportedAlertErrors[n]){const a=Kc.ALERT_ERRORS[o];a&&(Ea.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){var r;if(e)return(r=this.chainAdapters)==null?void 0:r[e]}createAdapter(e){var i;if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const n=e;n.namespace=r,n.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.caipNetworks}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(e){await this.injectModalUi(),e!=null&&e.uri&&Re.setUri(e.uri),await or.open(e)}async close(){await this.injectModalUi(),or.close()}setLoading(e,r){or.setLoading(e,r)}async disconnect(e){await Re.disconnect(e)}getError(){return""}getChainId(){var e;return(e=U.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){var n;const r=(n=this.caipNetworks)==null?void 0:n.find(i=>i.id===e.id);if(!r){Ea.open(Kc.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await U.switchActiveNetwork(r)}getWalletProvider(){return U.state.activeChain?Qe.state.providers[U.state.activeChain]:null}getWalletProviderType(){return Qe.getProviderId(U.state.activeChain)}subscribeProviders(e){return Qe.subscribeProviders(e)}getThemeMode(){return zr.state.themeMode}getThemeVariables(){return zr.state.themeVariables}setThemeMode(e){zr.setThemeMode(e),Ix(zr.state.themeMode)}setTermsConditionsUrl(e){J.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){J.setPrivacyPolicyUrl(e)}setThemeVariables(e){zr.setThemeVariables(e),Pee(zr.state.themeVariables)}subscribeTheme(e){return zr.subscribe(e)}getWalletInfo(){return oe.state.connectedWalletInfo}getAccount(e){const r=ye.getAuthConnector(e),n=U.getAccountData(e);if(n)return{allAccounts:n.allAccounts,caipAddress:n.caipAddress,address:he.getPlainAddress(n.caipAddress),isConnected:!!n.caipAddress,status:n.status,embeddedWalletInfo:r?{user:n.user,authProvider:n.socialProvider||"email",accountType:n.preferredAccountType,isSmartAccountDeployed:!!n.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const n=()=>{const i=this.getAccount(r);i&&e(i)};r?U.subscribeChainProp("accountState",n,r):U.subscribe(n),ye.subscribe(n)}subscribeNetwork(e){return U.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r==null?void 0:r.id,caipNetworkId:r==null?void 0:r.caipNetworkId})})}subscribeWalletInfo(e){return oe.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){oe.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){U.subscribeKey("activeCaipNetwork",e)}getState(){return ks.state}subscribeState(e){return ks.subscribe(e)}showErrorMessage(e){qe.showError(e)}showSuccessMessage(e){qe.showSuccess(e)}getEvent(){return{...We.state}}subscribeEvents(e){return We.subscribe(e)}replace(e){xe.replace(e)}redirect(e){xe.push(e)}popTransactionStack(e){xe.popTransactionStack(e)}isOpen(){return or.state.open}isTransactionStackEmpty(){return xe.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=xe.state.transactionStack[xe.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){J.setFeatures(e)}updateOptions(e){const n={...J.state||{},...e};J.setOptions(n)}setConnectMethodsOrder(e){J.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){J.setWalletFeaturesOrder(e)}setCollapseWallets(e){J.setCollapseWallets(e)}setSocialsOrder(e){J.setSocialsOrder(e)}getConnectMethodsOrder(){return qv.getConnectOrderMethod(J.state.features,ye.getConnectors())}removeAdapter(e){var s;const r=this.getIsConnectedState(),n=this.getAdapter(e);if(!n||!this.chainAdapters||r)return;const i=(s=this.caipNetworks)==null?void 0:s.filter(o=>o.chainNamespace!==e);U.removeAdapter(e),ye.removeAdapter(e),this.chainNamespaces=this.chainNamespaces.filter(o=>o!==e),this.caipNetworks=i,n.removeAllEventListeners(),Reflect.deleteProperty(this.chainAdapters,e)}addAdapter(e,r){const n=e.namespace;if(!this.connectionControllerClient||!this.networkControllerClient||!this.chainAdapters||!n)return;const i=this.extendCaipNetworks({...this.options,networks:r});this.caipNetworks=[...this.caipNetworks||[],...i],this.createAdapter(e),this.initChainAdapter(n),U.addAdapter(e,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient},i)}addNetwork(e,r){var i;if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const n=this.extendCaipNetwork(r,this.options);U.addNetwork(n),this.caipNetworks&&!((i=this.caipNetworks)!=null&&i.find(s=>s.id===n.id))&&this.caipNetworks.push(n)}removeNetwork(e,r){var s;if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);if(!((s=this.caipNetworks)==null?void 0:s.find(o=>o.id===r)))throw new Error(`Network with ID ${r} not found`);if(!this.caipNetworks)return;const i=this.caipNetworks.filter(o=>o.chainNamespace===e&&o.id!==r);if(!(i!=null&&i.length))throw new Error("Cannot remove last network for a namespace");U.removeNetwork(e,r),this.caipNetworks=[...i]}}let g_=!1;class Dee extends Oee{setupAuthConnectorListeners(e){e.onRpcRequest(r=>{Pn.checkIfRequestExists(r)?Pn.checkIfRequestIsSafe(r)||this.handleUnsafeRPCRequest():(this.open(),console.error(mt.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:r.method}),setTimeout(()=>{this.showErrorMessage(mt.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack(!0))}),e.onRpcSuccess((r,n)=>{const i=Pn.checkIfRequestIsSafe(n),s=oe.state.address,o=U.state.activeCaipNetwork;i||(this.isTransactionStackEmpty()?(this.close(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)):(this.popTransactionStack(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)))}),e.onNotConnected(()=>{const r=U.state.activeChain;ye.getConnectorId(r)===K.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,r),this.setLoading(!1,r))}),e.onConnect(async r=>{var a;const n=U.state.activeChain,i=n===K.CHAIN.EVM?`eip155:${r.chainId}:${r.address}`:`${r.chainId}:${r.address}`;this.setSmartAccountDeployed(!!r.smartAccountDeployed,n),lx.isLowerCaseMatch(r.address,oe.state.address)||this.syncIdentity({address:r.address,chainId:r.chainId,chainNamespace:n}),this.setCaipAddress(i,n),this.setUser({...oe.state.user||{},email:r.email},n);const s=r.preferredAccountType||J.state.defaultAccountTypes[n];this.setPreferredAccountType(s,n);const o=(a=r.accounts)==null?void 0:a.map(c=>he.createAccount(n,c.address,c.type||J.state.defaultAccountTypes[n]));this.setAllAccounts(o||[he.createAccount(n,r.address,s)],n),await e.getSmartAccountEnabledNetworks(),this.setLoading(!1,n)}),e.onSocialConnected(({userName:r})=>{this.setUser({...oe.state.user||{},username:r},U.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(r=>{this.setSmartAccountEnabledNetworks(r,U.state.activeChain)}),e.onSetPreferredAccount(({address:r,type:n})=>{r&&this.setPreferredAccountType(n,U.state.activeChain)})}async syncAuthConnector(e,r){var l,d,f,h;const n=K.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!n)return;this.setLoading(!0,r);const i=e.getLoginEmailUsed();this.setLoading(i,r),i&&this.setStatus("connecting",r);const s=e.getEmail(),o=e.getUsername();this.setUser({...((l=oe.state)==null?void 0:l.user)||{},username:o,email:s},U.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:a}=await e.isConnected(),c=zr.getSnapshot(),u=J.getSnapshot();e.syncDappData({metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType}),e.syncTheme({themeMode:c.themeMode,themeVariables:c.themeVariables,w3mThemeVariables:xs(c.themeVariables,c.themeMode)}),r&&n&&(a&&((d=this.connectionControllerClient)!=null&&d.connectExternal)?(await((h=this.connectionControllerClient)==null?void 0:h.connectExternal({id:K.CONNECTOR_ID.AUTH,info:{name:K.CONNECTOR_ID.AUTH},type:lt.CONNECTOR_TYPE_AUTH,provider:e,chainId:(f=U.state.activeCaipNetwork)==null?void 0:f.id,chain:r})),this.setStatus("connected",r)):ye.getConnectorId(r)===K.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",r),se.removeConnectedNamespace(r))),this.setLoading(!1,r)}async checkExistingTelegramSocialConnection(e){var r;try{if(!he.isTelegram())return;const n=se.getTelegramSocialProvider();if(!n||typeof window>"u"||typeof document>"u")return;const s=new URL(window.location.href).searchParams.get("result_uri");if(!s)return;oe.setSocialProvider(n,e),await((r=this.authProvider)==null?void 0:r.init());const o=ye.getAuthConnector();n&&o&&(this.setLoading(!0,e),await o.provider.connectSocial(s),await Re.connectExternal(o,o.chain),se.setConnectedSocialProvider(n),se.removeTelegramSocialProvider(),We.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n}}))}catch(n){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",n)}try{const n=new URL(window.location.href);n.searchParams.delete("result_uri"),window.history.replaceState({},document.title,n.toString())}catch(n){console.error("tma social login failed",n)}}createAuthProvider(e){var o,a,c,u,l,d,f,h,g,y,_;if(!K.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const n=((a=(o=this.options)==null?void 0:o.features)==null?void 0:a.email)===void 0?Mt.DEFAULT_FEATURES.email:(u=(c=this.options)==null?void 0:c.features)==null?void 0:u.email,i=(d=(l=this.options)==null?void 0:l.features)!=null&&d.socials?((g=(h=(f=this.options)==null?void 0:f.features)==null?void 0:h.socials)==null?void 0:g.length)>0:Mt.DEFAULT_FEATURES.socials,s=n||i;!this.authProvider&&((y=this.options)!=null&&y.projectId)&&s&&(this.authProvider=su.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(_=this.getCaipNetwork(e))==null?void 0:_.caipNetworkId,onTimeout:()=>{Ea.open(Kc.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}}),this.subscribeState(v=>{var w;v.open||(w=this.authProvider)==null||w.rejectRpcRequests()}),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var r,n,i;this.createAuthProvider(e),this.authProvider&&((i=(n=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:n.setAuthProvider)==null||i.call(n,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&be.initializeExcludedWalletRdns({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var s,o;if(!e)return;const r=U.state.activeChain,n=e.chainNamespace,i=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===U.state.activeChain&&i){const a=this.getAdapter(n),c=Qe.getProvider(n),u=Qe.getProviderId(n);await(a==null?void 0:a.switchNetwork({caipNetwork:e,provider:c,providerType:u})),this.setCaipNetwork(e)}else{const c=Qe.getProviderId(r)===lt.CONNECTOR_TYPE_AUTH,u=Qe.getProviderId(n),l=u===lt.CONNECTOR_TYPE_AUTH,d=K.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if((c||l)&&d)try{U.state.activeChain=e.chainNamespace,await((o=(s=this.connectionControllerClient)==null?void 0:s.connectExternal)==null?void 0:o.call(s,{id:K.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:n,chainId:e.id,type:lt.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const h=this.getAdapter(n);await(h==null?void 0:h.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else u===lt.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:n}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:r,chainNamespace:n}){var o;const i=`${n}:${r}`,s=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===i);if(n!==K.CHAIN.EVM||s!=null&&s.testnet){this.setProfileName(null,n),this.setProfileImage(null,n);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:i});if(this.setProfileName(a,n),this.setProfileImage(c,n),!a){const u=this.getAdapter(n),l=await(u==null?void 0:u.getProfile({address:e,chainId:Number(r)}));l!=null&&l.profileName?(this.setProfileName(l.profileName,n),l.profileImage&&this.setProfileImage(l.profileImage,n)):(await this.syncReownName(e,n),this.setProfileImage(null,n))}}catch{await this.syncReownName(e,n),r!==1&&this.setProfileImage(null,n)}}syncConnectedWalletInfo(e){const r=Qe.getProviderId(e);if(r===lt.CONNECTOR_TYPE_AUTH){const n=this.authProvider;if(n){const i=se.getConnectedSocialProvider()??"email",s=n.getEmail()??n.getUsername();this.setConnectedWalletInfo({name:r,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!g_&&he.isClient()){const e={...Mt.DEFAULT_FEATURES,...this.options.features},r=[];if(e&&((e.email||e.socials&&e.socials.length)&&r.push(hn(()=>import("./embedded-wallet-y3O_Yvpo.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),e.email&&r.push(hn(()=>import("./email-Dk8pXOfT.js"),__vite__mapDeps([10,1,9,5,8,4,11,6]))),e.socials&&r.push(hn(()=>import("./socials-OC_NnVlu.js"),__vite__mapDeps([12,1,13,4,5,14,8,9,15,3,16]))),e.swaps&&r.push(hn(()=>import("./swaps-B-GlKZd3.js"),__vite__mapDeps([17,1,4,5,18,19,16,20,3,8,6]))),e.send&&r.push(hn(()=>import("./send-hRfKU7xp.js"),__vite__mapDeps([21,1,4,5,8,9,20,3,6,22]))),e.receive&&r.push(hn(()=>import("./receive-CPoTwI7g.js"),__vite__mapDeps([23,1,24,3,15]))),e.onramp&&r.push(hn(()=>import("./onramp-Cmms64h7.js"),__vite__mapDeps([25,1,26,16,8,3,5,27,13,4,9,6]))),e.history&&r.push(hn(()=>import("./transactions-BtwguzRM.js"),__vite__mapDeps([28,1,29,26,16,8,9,3])))),await Promise.all([...r,hn(()=>import("./index-CA8dH4LM.js"),__vite__mapDeps([30,1,3,5,22,8,31,19,7,27,4,29,26,16,9,18,6,11,13,14,2,24,15])),hn(()=>import("./w3m-modal-D3rZnghu.js"),__vite__mapDeps([32,1,7,3,8,5,19,31]))]),!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!J.state.disableAppend&&!J.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}g_=!0}}}const Mee="1.7.1";function $ee(t){return new Dee({...t,sdkVersion:he.generateSdkVersion(t.adapters??[],"html",Mee)})}function Xr(t,e,r){const n=t[e.name];if(typeof n=="function")return n;const i=t[r];return typeof i=="function"?i:s=>e(t,s)}const fp="2.16.7",Uee=()=>`@wagmi/core@${fp}`;var Px=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},w0,kx;class Ti extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return Uee()}constructor(e,r={}){var s;super(),w0.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const n=r.cause instanceof Ti?r.cause.details:(s=r.cause)!=null&&s.message?r.cause.message:r.details,i=r.cause instanceof Ti&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}walk(e){return Px(this,w0,"m",kx).call(this,this,e)}}w0=new WeakSet,kx=function t(e,r){return r!=null&&r(e)?e:e.cause?Px(this,w0,"m",t).call(this,e.cause,r):e};class pf extends Ti{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class Lee extends Ti{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class Fee extends Ti{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class Bee extends Ti{constructor({address:e,connector:r}){super(`Account "${e}" not found for connector "${r.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class jee extends Ti{constructor({connectionChainId:e,connectorChainId:r}){super(`The current chain of the connector (id: ${r}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class zee extends Ti{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function m_(t,e){var n;let r;if(typeof e.connector=="function"?r=t._internal.connectors.setup(e.connector):r=e.connector,r.uid===t.state.current)throw new Lee;try{t.setState(c=>({...c,status:"connecting"})),r.emitter.emit("message",{type:"connecting"});const{connector:i,...s}=e,o=await r.connect(s),a=o.accounts;return r.emitter.off("connect",t._internal.events.connect),r.emitter.on("change",t._internal.events.change),r.emitter.on("disconnect",t._internal.events.disconnect),await((n=t.storage)==null?void 0:n.setItem("recentConnectorId",r.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(r.uid,{accounts:a,chainId:o.chainId,connector:r}),current:r.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(i){throw t.setState(s=>({...s,status:s.current?"connected":"disconnected"})),i}}async function Ng(t,e={}){let r;if(e.connector){const{connector:u}=e;if(t.state.status==="reconnecting"&&!u.getAccounts&&!u.getChainId)throw new zee({connector:u});const[l,d]=await Promise.all([u.getAccounts().catch(f=>{if(e.account===null)return[];throw f}),u.getChainId()]);r={accounts:l,chainId:d,connector:u}}else r=t.state.connections.get(t.state.current);if(!r)throw new Fee;const n=e.chainId??r.chainId,i=await r.connector.getChainId();if(i!==r.chainId)throw new jee({connectionChainId:r.chainId,connectorChainId:i});const s=r.connector;if(s.getClient)return s.getClient({chainId:n});const o=us(e.account??r.accounts[0]);if(o&&(o.address=pa(o.address)),e.account&&!r.accounts.some(u=>u.toLowerCase()===o.address.toLowerCase()))throw new Bee({address:o.address,connector:s});const a=t.chains.find(u=>u.id===n),c=await r.connector.getProvider({chainId:n});return tx({account:o,chain:a,name:"Connector Client",transport:u=>sJ(c)({...u,retryCount:0})})}async function Hee(t,e={}){var i,s;let r;if(e.connector)r=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);r=c==null?void 0:c.connector}const n=t.state.connections;r&&(await r.disconnect(),r.emitter.off("change",t._internal.events.change),r.emitter.off("disconnect",t._internal.events.disconnect),r.emitter.on("connect",t._internal.events.connect),n.delete(r.uid)),t.setState(o=>{if(n.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=n.values().next().value;return{...o,connections:new Map(n),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(i=t.state.connections.get(o))==null?void 0:i.connector;if(!a)return;await((s=t.storage)==null?void 0:s.setItem("recentConnectorId",a.id))}}async function qee(t,e){const{chainId:r,connector:n,...i}=e;let s;e.account?s=e.account:s=(await Ng(t,{account:e.account,chainId:r,connector:n})).account;const o=t.getClient({chainId:r});return Xr(o,H8,"estimateGas")({...i,account:s})}function Rx(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(LQ[t])}function v0(t){const e=t.state.current,r=t.state.connections.get(e),n=r==null?void 0:r.accounts,i=n==null?void 0:n[0],s=t.chains.find(a=>a.id===(r==null?void 0:r.chainId)),o=t.state.status;switch(o){case"connected":return{address:i,addresses:n,chain:s,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:i,addresses:n,chain:s,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:i,addresses:n,chain:s,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function Wee(t,e){const{allowFailure:r=!0,chainId:n,contracts:i,...s}=e,o=t.getClient({chainId:n});return Xr(o,DJ,"multicall")({allowFailure:r,contracts:i,...s})}function Vee(t,e){const{chainId:r,...n}=e,i=t.getClient({chainId:r});return Xr(i,ja,"readContract")(n)}async function Kee(t,e){var a;const{allowFailure:r=!0,blockNumber:n,blockTag:i,...s}=e,o=e.contracts;try{const c={};for(const[f,h]of o.entries()){const g=h.chainId??t.state.chainId;c[g]||(c[g]=[]),(a=c[g])==null||a.push({contract:h,index:f})}const u=()=>Object.entries(c).map(([f,h])=>Wee(t,{...s,allowFailure:r,blockNumber:n,blockTag:i,chainId:Number.parseInt(f),contracts:h.map(({contract:g})=>g)})),l=(await Promise.all(u())).flat(),d=Object.values(c).flatMap(f=>f.map(({index:h})=>h));return l.reduce((f,h,g)=>(f&&(f[d[g]]=h),f),[])}catch(c){if(c instanceof x8)throw c;const u=()=>o.map(l=>Vee(t,{...l,blockNumber:n,blockTag:i}));return r?(await Promise.allSettled(u())).map(l=>l.status==="fulfilled"?{result:l.value,status:"success"}:{error:l.reason,result:void 0,status:"failure"}):await Promise.all(u())}}async function Gee(t,e){const{address:r,blockNumber:n,blockTag:i,chainId:s,token:o,unit:a="ether"}=e;if(o)try{return await y_(t,{balanceAddress:r,chainId:s,symbolType:"string",tokenAddress:o})}catch(f){if(f.name==="ContractFunctionExecutionError"){const h=await y_(t,{balanceAddress:r,chainId:s,symbolType:"bytes32",tokenAddress:o}),g=p8(Zu(h.symbol,{dir:"right"}));return{...h,symbol:g}}throw f}const c=t.getClient({chainId:s}),l=await Xr(c,z8,"getBalance")(n?{address:r,blockNumber:n}:{address:r,blockTag:i}),d=t.chains.find(f=>f.id===s)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:el(l,Rx(a)),symbol:d.nativeCurrency.symbol,value:l}}async function y_(t,e){const{balanceAddress:r,chainId:n,symbolType:i,tokenAddress:s,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]}],address:s},[c,u,l]=await Kee(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[r],chainId:n},{...a,functionName:"decimals",chainId:n},{...a,functionName:"symbol",chainId:n}]}),d=el(c??"0",Rx(o??u));return{decimals:u,formatted:d,symbol:l,value:c}}function b0(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let r,n;if(Array.isArray(t)&&Array.isArray(e)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!b0(t[n],e[n]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(s&&!b0(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}let $h=[];function Ic(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||b0($h,e)?$h:($h=e,e)}function Qee(t,e){const{chainId:r,...n}=e,i=t.getClient({chainId:r});return Xr(i,hJ,"getEnsAddress")(n)}function Yee(t,e){const{chainId:r,...n}=e,i=t.getClient({chainId:r});return Xr(i,xJ,"getEnsAvatar")(n)}function Jee(t,e){const{chainId:r,...n}=e,i=t.getClient({chainId:r});return Xr(i,NJ,"getEnsName")(n)}async function Zee(t,e){const{account:r,chainId:n,...i}=e,s=r??v0(t).address,o=t.getClient({chainId:n});return Xr(o,Wb,"prepareTransactionRequest")({...i,...s?{account:s}:{}})}let $y=!1;async function Xee(t,e={}){var u,l;if($y)return[];$y=!0,t.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const r=[];if((u=e.connectors)!=null&&u.length)for(const d of e.connectors){let f;typeof d=="function"?f=t._internal.connectors.setup(d):f=d,r.push(f)}else r.push(...t.connectors);let n;try{n=await((l=t.storage)==null?void 0:l.getItem("recentConnectorId"))}catch{}const i={};for(const[,d]of t.state.connections)i[d.connector.id]=1;n&&(i[n]=0);const s=Object.keys(i).length>0?[...r].sort((d,f)=>(i[d.id]??10)-(i[f.id]??10)):r;let o=!1;const a=[],c=[];for(const d of s){const f=await d.getProvider().catch(()=>{});if(!f||c.some(y=>y===f)||!await d.isAuthorized())continue;const g=await d.connect({isReconnecting:!0}).catch(()=>null);g&&(d.emitter.off("connect",t._internal.events.connect),d.emitter.on("change",t._internal.events.change),d.emitter.on("disconnect",t._internal.events.disconnect),t.setState(y=>{const _=new Map(o?y.connections:new Map).set(d.uid,{accounts:g.accounts,chainId:g.chainId,connector:d});return{...y,current:o?y.current:d.uid,connections:_}}),a.push({accounts:g.accounts,chainId:g.chainId,connector:d}),c.push(f),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(d=>({...d,status:"connected"})):t.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),$y=!1,a}async function ete(t,e){const{account:r,chainId:n,connector:i,...s}=e;let o;return typeof r=="object"&&(r==null?void 0:r.type)==="local"?o=t.getClient({chainId:n}):o=await Ng(t,{account:r??void 0,chainId:n,connector:i}),await Xr(o,X8,"sendTransaction")({...s,...r?{account:r}:{},chain:n?{id:n}:null,gas:s.gas??void 0})}async function tte(t,e){const{account:r,connector:n,...i}=e;let s;return typeof r=="object"&&r.type==="local"?s=t.getClient():s=await Ng(t,{account:r,connector:n}),Xr(s,LJ,"signMessage")({...i,...r?{account:r}:{}})}class ao extends Ti{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class rte extends Ti{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function nte(t,e){var o;const{addEthereumChainParameter:r,chainId:n}=e,i=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(i){const a=i.connector;if(!a.switchChain)throw new rte({connector:a});return await a.switchChain({addEthereumChainParameter:r,chainId:n})}const s=t.chains.find(a=>a.id===n);if(!s)throw new pf;return t.setState(a=>({...a,chainId:n})),s}function ite(t,e){const{onChange:r}=e;return t.subscribe(()=>v0(t),r,{equalityFn(n,i){const{connector:s,...o}=n,{connector:a,...c}=i;return b0(o,c)&&(s==null?void 0:s.id)===(a==null?void 0:a.id)&&(s==null?void 0:s.uid)===(a==null?void 0:a.uid)}})}function ste(t,e){const{onChange:r}=e;return t._internal.connectors.subscribe((n,i)=>{r(Object.values(n),i)})}function ote(t,e){const{syncConnectedChain:r=t._internal.syncConnectedChain,...n}=e;let i;const s=c=>{i&&i();const u=t.getClient({chainId:c});return i=Xr(u,UJ,"watchPendingTransactions")(n),i},o=s(e.chainId);let a;return r&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>s(c))),()=>{o==null||o(),a==null||a()}}async function ate(t,e){const{chainId:r,timeout:n=0,...i}=e,s=t.getClient({chainId:r}),a=await Xr(s,$J,"waitForTransactionReceipt")({...i,timeout:n});if(a.status==="reverted"){const u=await Xr(s,ax,"getTransaction")({hash:a.transactionHash}),d=await Xr(s,J8,"call")({...u,data:u.input,gasPrice:u.type!=="eip1559"?u.gasPrice:void 0,maxFeePerGas:u.type==="eip1559"?u.maxFeePerGas:void 0,maxPriorityFeePerGas:u.type==="eip1559"?u.maxPriorityFeePerGas:void 0}),f=d!=null&&d.data?p8(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(f)}return{...a,chainId:s.chain.id}}async function cte(t,e){const{account:r,chainId:n,connector:i,...s}=e;let o;return typeof r=="object"&&(r==null?void 0:r.type)==="local"?o=t.getClient({chainId:n}):o=await Ng(t,{account:r??void 0,chainId:n,connector:i}),await Xr(o,tJ,"writeContract")({...s,...r?{account:r}:{},chain:n?{id:n}:null})}function Nne(t){return t}Tg.type="injected";function Tg(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:r}=t;function n(){const c=t.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...ute[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let i,s,o,a;return c=>({get icon(){return n().icon},get id(){return n().id},get name(){return n().name},get supportsSimulation(){return!0},type:Tg.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&t.target&&(o||(o=this.onConnect.bind(this),u.on("connect",o)),i||(i=this.onAccountsChanged.bind(this),u.on("accountsChanged",i)))},async connect({chainId:u,isReconnecting:l}={}){var h,g,y,_,v,w;const d=await this.getProvider();if(!d)throw new ao;let f=[];if(l)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(_=(y=(g=(h=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:h.caveats)==null?void 0:g[0])==null?void 0:y.value)==null?void 0:_.map(P=>pa(P)),f.length>0&&(f=await this.getAccounts())}catch(A){const P=A;if(P.code===ur.code)throw new ur(P);if(P.code===ko.code)throw P}try{!(f!=null&&f.length)&&!l&&(f=(await d.request({method:"eth_requestAccounts"})).map(R=>pa(R))),o&&(d.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),d.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let A=await this.getChainId();if(u&&A!==u){const P=await this.switchChain({chainId:u}).catch(R=>{if(R.code===ur.code)throw R;return{id:A}});A=(P==null?void 0:P.id)??A}return e&&await((v=c.storage)==null?void 0:v.removeItem(`${this.id}.disconnected`)),t.target||await((w=c.storage)==null?void 0:w.setItem("injected.connected",!0)),{accounts:f,chainId:A}}catch(A){const P=A;throw P.code===ur.code?new ur(P):P.code===ko.code?new ko(P):P}},async disconnect(){var l,d;const u=await this.getProvider();if(!u)throw new ao;s&&(u.removeListener("chainChanged",s),s=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o));try{await rx(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((l=c.storage)==null?void 0:l.setItem(`${this.id}.disconnected`,!0)),t.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new ao;return(await u.request({method:"eth_accounts"})).map(d=>pa(d))},async getChainId(){const u=await this.getProvider();if(!u)throw new ao;const l=await u.request({method:"eth_chainId"});return Number(l)},async getProvider(){if(typeof window>"u")return;let u;const l=n();return typeof l.provider=="function"?u=l.provider(window):typeof l.provider=="string"?u=hp(window,l.provider):u=l.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,l;try{if(e&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!t.target&&!await((l=c.storage)==null?void 0:l.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(r!==void 0&&r!==!1){const g=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",g),!!await this.getProvider()),y=typeof r=="number"?r:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(v=>window.addEventListener("ethereum#initialized",()=>v(g()),{once:!0}))]:[],new Promise(v=>setTimeout(()=>v(g()),y))]))return!0}throw new ao}return!!(await o0(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:l}){var g,y,_,v;const d=await this.getProvider();if(!d)throw new ao;const f=c.chains.find(w=>w.id===l);if(!f)throw new is(new pf);const h=new Promise(w=>{const A=P=>{"chainId"in P&&P.chainId===l&&(c.emitter.off("change",A),w())};c.emitter.on("change",A)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:_e(l)}]}).then(async()=>{await this.getChainId()===l&&c.emitter.emit("change",{chainId:l})}),h]),f}catch(w){const A=w;if(A.code===4902||((y=(g=A==null?void 0:A.data)==null?void 0:g.originalError)==null?void 0:y.code)===4902)try{const{default:P,...R}=f.blockExplorers??{};let D;u!=null&&u.blockExplorerUrls?D=u.blockExplorerUrls:P&&(D=[P.url,...Object.values(R).map($=>$.url)]);let M;(_=u==null?void 0:u.rpcUrls)!=null&&_.length?M=u.rpcUrls:M=[((v=f.rpcUrls.default)==null?void 0:v.http[0])??""];const L={blockExplorerUrls:D,chainId:_e(l),chainName:(u==null?void 0:u.chainName)??f.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??f.nativeCurrency,rpcUrls:M};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[L]}).then(async()=>{if(await this.getChainId()===l)c.emitter.emit("change",{chainId:l});else throw new ur(new Error("User rejected switch after adding network."))}),h]),f}catch(P){throw new ur(P)}throw A.code===ur.code?new ur(A):new is(A)}},async onAccountsChanged(u){var l;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((l=c.storage)==null?void 0:l.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(d=>pa(d))})},onChainChanged(u){const l=Number(u);c.emitter.emit("change",{chainId:l})},async onConnect(u){const l=await this.getAccounts();if(l.length===0)return;const d=Number(u.chainId);c.emitter.emit("connect",{accounts:l,chainId:d});const f=await this.getProvider();f&&(o&&(f.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),f.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),f.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(u){const l=await this.getProvider();u&&u.code===1013&&l&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),l&&(s&&(l.removeListener("chainChanged",s),s=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o))))}})}const ute={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:hp(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return hp(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const r=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const n of r)if(e[n])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,r;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(r=t.phantom)==null?void 0:r.ethereum:hp(t,"isPhantom")}}};function hp(t,e){function r(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const n=t.ethereum;if(n!=null&&n.providers)return n.providers.find(i=>r(i));if(n&&r(n))return n}function lte(t){if(typeof window>"u")return;const e=r=>t(r.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function dte(){const t=new Set;let e=[];const r=()=>lte(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let n=r();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),n==null||n()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),n==null||n(),n=r()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}const fte=t=>(e,r,n)=>{const i=n.subscribe;return n.subscribe=(o,a,c)=>{let u=o;if(a){const l=(c==null?void 0:c.equalityFn)||Object.is;let d=o(n.getState());u=f=>{const h=o(f);if(!l(d,h)){const g=d;a(d=h,g)}},c!=null&&c.fireImmediately&&a(d,d)}return i(u)},t(e,r,n)},hte=fte;function pte(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),a=(s=r.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const Vv=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return Vv(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Vv(n)(r)}}}},gte=(t,e)=>(r,n,i)=>{let s={storage:pte(()=>localStorage),partialize:y=>y,version:0,merge:(y,_)=>({..._,...y}),...e},o=!1;const a=new Set,c=new Set;let u=s.storage;if(!u)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...y)},n,i);const l=()=>{const y=s.partialize({...n()});return u.setItem(s.name,{state:y,version:s.version})},d=i.setState;i.setState=(y,_)=>{d(y,_),l()};const f=t((...y)=>{r(...y),l()},n,i);i.getInitialState=()=>f;let h;const g=()=>{var y,_;if(!u)return;o=!1,a.forEach(w=>{var A;return w((A=n())!=null?A:f)});const v=((_=s.onRehydrateStorage)==null?void 0:_.call(s,(y=n())!=null?y:f))||void 0;return Vv(u.getItem.bind(u))(s.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==s.version){if(s.migrate)return[!0,s.migrate(w.state,w.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var A;const[P,R]=w;if(h=s.merge(R,(A=n())!=null?A:f),r(h,!0),P)return l()}).then(()=>{v==null||v(h,void 0),h=n(),o=!0,c.forEach(w=>w(h))}).catch(w=>{v==null||v(void 0,w)})};return i.persist={setOptions:y=>{s={...s,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},s.skipHydration||g(),h||f},mte=gte,w_=t=>{let e;const r=new Set,n=(u,l)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const f=e;e=l??(typeof d!="object"||d===null)?d:Object.assign({},e,d),r.forEach(h=>h(e,f))}},i=()=>e,a={setState:n,getState:i,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=e=t(n,i,a);return a},Uy=t=>t?w_(t):w_;var Ox={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,d,f){if(typeof l!="function")throw new TypeError("The listener must be a function");var h=new i(l,d||c,f),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,d;if(this._eventsCount===0)return u;for(d in l=this._events)e.call(l,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=r?r+u:u,d=this._events[l];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,g=new Array(h);f<h;f++)g[f]=d[f].fn;return g},a.prototype.listenerCount=function(u){var l=r?r+u:u,d=this._events[l];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,l,d,f,h,g){var y=r?r+u:u;if(!this._events[y])return!1;var _=this._events[y],v=arguments.length,w,A;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),v){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,l),!0;case 3:return _.fn.call(_.context,l,d),!0;case 4:return _.fn.call(_.context,l,d,f),!0;case 5:return _.fn.call(_.context,l,d,f,h),!0;case 6:return _.fn.call(_.context,l,d,f,h,g),!0}for(A=1,w=new Array(v-1);A<v;A++)w[A-1]=arguments[A];_.fn.apply(_.context,w)}else{var P=_.length,R;for(A=0;A<P;A++)switch(_[A].once&&this.removeListener(u,_[A].fn,void 0,!0),v){case 1:_[A].fn.call(_[A].context);break;case 2:_[A].fn.call(_[A].context,l);break;case 3:_[A].fn.call(_[A].context,l,d);break;case 4:_[A].fn.call(_[A].context,l,d,f);break;default:if(!w)for(R=1,w=new Array(v-1);R<v;R++)w[R-1]=arguments[R];_[A].fn.apply(_[A].context,w)}}return!0},a.prototype.on=function(u,l,d){return s(this,u,l,d,!1)},a.prototype.once=function(u,l,d){return s(this,u,l,d,!0)},a.prototype.removeListener=function(u,l,d,f){var h=r?r+u:u;if(!this._events[h])return this;if(!l)return o(this,h),this;var g=this._events[h];if(g.fn)g.fn===l&&(!f||g.once)&&(!d||g.context===d)&&o(this,h);else{for(var y=0,_=[],v=g.length;y<v;y++)(g[y].fn!==l||f&&!g[y].once||d&&g[y].context!==d)&&_.push(g[y]);_.length?this._events[h]=_.length===1?_[0]:_:o(this,h)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=r?r+u:u,this._events[l]&&o(this,l)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(Ox);var yte=Ox.exports;const wte=I0(yte);class vte{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new wte})}on(e,r){this._emitter.on(e,r)}once(e,r){this._emitter.once(e,r)}off(e,r){this._emitter.off(e,r)}emit(e,...r){const n=r[0];this._emitter.emit(e,{uid:this.uid,...n})}listenerCount(e){return this._emitter.listenerCount(e)}}function bte(t){return new vte(t)}function Ete(t,e){return JSON.parse(t,(r,n)=>{let i=n;return(i==null?void 0:i.__type)==="bigint"&&(i=BigInt(i.value)),(i==null?void 0:i.__type)==="Map"&&(i=new Map(i.value)),(e==null?void 0:e(r,i))??i})}function v_(t,e){return t.slice(0,e).join(".")||"."}function b_(t,e){const{length:r}=t;for(let n=0;n<r;++n)if(t[n]===e)return n+1;return 0}function Ate(t,e){const r=typeof t=="function",n=typeof e=="function",i=[],s=[];return function(a,c){if(typeof c=="object")if(i.length){const u=b_(i,this);u===0?i[i.length]=this:(i.splice(u),s.splice(u)),s[s.length]=a;const l=b_(i,c);if(l!==0)return n?e.call(this,a,c,v_(s,l)):`[ref=${v_(s,l)}]`}else i[0]=c,s[0]=a;return r?t.call(this,a,c):c}}function Cte(t,e,r,n){return JSON.stringify(t,Ate((i,s)=>{let o=s;return typeof o=="bigint"&&(o={__type:"bigint",value:s.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(s.entries())}),(e==null?void 0:e(i,o))??o},n),r??void 0)}function _te(t){const{deserialize:e=Ete,key:r="wagmi",serialize:n=Cte,storage:i=Dx}=t;function s(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...i,key:r,async getItem(o,a){const c=i.getItem(`${r}.${o}`),u=await s(c);return u?e(u)??null:a??null},async setItem(o,a){const c=`${r}.${o}`;a===null?await s(i.removeItem(c)):await s(i.setItem(c,n(a)))},async removeItem(o){await s(i.removeItem(`${r}.${o}`))}}}const Dx={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Ste(){const t=typeof window<"u"&&window.localStorage?window.localStorage:Dx;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,r){try{t.setItem(e,r)}catch{}}}}const Kv=256;let Uh=Kv,Lh;function Ite(t=11){if(!Lh||Uh+t>Kv*2){Lh="",Uh=0;for(let e=0;e<Kv;e++)Lh+=(256+Math.random()*256|0).toString(16).substring(1)}return Lh.substring(Uh,Uh+++t)}function xte(t){const{multiInjectedProviderDiscovery:e=!0,storage:r=_te({storage:Ste()}),syncConnectedChain:n=!0,ssr:i=!1,...s}=t,o=typeof window<"u"&&e?dte():void 0,a=Uy(()=>s.chains),c=Uy(()=>{const R=[],D=new Set;for(const M of s.connectors??[]){const L=u(M);if(R.push(L),!i&&L.rdns){const $=typeof L.rdns=="string"?[L.rdns]:L.rdns;for(const F of $)D.add(F)}}if(!i&&o){const M=o.getProviders();for(const L of M)D.has(L.info.rdns)||R.push(u(l(L)))}return R});function u(R){var L;const D=bte(Ite()),M={...R({emitter:D,chains:a.getState(),storage:r,transports:s.transports}),emitter:D,uid:D.uid};return D.on("connect",A),(L=M.setup)==null||L.call(M),M}function l(R){const{info:D}=R,M=R.provider;return Tg({target:{...D,id:D.rdns,provider:M}})}const d=new Map;function f(R={}){const D=R.chainId??_.getState().chainId,M=a.getState().find($=>$.id===D);if(R.chainId&&!M)throw new pf;{const $=d.get(_.getState().chainId);if($&&!M)return $;if(!M)throw new pf}{const $=d.get(D);if($)return $}let L;if(s.client)L=s.client({chain:M});else{const $=M.id,F=a.getState().map(b=>b.id),x={},p=Object.entries(s);for(const[b,I]of p)if(!(b==="chains"||b==="client"||b==="connectors"||b==="transports"))if(typeof I=="object")if($ in I)x[b]=I[$];else{if(F.some(C=>C in I))continue;x[b]=I}else x[b]=I;L=tx({...x,chain:M,batch:x.batch??{multicall:!0},transport:b=>s.transports[$]({...b,connectors:c})})}return d.set(D,L),L}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let g;const y="0.0.0-canary-";fp.startsWith(y)?g=Number.parseInt(fp.replace(y,"")):g=Number.parseInt(fp.split(".")[0]??"0");const _=Uy(hte(r?mte(h,{migrate(R,D){if(D===g)return R;const M=h(),L=v(R,M.chainId);return{...M,chainId:L}},name:"store",partialize(R){return{connections:{__type:"Map",value:Array.from(R.connections.entries()).map(([D,M])=>{const{id:L,name:$,type:F,uid:x}=M.connector;return[D,{...M,connector:{id:L,name:$,type:F,uid:x}}]})},chainId:R.chainId,current:R.current}},merge(R,D){typeof R=="object"&&R&&"status"in R&&delete R.status;const M=v(R,D.chainId);return{...D,...R,chainId:M}},skipHydration:i,storage:r,version:g}):h));_.setState(h());function v(R,D){return R&&typeof R=="object"&&"chainId"in R&&typeof R.chainId=="number"&&a.getState().some(M=>M.id===R.chainId)?R.chainId:D}n&&_.subscribe(({connections:R,current:D})=>{var M;return D?(M=R.get(D))==null?void 0:M.chainId:void 0},R=>{if(a.getState().some(M=>M.id===R))return _.setState(M=>({...M,chainId:R??M.chainId}))}),o==null||o.subscribe(R=>{const D=new Set,M=new Set;for(const $ of c.getState())if(D.add($.id),$.rdns){const F=typeof $.rdns=="string"?[$.rdns]:$.rdns;for(const x of F)M.add(x)}const L=[];for(const $ of R){if(M.has($.info.rdns))continue;const F=u(l($));D.has(F.id)||L.push(F)}r&&!_.persist.hasHydrated()||c.setState($=>[...$,...L],!0)});function w(R){_.setState(D=>{const M=D.connections.get(R.uid);return M?{...D,connections:new Map(D.connections).set(R.uid,{accounts:R.accounts??M.accounts,chainId:R.chainId??M.chainId,connector:M.connector})}:D})}function A(R){_.getState().status==="connecting"||_.getState().status==="reconnecting"||_.setState(D=>{const M=c.getState().find(L=>L.uid===R.uid);return M?(M.emitter.listenerCount("connect")&&M.emitter.off("connect",w),M.emitter.listenerCount("change")||M.emitter.on("change",w),M.emitter.listenerCount("disconnect")||M.emitter.on("disconnect",P),{...D,connections:new Map(D.connections).set(R.uid,{accounts:R.accounts,chainId:R.chainId,connector:M}),current:R.uid,status:"connected"}):D})}function P(R){_.setState(D=>{const M=D.connections.get(R.uid);if(M){const $=M.connector;$.emitter.listenerCount("change")&&M.connector.emitter.off("change",w),$.emitter.listenerCount("disconnect")&&M.connector.emitter.off("disconnect",P),$.emitter.listenerCount("connect")||M.connector.emitter.on("connect",A)}if(D.connections.delete(R.uid),D.connections.size===0)return{...D,connections:new Map,current:null,status:"disconnected"};const L=D.connections.values().next().value;return{...D,connections:new Map(D.connections),current:L.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:r,getClient:f,get state(){return _.getState()},setState(R){let D;typeof R=="function"?D=R(_.getState()):D=R;const M=h();typeof D!="object"&&(D=M),Object.keys(M).some($=>!($ in D))&&(D=M),_.setState(D,!0)},subscribe(R,D,M){return _.subscribe(R,D,M?{...M,fireImmediately:M.emitImmediately}:void 0)},_internal:{mipd:o,store:_,ssr:!!i,syncConnectedChain:n,transports:s.transports,chains:{setState(R){const D=typeof R=="function"?R(a.getState()):R;if(D.length!==0)return a.setState(D,!0)},subscribe(R){return a.subscribe(R)}},connectors:{providerDetailToConnector:l,setup:u,setState(R){return c.setState(typeof R=="function"?R(c.getState()):R,!0)},subscribe(R){return c.subscribe(R)}},events:{change:w,connect:A,disconnect:P}}}}var Nte="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const E_=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),A_=4;function Tte(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let R=1;R<n;R++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,u=0;function l(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}const d=31,f=2**d,h=f>>>1,g=h>>1,y=f-1;let _=0;for(let R=0;R<d;R++)_=_<<1|l();let v=[],w=0,A=f;for(;;){let R=Math.floor(((_-w+1)*i-1)/A),D=0,M=n;for(;M-D>1;){let F=D+M>>>1;R<s[F]?M=F:D=F}if(D==0)break;v.push(D);let L=w+Math.floor(A*s[D]/i),$=w+Math.floor(A*s[D+1]/i)-1;for(;!((L^$)&h);)_=_<<1&y|l(),L=L<<1&y,$=$<<1&y|1;for(;L&~$&g;)_=_&h|_<<1&y>>>1|l(),L=L<<1^h,$=($^h)<<1|h|1;w=L,A=1+$-L}let P=n-4;return v.map(R=>{switch(R-P){case 3:return P+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return P+256+(t[a++]<<8|t[a++]);case 1:return P+t[a++];default:return R-1}})}function Pte(t){let e=0;return()=>t[e++]}function Mx(t){return Pte(Tte(kte(t)))}function kte(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let r=t.length,n=new Uint8Array(6*r>>3);for(let i=0,s=0,o=0,a=0;i<r;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(n[s++]=a>>(o-=8));return n}function Rte(t){return t&1?~t>>1:t>>1}function Ote(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Rte(e());return r}function gf(t,e=0){let r=[];for(;;){let n=t(),i=t();if(!i)break;e+=n;for(let s=0;s<i;s++)r.push(e+s);e+=i+1}return r}function $x(t){return mf(()=>{let e=gf(t);if(e.length)return e})}function Ux(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(Dte(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Mte(r,t))}return e.flat()}function mf(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function Lx(t,e,r){let n=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)Ote(t,r).forEach((s,o)=>n[o].push(s));return n}function Dte(t,e){let r=1+e(),n=e(),i=mf(e);return Lx(i.length,1+t,e).flatMap((o,a)=>{let[c,...u]=o;return Array(i[a]).fill().map((l,d)=>{let f=d*n;return[c+d*r,u.map(h=>h+f)]})})}function Mte(t,e){let r=1+e();return Lx(r,1+t,e).map(i=>[i[0],i.slice(1)])}function $te(t){let e=[],r=gf(t);return i(n([]),[]),e;function n(s){let o=t(),a=mf(()=>{let c=gf(t).map(u=>r[u]);if(c.length)return n(c)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,c){if(!(s&4&&c===a[a.length-1])){s&2&&(c=a[a.length-1]),s&1&&e.push(a);for(let u of o)for(let l of u.Q)i(u,[...a,l],c)}}}function Ute(t){return t.toString(16).toUpperCase().padStart(2,"0")}function Fx(t){return`{${Ute(t)}}`}function Lte(t){let e=[];for(let r=0,n=t.length;r<n;){let i=t.codePointAt(r);r+=i<65536?1:2,e.push(i)}return e}function ku(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let i=0;i<r;)n.push(String.fromCodePoint(...t.slice(i,i+=4096)));return n.join("")}function Fte(t,e){let r=t.length,n=r-e.length;for(let i=0;n==0&&i<r;i++)n=t[i]-e[i];return n}var Bte="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const yf=44032,E0=4352,A0=4449,C0=4519,Bx=19,jx=21,Ru=28,_0=jx*Ru,jte=Bx*_0,zte=yf+jte,Hte=E0+Bx,qte=A0+jx,Wte=C0+Ru;function Vl(t){return t>>24&255}function zx(t){return t&16777215}let Gv,C_,Qv,pp;function Vte(){let t=Mx(Bte);Gv=new Map($x(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),C_=new Set(gf(t)),Qv=new Map,pp=new Map;for(let[e,r]of Ux(t)){if(!C_.has(e)&&r.length==2){let[n,i]=r,s=pp.get(n);s||(s=new Map,pp.set(n,s)),s.set(i,e)}Qv.set(e,r.reverse())}}function Hx(t){return t>=yf&&t<zte}function Kte(t,e){if(t>=E0&&t<Hte&&e>=A0&&e<qte)return yf+(t-E0)*_0+(e-A0)*Ru;if(Hx(t)&&e>C0&&e<Wte&&(t-yf)%Ru==0)return t+(e-C0);{let r=pp.get(t);return r&&(r=r.get(e),r)?r:-1}}function qx(t){Gv||Vte();let e=[],r=[],n=!1;function i(s){let o=Gv.get(s);o&&(n=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(Hx(s)){let o=s-yf,a=o/_0|0,c=o%_0/Ru|0,u=o%Ru;i(E0+a),i(A0+c),u>0&&i(C0+u)}else{let o=Qv.get(s);o?r.push(...o):i(s)}if(!r.length)break;s=r.pop()}if(n&&e.length>1){let s=Vl(e[0]);for(let o=1;o<e.length;o++){let a=Vl(e[o]);if(a==0||s<=a){s=a;continue}let c=o-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(s=Vl(e[--c]),s<=a))break}s=Vl(e[o])}}return e}function Gte(t){let e=[],r=[],n=-1,i=0;for(let s of t){let o=Vl(s),a=zx(s);if(n==-1)o==0?n=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(n,...r),r.length=0,n=a):r.push(a),i=o;else{let c=Kte(n,a);c>=0?n=c:i==0&&o==0?(e.push(n),n=a):(r.push(a),i=o)}}return n>=0&&e.push(n,...r),e}function Wx(t){return qx(t).map(zx)}function Qte(t){return Gte(qx(t))}const __=45,Vx=".",Kx=65039,Gx=1,S0=t=>Array.from(t);function wf(t,e){return t.P.has(e)||t.Q.has(e)}class Yte extends Array{get is_emoji(){return!0}}let Yv,Qx,wa,Jv,Yx,cu,Ly,kc,ia,S_,Zv;function r2(){if(Yv)return;let t=Mx(Nte);const e=()=>gf(t),r=()=>new Set(e()),n=(l,d)=>d.forEach(f=>l.add(f));Yv=new Map(Ux(t)),Qx=r(),wa=e(),Jv=new Set(e().map(l=>wa[l])),wa=new Set(wa),Yx=r(),r();let i=$x(t),s=t();const o=()=>{let l=new Set;return e().forEach(d=>n(l,i[d])),n(l,e()),l};cu=mf(l=>{let d=mf(t).map(f=>f+96);if(d.length){let f=l>=s;d[0]-=32,d=ku(d),f&&(d=`Restricted[${d}]`);let h=o(),g=o(),y=!t();return{N:d,P:h,Q:g,M:y,R:f}}}),Ly=r(),kc=new Map;let a=e().concat(S0(Ly)).sort((l,d)=>l-d);a.forEach((l,d)=>{let f=t(),h=a[d]=f?a[d-f]:{V:[],M:new Map};h.V.push(l),Ly.has(l)||kc.set(l,h)});for(let{V:l,M:d}of new Set(kc.values())){let f=[];for(let g of l){let y=cu.filter(v=>wf(v,g)),_=f.find(({G:v})=>y.some(w=>v.has(w)));_||(_={G:new Set,V:[]},f.push(_)),_.V.push(g),n(_.G,y)}let h=f.flatMap(g=>S0(g.G));for(let{G:g,V:y}of f){let _=new Set(h.filter(v=>!g.has(v)));for(let v of y)d.set(v,_)}}ia=new Set;let c=new Set;const u=l=>ia.has(l)?c.add(l):ia.add(l);for(let l of cu){for(let d of l.P)u(d);for(let d of l.Q)u(d)}for(let l of ia)!kc.has(l)&&!c.has(l)&&kc.set(l,Gx);n(ia,Wx(ia)),S_=$te(t).map(l=>Yte.from(l)).sort(Fte),Zv=new Map;for(let l of S_){let d=[Zv];for(let f of l){let h=d.map(g=>{let y=g.get(f);return y||(y=new Map,g.set(f,y)),y});f===Kx?d.push(...h):d=h}for(let f of d)f.V=l}}function n2(t){return(Jx(t)?"":`${i2(Pg([t]))} `)+Fx(t)}function i2(t){return`"${t}"‎`}function Jte(t){if(t.length>=4&&t[2]==__&&t[3]==__)throw new Error(`invalid label extension: "${ku(t.slice(0,4))}"`)}function Zte(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function Xte(t){let e=t[0],r=E_.get(e);if(r)throw dd(`leading ${r}`);let n=t.length,i=-1;for(let s=1;s<n;s++){e=t[s];let o=E_.get(e);if(o){if(i==s)throw dd(`${r} + ${o}`);i=s+1,r=o}}if(i==n)throw dd(`trailing ${r}`)}function Pg(t,e=1/0,r=Fx){let n=[];ere(t[0])&&n.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];Jx(a)&&(n.push(ku(t.slice(i,o))),n.push(r(a)),i=o+1)}return n.push(ku(t.slice(i,s))),n.join("")}function ere(t,e){return r2(),wa.has(t)}function Jx(t){return r2(),Yx.has(t)}function tre(t){return sre(rre(t,Qte,cre))}function rre(t,e,r){if(!t)return[];r2();let n=0;return t.split(Vx).map(i=>{let s=Lte(i),o={input:s,offset:n};n+=s.length+1;try{let a=o.tokens=are(s,e,r),c=a.length,u;if(!c)throw new Error("empty label");let l=o.output=a.flat();if(Zte(l),!(o.emoji=c>1||a[0].is_emoji)&&l.every(f=>f<128))Jte(l),u="ASCII";else{let f=a.flatMap(h=>h.is_emoji?[]:h);if(!f.length)u="Emoji";else{if(wa.has(l[0]))throw dd("leading combining mark");for(let y=1;y<c;y++){let _=a[y];if(!_.is_emoji&&wa.has(_[0]))throw dd(`emoji + combining mark: "${ku(a[y-1])} + ${Pg([_[0]])}"`)}Xte(l);let h=S0(new Set(f)),[g]=ire(h);ore(g,f),nre(g,h),u=g.N}}o.type=u}catch(a){o.error=a}return o})}function nre(t,e){let r,n=[];for(let i of e){let s=kc.get(i);if(s===Gx)return;if(s){let o=s.M.get(i);if(r=r?r.filter(a=>o.has(a)):S0(o),!r.length)return}else n.push(i)}if(r){for(let i of r)if(n.every(s=>wf(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function ire(t){let e=cu;for(let r of t){let n=e.filter(i=>wf(i,r));if(!n.length)throw cu.some(i=>wf(i,r))?Xx(e[0],r):Zx(r);if(e=n,n.length==1)break}return e}function sre(t){return t.map(({input:e,error:r,output:n})=>{if(r){let i=r.message;throw new Error(t.length==1?i:`Invalid label ${i2(Pg(e,63))}: ${i}`)}return ku(n)}).join(Vx)}function Zx(t){return new Error(`disallowed character: ${n2(t)}`)}function Xx(t,e){let r=n2(e),n=cu.find(i=>i.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function dd(t){return new Error(`illegal placement: ${t}`)}function ore(t,e){for(let r of e)if(!wf(t,r))throw Xx(t,r);if(t.M){let r=Wx(e);for(let n=1,i=r.length;n<i;n++)if(Jv.has(r[n])){let s=n+1;for(let o;s<i&&Jv.has(o=r[s]);s++)for(let a=n;a<s;a++)if(r[a]==o)throw new Error(`duplicate non-spacing marks: ${n2(o)}`);if(s-n>A_)throw new Error(`excessive non-spacing marks: ${i2(Pg(r.slice(n-1,s)))} (${s-n}/${A_})`);n=s}}}function are(t,e,r){let n=[],i=[];for(t=t.slice().reverse();t.length;){let s=ure(t);if(s)i.length&&(n.push(e(i)),i=[]),n.push(r(s));else{let o=t.pop();if(ia.has(o))i.push(o);else{let a=Yv.get(o);if(a)i.push(...a);else if(!Qx.has(o))throw Zx(o)}}}return i.length&&n.push(e(i)),n}function cre(t){return t.filter(e=>e!=Kx)}function ure(t,e){let r=Zv,n,i=t.length;for(;i&&(r=r.get(t[--i]),!!r);){let{V:s}=r;s&&(n=s,t.length=i)}return n}function lre(t){return tre(t)}function dre(t){return lre(t)}function fre(t){let e=[];function r(n){return Pd.parseEvmChainId(n)||1}return n=>({id:K.CONNECTOR_ID.AUTH,name:K.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:K.CHAIN.EVM,async connect(i={}){var d;const s=await this.getProvider();let o=i.chainId;if(i.isReconnecting){const f=Pd.parseEvmChainId(s.getLastUsedChainId()||""),h=(d=t.chains)==null?void 0:d[0].id;if(o=f||h,!o)throw new Error("ChainId not found in provider")}const{address:a,chainId:c,accounts:u}=await s.connect({chainId:o,preferredAccountType:J.state.defaultAccountTypes.eip155});e=(u==null?void 0:u.map(f=>f.address))||[a],await s.getSmartAccountEnabledNetworks();const l=r(c);return{accounts:e,account:a,chainId:l,chain:{id:l,unsuported:!1}}},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(n.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=su.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,onTimeout:()=>{Ea.open(Kc.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}})),Promise.resolve(this.provider)},async getChainId(){const i=await this.getProvider(),{chainId:s}=await i.getChainId();return r(s)},async isAuthorized(){const i=await this.getProvider();return Promise.resolve(i.getLoginEmailUsed())},async switchChain({chainId:i}){var s;try{const o=n.chains.find(u=>u.id===i);if(!o)throw new is(new Error("chain not found on connector."));const c=await(await this.getProvider()).connect({chainId:i,preferredAccountType:J.state.defaultAccountTypes.eip155});return e=((s=c==null?void 0:c.accounts)==null?void 0:s.map(u=>u.address))||[c.address],n.emitter.emit("change",{chainId:Number(i),accounts:e}),o}catch(o){throw o instanceof Error?new is(o):o}},onAccountsChanged(i){i.length===0?this.onDisconnect():n.emitter.emit("change",{accounts:i.map(pa)})},onChainChanged(i){const s=Number(i);n.emitter.emit("change",{chainId:s})},async onDisconnect(i){await(await this.getProvider()).disconnect()}})}s2.type="walletConnect";function s2(t,e,r){const n=t.isNewChainsStale??!0;let i,s,o,a,c,u,l;return d=>({id:"walletConnect",name:"WalletConnect",type:s2.type,async setup(){const f=await this.getProvider().catch(()=>null);f&&(a||(a=this.onConnect.bind(this),f.on("connect",a)),u||(u=this.onSessionDelete.bind(this),f.on("session_delete",u)))},async connect({...f}={}){try{const h=await this.getProvider();if(!h)throw new ao;c||(c=this.onDisplayUri,h.on("display_uri",c));const g=await this.isChainsStale();if(h.session&&g&&await h.disconnect(),!h.session||g){const v=xg.createNamespaces(r);await h.connect({optionalNamespaces:v,..."pairingTopic"in f?{pairingTopic:f.pairingTopic}:{}}),this.setRequestedChainsIds(r.map(w=>Number(w.id)))}const y=await this.getAccounts(),_=await this.getChainId();return c&&(h.removeListener("display_uri",c),c=void 0),a&&(h.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),h.on("chainChanged",o)),l||(l=this.onDisconnect.bind(this),h.on("disconnect",l)),u||(u=this.onSessionDelete.bind(this),h.on("session_delete",u)),h.setDefaultChain(`eip155:${_}`),{accounts:y,chainId:_}}catch(h){throw/(user rejected|connection request reset)/i.test(h==null?void 0:h.message)?new ur(h):h}},async disconnect(){const f=await this.getProvider();try{await(f==null?void 0:f.disconnect())}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{o&&(f==null||f.removeListener("chainChanged",o),o=void 0),l&&(f==null||f.removeListener("disconnect",l),l=void 0),a||(a=this.onConnect.bind(this),f==null||f.on("connect",a)),s&&(f==null||f.removeListener("accountsChanged",s),s=void 0),u&&(f==null||f.removeListener("session_delete",u),u=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var y,_,v;const f=await this.getProvider();if(!((y=f==null?void 0:f.session)!=null&&y.namespaces))return[];const h=(v=(_=f==null?void 0:f.session)==null?void 0:_.namespaces[K.CHAIN.EVM])==null?void 0:v.accounts;return(h==null?void 0:h.map(w=>w.split(":")[2]))??[]},async getProvider({chainId:f}={}){var y,_;i||(i=await e.getUniversalProvider(),i==null||i.events.setMaxListeners(Number.POSITIVE_INFINITY));const h=se.getActiveNamespace(),g=(y=e.getCaipNetwork())==null?void 0:y.id;if(f&&g!==f&&h){const v=se.getStoredActiveCaipNetworkId(),w=e==null?void 0:e.getCaipNetworks(h),A=w==null?void 0:w.find(P=>P.id===v);A&&A.chainNamespace===K.CHAIN.EVM&&await((_=this.switchChain)==null?void 0:_.call(this,{chainId:Number(A.id)}))}return i},async getChainId(){var _,v,w,A;const f=(_=e.getCaipNetwork(K.CHAIN.EVM))==null?void 0:_.id;if(f)return f;const g=(A=(w=(v=(await this.getProvider()).session)==null?void 0:v.namespaces[K.CHAIN.EVM])==null?void 0:w.chains)==null?void 0:A[0],y=r.find(P=>P.id===g);return y==null?void 0:y.id},async isAuthorized(){try{const[f,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return f.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:f,chainId:h}){var _,v,w,A;const g=await this.getProvider();if(!g)throw new ao;const y=r.find(P=>P.id===h);if(!y)throw new is(new pf);try{await g.request({method:"wallet_switchEthereumChain",params:[{chainId:_e(h)}]}),y!=null&&y.caipNetworkId&&g.setDefaultChain(y==null?void 0:y.caipNetworkId),d.emitter.emit("change",{chainId:Number(h)});const P=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...P,h]),{...y,id:y.id}}catch(P){const R=P;if(/(?:user rejected)/iu.test(R.message))throw new ur(R);try{let D;f!=null&&f.blockExplorerUrls?D=f.blockExplorerUrls:D=(_=y.blockExplorers)!=null&&_.default.url?[(v=y.blockExplorers)==null?void 0:v.default.url]:[];const M=((A=(w=y.rpcUrls)==null?void 0:w.chainDefault)==null?void 0:A.http)||[],L={blockExplorerUrls:D,chainId:_e(h),chainName:y.name,iconUrls:f==null?void 0:f.iconUrls,nativeCurrency:y.nativeCurrency,rpcUrls:M};await g.request({method:"wallet_addEthereumChain",params:[L]});const $=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...$,h]),{...y,id:y.id}}catch(D){throw new ur(D)}}},onAccountsChanged(f){f.length===0?this.onDisconnect():d.emitter.emit("change",{accounts:f.map(h=>pa(h))})},onChainChanged(f){const h=Number(f);d.emitter.emit("change",{chainId:h})},onConnect(f){this.setRequestedChainsIds(r.map(h=>Number(h.id)))},async onDisconnect(f){this.setRequestedChainsIds([]),d.emitter.emit("disconnect");const h=await this.getProvider();s&&(h.removeListener("accountsChanged",s),s=void 0),o&&(h.removeListener("chainChanged",o),o=void 0),l&&(h.removeListener("disconnect",l),l=void 0),u&&(h.removeListener("session_delete",u),u=void 0),a||(a=this.onConnect.bind(this),h.on("connect",a))},onDisplayUri(f){d.emitter.emit("message",{type:"display_uri",data:f})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var g,y,_;if(!((g=i==null?void 0:i.session)!=null&&g.namespaces))return[];const f=(_=(y=i==null?void 0:i.session)==null?void 0:y.namespaces[K.CHAIN.EVM])==null?void 0:_.accounts;return(f==null?void 0:f.map(v=>Number.parseInt(v.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var h;const f=await((h=d.storage)==null?void 0:h.getItem(this.requestedChainsStorageKey))??[];return[...new Set(f)]},async isChainsStale(){if(!n)return!1;const f=d.chains.map(y=>y.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(y=>f.includes(y)))return!1;const g=await this.getRequestedChainsIds();return!f.every(y=>g.includes(Number(y)))},async setRequestedChainsIds(f){var h;await((h=d.storage)==null?void 0:h.setItem(this.requestedChainsStorageKey,f))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const Ml=ft({pendingTransactions:0}),I_={state:Ml,subscribeKey(t,e){return sn(Ml,t,e)},increase(t){Ml[t]+=1},decrease(t){Ml[t]-=1},reset(t){Ml[t]=0}};function hre(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}const pre={enable:!1,pollingInterval:3e4};class gre extends Tx{constructor(e){const r=bo.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super({projectId:e.projectId,networks:r}),this.adapterType="wagmi",this.balancePromises={},this.pendingTransactionsFilter={...pre,...e.pendingTransactionsFilter??{}},this.namespace=K.CHAIN.EVM,this.createConfig({...e,networks:r}),this.setupWatchers()}async getAccounts(e){var s;const r=this.getWagmiConnector(e.id);if(!r)return{accounts:[]};if(r.id===K.CONNECTOR_ID.AUTH){const o=r.provider,{address:a,accounts:c}=await o.connect();return Promise.resolve({accounts:(c||[{address:a,type:"eoa"}]).map(u=>he.createAccount("eip155",u.address,u.type))})}const{addresses:n,address:i}=v0(this.wagmiConfig);return Promise.resolve({accounts:(s=n||[i])==null?void 0:s.map(o=>he.createAccount("eip155",o||"","eoa"))})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(r=>r.id===e)}createConfig(e){this.caipNetworks=e.networks,this.wagmiChains=this.caipNetworks.filter(i=>i.chainNamespace===K.CHAIN.EVM);const r={},n=[...e.connectors??[]];this.wagmiChains.forEach(i=>{var a,c;const s=(a=e.transports)==null?void 0:a[i.id],o=bo.getCaipNetworkId(i);s?r[i.id]=bo.extendWagmiTransports(i,e.projectId,s):r[i.id]=bo.getViemTransport(i,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=xte({...e,chains:this.wagmiChains,connectors:n,transports:r})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=ote(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),I_.increase("pendingTransactions")}});const e=I_.subscribeKey("pendingTransactions",r=>{var n;r>=K.LIMITS.PENDING_TRANSACTIONS&&((n=this.unwatchPendingTransactions)==null||n.call(this),e())})}setupWatchers(){ite(this.wagmiConfig,{onChange:(e,r)=>{e.status==="disconnected"&&r.address&&this.emit("disconnect"),e.status==="connected"&&((e.address!==(r==null?void 0:r.address)||r.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId})),e.chainId!==(r==null?void 0:r.chainId)&&this.emit("switchNetwork",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){var n,i;const r=[];if(e.enableCoinbase!==!1)try{const{coinbaseWallet:s}=await hn(async()=>{const{coinbaseWallet:o}=await import("./index-BPGjbetB.js");return{coinbaseWallet:o}},[]);s&&r.push(s({version:"4",appName:((n=e.metadata)==null?void 0:n.name)??"Unknown",appLogoUrl:((i=e.metadata)==null?void 0:i.icons[0])??"Unknown",preference:e.coinbasePreference??"all"}))}catch(s){console.error("Failed to import Coinbase Wallet SDK:",s)}r.forEach(s=>{const o=this.wagmiConfig._internal.connectors.setup(s);this.wagmiConfig._internal.connectors.setState(a=>[...a,o])})}addWagmiConnectors(e,r){var o,a,c,u,l;const n=[];e.enableWalletConnect!==!1&&n.push(s2(e,r,this.caipNetworks)),e.enableInjected!==!1&&n.push(Tg({shimDisconnect:!0}));const i=((o=e.features)==null?void 0:o.email)===void 0?Mt.DEFAULT_FEATURES.email:(a=e.features)==null?void 0:a.email,s=(c=e.features)!=null&&c.socials?((l=(u=e.features)==null?void 0:u.socials)==null?void 0:l.length)>0:Mt.DEFAULT_FEATURES.socials;(i||s)&&n.push(fre({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),n.forEach(d=>{const f=this.wagmiConfig._internal.connectors.setup(d);this.wagmiConfig._internal.connectors.setState(h=>[...h,f])})}async signMessage(e){try{return{signature:await tte(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:r}=v0(this.wagmiConfig),n={account:e.address,to:e.to,value:e.value,gas:e.gas,gasPrice:e.gasPrice,data:e.data,chainId:r,type:"legacy"};await Zee(this.wagmiConfig,n);const i=await ete(this.wagmiConfig,n);return await ate(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:r,...n}=e,i=Number(Pd.caipNetworkIdToNumber(r.caipNetworkId));return{hash:await cte(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[i],chainId:i,address:n.tokenAddress,account:n.fromAddress,abi:n.abi,functionName:n.method,args:n.args,__mode:"prepared"})}}async getEnsAddress(e){const{name:r,caipNetwork:n}=e;try{if(!this.wagmiConfig)throw new Error("networkControllerClient:getApprovedCaipNetworksData - wagmiConfig is undefined");let i=!1,s=!1;return YP(r)&&(s=await xg.resolveReownName(r)||!1),n.id===1&&(i=await Qee(this.wagmiConfig,{name:dre(r),chainId:n.id})),{address:i||s||!1}}catch{return{address:!1}}}async estimateGas(e){try{return{gas:await qee(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return OJ(e.value,e.decimals)}formatUnits(e){return el(e.value,e.decimals)}async addWagmiConnector(e,r){var i;if(e.id===K.CONNECTOR_ID.AUTH||e.id===K.CONNECTOR_ID.WALLET_CONNECT)return;const n=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:vo.ConnectorExplorerIds[e.id],imageUrl:((i=r==null?void 0:r.connectorImages)==null?void 0:i[e.id])??e.icon,name:vo.ConnectorNamesMap[e.id]??e.name,imageId:vo.ConnectorImageIds[e.id],type:vo.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===K.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:n,chain:this.namespace,chains:[]})}async syncConnectors(e,r){ste(this.wagmiConfig,{onChange:n=>n.forEach(i=>this.addWagmiConnector(i,e))}),await Promise.all(this.wagmiConfig.connectors.map(n=>this.addWagmiConnector(n,e))),this.addWagmiConnectors(e,r),await this.addThirdPartyConnectors(e)}async syncConnection(e){const{id:r}=e,i=Ic(this.wagmiConfig).find(a=>a.connector.id===r),s=this.getWagmiConnector(r),o=await(s==null?void 0:s.getProvider());return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:o,type:i==null?void 0:i.connector.type,id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const r=this.getWalletConnectConnector();await r.authenticate();const n=this.getWagmiConnector("walletConnect");if(!n)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");return await m_(this.wagmiConfig,{connector:n,chainId:e?Number(e):void 0}),{clientId:await r.provider.client.core.crypto.getClientId()}}async connect(e){var u;const{id:r,provider:n,type:i,info:s,chainId:o}=e,a=this.getWagmiConnector(r);if(!a)throw new Error("connectionControllerClient:connectExternal - connector is undefined");n&&s&&a.id===K.CONNECTOR_ID.EIP6963&&((u=a.setEip6963Wallet)==null||u.call(a,{provider:n,info:s}));const c=await m_(this.wagmiConfig,{connector:a,chainId:o?Number(o):void 0});return{address:c.accounts[0],chainId:c.chainId,provider:n,type:i,id:r}}async reconnect(e){const{id:r}=e,n=this.getWagmiConnector(r);if(!n)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await Xee(this.wagmiConfig,{connectors:[n]})}async getBalance(e){var i;const r=e.address,n=(i=this.caipNetworks)==null?void 0:i.find(s=>s.id===e.chainId);if(!r)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(n&&this.wagmiConfig){const s=`${n.caipNetworkId}:${e.address}`,o=this.balancePromises[s];if(o)return o;const a=se.getNativeBalanceCacheForCaipAddress(s);return a?{balance:a.balance,symbol:a.symbol}:(this.balancePromises[s]=new Promise(async c=>{var d,f;const u=Number(e.chainId),l=await Gee(this.wagmiConfig,{address:e.address,chainId:u,token:(f=(d=e.tokens)==null?void 0:d[n.caipNetworkId])==null?void 0:f.address});se.updateNativeBalanceCache({caipAddress:s,balance:l.formatted,symbol:l.symbol,timestamp:Date.now()}),c({balance:l.formatted,symbol:l.symbol})}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}async getProfile(e){const r=e.chainId,n=await Jee(this.wagmiConfig,{address:e.address,chainId:r});if(n){const i=await Yee(this.wagmiConfig,{name:n,chainId:r});return{profileName:n,profileImage:i??void 0}}return{profileName:void 0,profileImage:void 0}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=Ic(this.wagmiConfig);await Promise.all(e.map(async r=>{const n=this.getWagmiConnector(r.connector.id);n&&await Hee(this.wagmiConfig,{connector:n})}))}async switchNetwork(e){await nte(this.wagmiConfig,{chainId:e.caipNetwork.id}),await super.switchNetwork(e)}async getCapabilities(e){var a,c;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const n=Ic(this.wagmiConfig)[0],i=n?this.getWagmiConnector(n.connector.id):null;if(!i)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(c=(a=s.session)==null?void 0:a.sessionProperties)==null?void 0:c.capabilities;if(o){const l=hre(o)[e];if(l)return l}return await s.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const n=Ic(this.wagmiConfig)[0],i=n?this.getWagmiConnector(n.connector.id):null;if(!i)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return s.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const n=Ic(this.wagmiConfig)[0],i=n?this.getWagmiConnector(n.connector.id):null;if(!i)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return s.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const n=Ic(this.wagmiConfig)[0],i=n?this.getWagmiConnector(n.connector.id):null;if(!i)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return s.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){this.addConnector(new t2({provider:e,caipNetworks:this.caipNetworks||[],namespace:"eip155"}))}}const eN="9ba0d4ac5db061b3efb559c91eabfef5",mre=[xx,Nx],yre=new gre({projectId:eN,networks:mre}),wre={name:"ProfitFlip",description:"AppKit Example",url:"https://reown.com/appkit",icons:["https://assets.reown.com/reown-profile-pic.png"]},vre=$ee({adapters:[yre],networks:[xx,Nx],metadata:wre,projectId:eN,features:{analytics:!0}});function bre(){return As.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center p-4",children:As.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full",children:[As.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:"ProfitFlip"}),As.jsx("div",{className:"space-y-4",children:As.jsxs("button",{onClick:()=>vre.open(),className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-3 px-4 rounded-lg hover:bg-indigo-700 transition-colors",children:[As.jsx(PP,{className:"w-5 h-5"}),"Connect Wallet"]})}),As.jsx("p",{className:"mt-6 text-sm text-gray-600 text-center",children:"Connect your wallet to start using ProfitFlip"})]})})}j5(document.getElementById("root")).render(As.jsx(Gc.StrictMode,{children:As.jsx(bre,{})}));export{mi as $,oe as A,Ere as B,pf as C,ue as D,ux as E,be as F,Are as G,sn as H,en as I,$G as J,wi as K,xne as L,or as M,He as N,J as O,Cne as P,qv as Q,xe as R,is as S,zr as T,ur as U,up as V,mt as W,od as X,wr as Y,I0 as Z,hn as _,ou as a,Ea as a0,_ne as a1,bx as a2,Wv as a3,Tu as a4,V as a5,Ub as a6,Jn as a7,MQ as a8,IY as a9,J8 as aa,Fa as ab,b8 as ac,ad,js as ae,s4 as af,nne as ag,ob as ah,Wp as ai,kf as aj,one as ak,sne as al,h$ as am,ine as an,wte as ao,v4 as ap,X0 as aq,N_ as ar,ti as as,yte as at,ye as b,Nne as c,xs as d,Mt as e,Sne as f,pa as g,K as h,Tg as i,he as j,We as k,qe as l,Ine as m,_e as n,Pn as o,U as p,Re as q,dp as r,lt as s,fee as t,se as u,ap as v,GC as w,Ane as x,q5 as y,ft as z};
